(this["webpackJsonp@smplrspace/studio"]=this["webpackJsonp@smplrspace/studio"]||[]).push([[22,23,35],{1e3:function(t,e,n){"use strict";var r=n(899),i=n(668);function o(t){this._concurrency=t&&t.concurrency||1,this._paused=t&&!!t.paused||!1,this._pool=[];for(var e=0;e<this._concurrency;e++)this._pool.push(new r(t));this._next=0}o.prototype.length=function(){for(var t=0,e=0;e<this._pool.length;e++)t+=this._pool[e].length();return t},o.prototype.push=function(t,e){var n=this._next,r=this._pool[n].push(t,e);return this._next=i(this._next+1,this._concurrency),r},o.prototype.pause=function(){if(!this._paused){this._paused=!0;for(var t=0;t<this._concurrency;t++)this._pool[t].pause()}},o.prototype.resume=function(){if(this._paused){this._paused=!1;for(var t=0;t<this._concurrency;t++)this._pool[t].resume()}},t.exports=o},1001:function(t,e,n){"use strict";function r(t){this._asset=t}r.prototype.asset=function(){return this._asset},r.prototype.loadAsset=function(t,e,n){var r=this,i=setTimeout((function(){n(null,e,r._asset)}),0);return function(){clearTimeout(i),n.apply(null,arguments)}},t.exports=r},1002:function(t,e,n){"use strict";var r=n(758),i=n(650),o=n(627),a=n(626);function s(t){this.constructor.super_.call(this,t),this._timestamp=0}i(s,r),o(s),s.prototype.destroy=function(){a(this)},s.prototype.timestamp=function(){return this._timestamp},s.prototype.isDynamic=function(){return!0},s.prototype.markDirty=function(){this._timestamp++,this.emit("change")},t.exports=s},1003:function(t,e,n){"use strict";var r=n(668),i=64;function o(t){if(null!=t&&(!isFinite(t)||Math.floor(t)!==t||t<1))throw new Error("Map: invalid capacity");this._capacity=t||i,this._keyBuckets=[],this._valBuckets=[];for(var e=0;e<this._capacity;e++)this._keyBuckets.push([]),this._valBuckets.push([]);this._size=0}o.prototype.get=function(t){for(var e=r(t.hash(),this._capacity),n=this._keyBuckets[e],i=0;i<n.length;i++){var o=n[i];if(t.equals(o))return this._valBuckets[e][i]}return null},o.prototype.set=function(t,e){for(var n=r(t.hash(),this._capacity),i=this._keyBuckets[n],o=this._valBuckets[n],a=0;a<i.length;a++){var s=i[a];if(t.equals(s)){var u=o[a];return i[a]=t,o[a]=e,u}}return i.push(t),o.push(e),this._size++,null},o.prototype.del=function(t){for(var e=r(t.hash(),this._capacity),n=this._keyBuckets[e],i=this._valBuckets[e],o=0;o<n.length;o++){var a=n[o];if(t.equals(a)){for(var s=i[o],u=o;u<n.length-1;u++)n[u]=n[u+1],i[u]=i[u+1];return n.length=n.length-1,i.length=i.length-1,this._size--,s}}return null},o.prototype.has=function(t){for(var e=r(t.hash(),this._capacity),n=this._keyBuckets[e],i=0;i<n.length;i++){var o=n[i];if(t.equals(o))return!0}return!1},o.prototype.size=function(){return this._size},o.prototype.clear=function(){for(var t=0;t<this._capacity;t++)this._keyBuckets[t].length=0,this._valBuckets[t].length=0;this._size=0},o.prototype.forEach=function(t){for(var e=0,n=0;n<this._capacity;n++)for(var r=this._keyBuckets[n],i=this._valBuckets[n],o=0;o<r.length;o++)t(r[o],i[o]),e+=1;return e},t.exports=o},1004:function(t,e,n){"use strict";var r=n(668);function i(t){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new Error("LruSet: invalid capacity");this._capacity=t,this._elements=new Array(this._capacity),this._start=0,this._size=0}i.prototype._index=function(t){return r(this._start+t,this._capacity)},i.prototype.add=function(t){if(0===this._capacity)return t;this.remove(t);var e=this._size===this._capacity?this._elements[this._index(0)]:null;return this._elements[this._index(this._size)]=t,this._size<this._capacity?this._size++:this._start=this._index(1),e},i.prototype.remove=function(t){for(var e=0;e<this._size;e++){var n=this._elements[this._index(e)];if(t.equals(n)){for(var r=e;r<this._size-1;r++)this._elements[this._index(r)]=this._elements[this._index(r+1)];return this._size--,n}}return null},i.prototype.has=function(t){for(var e=0;e<this._size;e++)if(t.equals(this._elements[this._index(e)]))return!0;return!1},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._elements.length=0,this._start=0,this._size=0},i.prototype.forEach=function(t){for(var e=0,n=0;n<this._size;n++)t(this._elements[this._index(n)]),e+=1;return e},t.exports=i},1005:function(t,e){(function(e){t.exports=e}).call(this,{})},1006:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(626);function a(t){if(!t)throw new Error("VelocityControlMethod: parameter must be defined");this._parameter=t,this._dynamics=new i}r(a),a.prototype.destroy=function(){o(this)},a.prototype.setVelocity=function(t){this._dynamics.velocity=t,this.emit("parameterDynamics",this._parameter,this._dynamics)},a.prototype.setFriction=function(t){this._dynamics.friction=t,this.emit("parameterDynamics",this._parameter,this._dynamics)},t.exports=a},1007:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(626);function a(t,e,n,r){if(!t)throw new Error("ElementPressControlMethod: element must be defined");if(!e)throw new Error("ElementPressControlMethod: parameter must be defined");if(!n)throw new Error("ElementPressControlMethod: velocity must be defined");if(!r)throw new Error("ElementPressControlMethod: friction must be defined");this._element=t,this._pressHandler=this._handlePress.bind(this),this._releaseHandler=this._handleRelease.bind(this),t.addEventListener("mousedown",this._pressHandler),t.addEventListener("mouseup",this._releaseHandler),t.addEventListener("mouseleave",this._releaseHandler),t.addEventListener("touchstart",this._pressHandler),t.addEventListener("touchmove",this._releaseHandler),t.addEventListener("touchend",this._releaseHandler),this._parameter=e,this._velocity=n,this._friction=r,this._dynamics=new i,this._pressing=!1}r(a),a.prototype.destroy=function(){this._element.removeEventListener("mousedown",this._pressHandler),this._element.removeEventListener("mouseup",this._releaseHandler),this._element.removeEventListener("mouseleave",this._releaseHandler),this._element.removeEventListener("touchstart",this._pressHandler),this._element.removeEventListener("touchmove",this._releaseHandler),this._element.removeEventListener("touchend",this._releaseHandler),o(this)},a.prototype._handlePress=function(){this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active")},a.prototype._handleRelease=function(){this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1},t.exports=a},1008:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(680),a=n(626);function s(t){t=t||{},this._methods=[],this._parameters=["x","y","axisScaledX","axisScaledY","zoom","yaw","pitch","roll"],this._now=t.nowForTesting||o,this._composedOffsets={},this._composeReturn={offsets:this._composedOffsets,changing:null}}r(s),s.prototype.add=function(t){if(!this.has(t)){var e={};this._parameters.forEach((function(t){e[t]={dynamics:new i,time:null}}));var n=this._updateDynamics.bind(this,e),r={instance:t,dynamics:e,parameterDynamicsHandler:n};t.addEventListener("parameterDynamics",n),this._methods.push(r)}},s.prototype.remove=function(t){var e=this._indexOfInstance(t);if(e>=0){var n=this._methods.splice(e,1)[0];n.instance.removeEventListener("parameterDynamics",n.parameterDynamicsHandler)}},s.prototype.has=function(t){return this._indexOfInstance(t)>=0},s.prototype._indexOfInstance=function(t){for(var e=0;e<this._methods.length;e++)if(this._methods[e].instance===t)return e;return-1},s.prototype.list=function(){for(var t=[],e=0;e<this._methods.length;e++)t.push(this._methods[e].instance);return t},s.prototype._updateDynamics=function(t,e,n){var r=t[e];if(!r)throw new Error("Unknown control parameter "+e);var i=this._now();r.dynamics.update(n,(i-r.time)/1e3),r.time=i,this.emit("change")},s.prototype._resetComposedOffsets=function(){for(var t=0;t<this._parameters.length;t++)this._composedOffsets[this._parameters[t]]=0},s.prototype.offsets=function(){var t,e=!1,n=this._now();this._resetComposedOffsets();for(var r=0;r<this._methods.length;r++)for(var i=this._methods[r].dynamics,o=0;o<this._parameters.length;o++){var a=i[t=this._parameters[o]],s=a.dynamics;null!=s.offset&&(this._composedOffsets[t]+=s.offset,s.offset=null);var u=(n-a.time)/1e3,c=s.offsetFromVelocity(u);c&&(this._composedOffsets[t]+=c);var l=s.velocityAfter(u);s.velocity=l,l&&(e=!0),a.time=n}return this._composeReturn.changing=e,this._composeReturn},s.prototype.destroy=function(){for(var t=this.list(),e=0;e<t.length;e++)this.remove(t[e]);a(this)},t.exports=s},1009:function(t,e,n){"use strict";var r=n(627),i=n(921),o=n(929),a=n(930),s=n(1010),u=n(898),c=n(1011),l=n(724),h=n(934),f=n(910),p=n(639).setOverflowHidden,d=n(639).setAbsolute,m=n(639).setFullSize,v=n(935),y=n(699),_=n(626);function g(t,e){e=e||{},this._domElement=t,p(t),this._stage=new u(e.stage),f(this._stage),this._domElement.appendChild(this._stage.domElement()),this._controlContainer=document.createElement("div"),d(this._controlContainer),m(this._controlContainer),t.appendChild(this._controlContainer),this._size={},this.updateSize(),this._updateSizeListener=this.updateSize.bind(this),window.addEventListener("resize",this._updateSizeListener),this._renderLoop=new i(this._stage),this._controls=new o,this._controlMethods=h(this._controls,this._controlContainer,e.controls),this._controls.attach(this._renderLoop),this._hammerManagerTouch=l.get(this._controlContainer,"touch"),this._hammerManagerMouse=l.get(this._controlContainer,"mouse"),this._dragCursor=new c(this._controls,"mouseViewDrag",t,e.cursors&&e.cursors.drag||{}),this._renderLoop.start(),this._scenes=[],this._currentScene=null,this._replacedScene=null,this._cancelCurrentTween=null,this._layerChangeHandler=this._updateSceneLayers.bind(this),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._idleTimer=new s,this._idleTimer.start(),this._resetIdleTimerHandler=this._resetIdleTimer.bind(this),this.addEventListener("viewChange",this._resetIdleTimerHandler),this._triggerIdleTimerHandler=this._triggerIdleTimer.bind(this),this._idleTimer.addEventListener("timeout",this._triggerIdleTimerHandler),this._stopMovementHandler=this.stopMovement.bind(this),this._controls.addEventListener("active",this._stopMovementHandler),this.addEventListener("sceneChange",this._stopMovementHandler),this._idleMovement=null}r(g),g.prototype.destroy=function(){for(var t in window.removeEventListener("resize",this._updateSizeListener),this._currentScene&&this._removeSceneEventListeners(this._currentScene),this._replacedScene&&this._removeSceneEventListeners(this._replacedScene),this._dragCursor.destroy(),this._controlMethods)this._controlMethods[t].destroy();for(;this._scenes.length;)this.destroyScene(this._scenes[0]);this._domElement.removeChild(this._stage.domElement()),this._stage.destroy(),this._renderLoop.destroy(),this._controls.destroy(),this._controls=null,this._cancelCurrentTween&&this._cancelCurrentTween(),_(this)},g.prototype.updateSize=function(){var t=this._size;t.width=this._domElement.clientWidth,t.height=this._domElement.clientHeight,this._stage.setSize(t)},g.prototype.stage=function(){return this._stage},g.prototype.renderLoop=function(){return this._renderLoop},g.prototype.controls=function(){return this._controls},g.prototype.domElement=function(){return this._domElement},g.prototype.createScene=function(t){t=t||{};var e=this.createEmptyScene({view:t.view});return e.createLayer({source:t.source,geometry:t.geometry,pinFirstLevel:t.pinFirstLevel,textureStoreOpts:t.textureStoreOpts,layerOpts:t.layerOpts}),e},g.prototype.createEmptyScene=function(t){var e=new a(this,(t=t||{}).view);return this._scenes.push(e),e},g.prototype._updateSceneLayers=function(){var t,e,n=this._stage,r=this._currentScene,i=this._replacedScene,o=n.listLayers(),a=[];if(i&&(a=a.concat(i.listLayers())),r&&(a=a.concat(r.listLayers())),1!==Math.abs(o.length-a.length))throw new Error("Stage and scene out of sync");if(a.length<o.length)for(t=0;t<o.length;t++)if(e=o[t],a.indexOf(e)<0){this._removeLayerFromStage(e);break}if(a.length>o.length)for(t=0;t<a.length;t++)e=a[t],o.indexOf(e)<0&&this._addLayerToStage(e,t)},g.prototype._addLayerToStage=function(t,e){t.pinFirstLevel(),this._stage.addLayer(t,e)},g.prototype._removeLayerFromStage=function(t){this._stage.removeLayer(t),t.unpinFirstLevel(),t.textureStore().clearNotPinned()},g.prototype._addSceneEventListeners=function(t){t.addEventListener("layerChange",this._layerChangeHandler),t.addEventListener("viewChange",this._viewChangeHandler)},g.prototype._removeSceneEventListeners=function(t){t.removeEventListener("layerChange",this._layerChangeHandler),t.removeEventListener("viewChange",this._viewChangeHandler)},g.prototype.destroyScene=function(t){var e,n,r=this._scenes.indexOf(t);if(r<0)throw new Error("No such scene in viewer");if(this._currentScene===t){for(this._removeSceneEventListeners(t),n=t.listLayers(),e=0;e<n.length;e++)this._removeLayerFromStage(n[e]);this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null),this._currentScene=null,this.emit("sceneChange")}if(this._replacedScene===t){for(this._removeSceneEventListeners(t),n=t.listLayers(),e=0;e<n.length;e++)this._removeLayerFromStage(n[e]);this._replacedScene=null}this._scenes.splice(r,1),t.destroy()},g.prototype.destroyAllScenes=function(){for(;this._scenes.length>0;)this.destroyScene(this._scenes[0])},g.prototype.hasScene=function(t){return this._scenes.indexOf(t)>=0},g.prototype.listScenes=function(){return[].concat(this._scenes)},g.prototype.scene=function(){return this._currentScene},g.prototype.view=function(){var t=this._currentScene;return t?t.view():null},g.prototype.lookTo=function(t,e,n){var r=this._currentScene;r&&r.lookTo(t,e,n)},g.prototype.startMovement=function(t,e){var n=this._currentScene;n&&n.startMovement(t,e)},g.prototype.stopMovement=function(){var t=this._currentScene;t&&t.stopMovement()},g.prototype.movement=function(){var t=this._currentScene;if(t)return t.movement()},g.prototype.setIdleMovement=function(t,e){this._idleTimer.setDuration(t),this._idleMovement=e},g.prototype.breakIdleMovement=function(){this.stopMovement(),this._resetIdleTimer()},g.prototype._resetIdleTimer=function(){this._idleTimer.start()},g.prototype._triggerIdleTimer=function(){var t=this._idleMovement;t&&this.startMovement(t)};function b(t,e,n){e.listLayers().forEach((function(e){e.mergeEffects({opacity:t})})),e._hotspotContainer.domElement().style.opacity=t}g.prototype.switchScene=function(t,e,n){var r=this;e=e||{},n=n||y;var i=this._stage,o=this._currentScene;if(o!==t){if(this._scenes.indexOf(t)<0)throw new Error("No such scene in viewer");this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null);var a=o?o.listLayers():[],s=t.listLayers(),u=i.listLayers();if(o&&(u.length!==a.length||u.length>1&&u[0]!=a[0]))throw new Error("Stage not in sync with viewer");for(var c=null!=e.transitionDuration?e.transitionDuration:1e3,l=null!=e.transitionUpdate?e.transitionUpdate:b,h=0;h<s.length;h++)this._addLayerToStage(s[h]);this._cancelCurrentTween=v(c,(function(e){l(e,t,o)}),(function(){if(r._replacedScene){r._removeSceneEventListeners(r._replacedScene),a=r._replacedScene.listLayers();for(var t=0;t<a.length;t++)r._removeLayerFromStage(a[t]);r._replacedScene=null}r._cancelCurrentTween=null,n()})),this._currentScene=t,this._replacedScene=o,this.emit("sceneChange"),this.emit("viewChange"),this._addSceneEventListeners(t)}else n()},t.exports=g},1010:function(t,e,n){"use strict";var r=n(627),i=n(651),o=n(680),a={duration:1/0};function s(t){t=i(t||{},a),this._duration=t.duration,this._startTime=null,this._handle=null,this._check=this._check.bind(this)}r(s),s.prototype.start=function(){this._startTime=o(),null==this._handle&&this._duration<1/0&&this._setup(this._duration)},s.prototype.started=function(){return null!=this._startTime},s.prototype.stop=function(){this._startTime=null,null!=this._handle&&(clearTimeout(this._handle),this._handle=null)},s.prototype._setup=function(t){this._handle=setTimeout(this._check,t)},s.prototype._teardown=function(){clearTimeout(this._handle),this._handle=null},s.prototype._check=function(){var t=o()-this._startTime,e=this._duration-t;this._teardown(),e<=0?(this.emit("timeout"),this._startTime=null):e<1/0&&this._setup(e)},s.prototype.duration=function(){return this._duration},s.prototype.setDuration=function(t){this._duration=t,null!=this._startTime&&this._check()},t.exports=s},1011:function(t,e,n){"use strict";var r=n(651),i=n(626),o={active:"move",inactive:"default",disabled:"default"};function a(t,e,n,i){i=r(i||{},o),this._element=n,this._controls=t,this._id=e,this._attached=!1,this._setActiveCursor=this._setCursor.bind(this,i.active),this._setInactiveCursor=this._setCursor.bind(this,i.inactive),this._setDisabledCursor=this._setCursor.bind(this,i.disabled),this._setOriginalCursor=this._setCursor.bind(this,this._element.style.cursor),this._updateAttachmentHandler=this._updateAttachment.bind(this),t.addEventListener("methodEnabled",this._updateAttachmentHandler),t.addEventListener("methodDisabled",this._updateAttachmentHandler),t.addEventListener("enabled",this._updateAttachmentHandler),t.addEventListener("disabled",this._updateAttachmentHandler),this._updateAttachment()}a.prototype.destroy=function(){this._detachFromControlMethod(this._controls.method(this._id)),this._setOriginalCursor(),this._controls.removeEventListener("methodEnabled",this._updateAttachmentHandler),this._controls.removeEventListener("methodDisabled",this._updateAttachmentHandler),this._controls.removeEventListener("enabled",this._updateAttachmentHandler),this._controls.removeEventListener("disabled",this._updateAttachmentHandler),i(this)},a.prototype._updateAttachment=function(){var t=this._controls,e=this._id;t.enabled()&&t.method(e).enabled?this._attachToControlMethod(t.method(e)):this._detachFromControlMethod(t.method(e))},a.prototype._attachToControlMethod=function(t){this._attached||(t.instance.addEventListener("active",this._setActiveCursor),t.instance.addEventListener("inactive",this._setInactiveCursor),t.active?this._setActiveCursor():this._setInactiveCursor(),this._attached=!0)},a.prototype._detachFromControlMethod=function(t){this._attached&&(t.instance.removeEventListener("active",this._setActiveCursor),t.instance.removeEventListener("inactive",this._setInactiveCursor),this._setDisabledCursor(),this._attached=!1)},a.prototype._setCursor=function(t){this._element.style.cursor=t},t.exports=a},1012:function(t,e,n){"use strict";var r=n(633).vec4,i=n(633).mat4;function o(t,e,n){!function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];t[0]=n[0]*r+n[1]*i+n[2]*o+n[3]*a,t[1]=n[4]*r+n[5]*i+n[6]*o+n[7]*a,t[2]=n[8]*r+n[9]*i+n[10]*o+n[11]*a,t[3]=n[12]*r+n[13]*i+n[14]*o+n[15]*a}(n,t,e.colorMatrix),r.add(n,n,e.colorOffset)}var a=r.create();t.exports={identity:function(t){var e=t||{};return e.colorOffset=e.colorOffset||r.create(),e.colorMatrix=e.colorMatrix||i.create(),e},applyToPixel:o,applyToImageData:function(t,e){for(var n=t.width,i=t.height,s=t.data,u=0;u<n*i;u++)r.set(a,s[4*u+0]/255,s[4*u+1]/255,s[4*u+2]/255,s[4*u+3]/255),o(a,e,a),s[4*u+0]=255*a[0],s[4*u+1]=255*a[1],s[4*u+2]=255*a[2],s[4*u+3]=255*a[3]}}},1013:function(t,e,n){"use strict";var r=n(651),i={yawSpeed:.1,pitchSpeed:.1,fovSpeed:.1,yawAccel:.01,pitchAccel:.01,fovAccel:.01,targetPitch:0,targetFov:null};t.exports=function(t){var e=(t=r(t||{},i)).yawSpeed,n=t.pitchSpeed,o=t.fovSpeed,a=t.yawAccel,s=t.pitchAccel,u=t.fovAccel,c=t.targetPitch,l=t.targetFov;return function(){var t,r,i,h,f=0,p=0,d=0,m=0,v=0,y=0,_=0;return function(g,b){if(t=(b-f)/1e3,v=Math.min(p+t*a,e),r=v*t,g.yaw=g.yaw+r,null!=c&&g.pitch!==c){var w=.5*d*d/s;y=Math.abs(c-g.pitch)>w?Math.min(d+t*s,n):Math.max(d-t*s,0),i=y*t,c<g.pitch&&(g.pitch=Math.max(c,g.pitch-i)),c>g.pitch&&(g.pitch=Math.min(c,g.pitch+i))}if(null!=l&&g.fov!==c){var x=.5*m*m/u;_=Math.abs(l-g.fov)>x?Math.min(m+t*u,o):Math.max(m-t*u,0),h=_*t,l<g.fov&&(g.fov=Math.max(l,g.fov-h)),l>g.fov&&(g.fov=Math.min(l,g.fov+h))}return f=b,p=v,d=y,m=_,g}}}},1014:function(t,e,n){"use strict";t.exports=function(t,e){setTimeout((function(){e&&e.length>0?t.apply(null,e):t()}),0)}},1015:function(t,e,n){"use strict";t.exports=function(t){return t*Math.PI/180}},1016:function(t,e,n){"use strict";t.exports=function(t){return 180*t/Math.PI}},1073:function(t,e,n){"use strict";n.r(e);var r=n(678),i=n(664),o=n(623),a=n(126),s=n(4),u=n.n(s),c=n(66),l=n(667),h=n(124),f=n(151),p=n(369),d=n(234),m=n(580),v=n(375),y=n.n(v),_=n(756),g=n.n(_),b=n(334),w=n(725),x=n(143),E=n.n(x),M=n(503),C=n(693),O=n(181),T=n(897),S=n.n(T),P=n(111),k=n(241),j=n(628),L=n(799),A=n(104),R=n(703),I=n(587),N=n(636);function D(){var t=Object(a.a)(["\n  position: absolute;\n  bottom: 25px;\n  right: 5px;\n  z-index: 99;\n  width: max-content;\n  min-width: 200px;\n  max-width: min(85vw, 620px);\n  background-color: ",";\n  border-radius: 4px;\n  font-size: 14px; // cancel out poweredby font-size\n  transform: scale(",");\n  transform-origin: bottom right;\n  opacity: ",";\n  user-select: text;\n"]);return D=function(){return t},t}var z=Object(c.default)(A.Flex).attrs({flexDirection:"column",alignItems:"flex-start",p:"1em"})(D(),(function(t){return t.theme.white}),(function(t){return t.opened?1:0}),(function(t){return t.opened?1:0})),H=function(t){var e=t.space,n=t.mode,r=t.setMode,i=t.viaIframe,a=(t.viaSmplrJs,t.noLink),c=t.allowModeChange,l=t.showPoweredBy,h=t.openLegalModal,f=Object(s.useState)(!1),p=Object(o.a)(f,2),d=p[0],m=p[1],v=Object(s.useState)(!1),y=Object(o.a)(v,2),_=y[0],g=y[1],b=e.builtup_sqft,w=e.land_area_sqft,x=e.description,E=e.sandbox_enabled;return u.a.createElement(s.Fragment,null,u.a.createElement(N.a,{type:"link",onClick:function(){return m(!d)}},d?u.a.createElement("span",null,"\u2212info"):u.a.createElement("span",null,"+info")),u.a.createElement(z,{opened:d},u.a.createElement("h4",null,e.name),u.a.createElement(A.Flex,{flexDirection:"column",style:{maxHeight:"35vh",overflow:"scroll"}},x&&u.a.createElement(A.Box,{mt:1},x),(w||b)&&u.a.createElement(A.Box,{mt:x?2:0},w&&"Land area: ".concat(w," sqft"),w&&b&&" - ",b&&"Built up: ".concat(b," sqft"))),!a&&u.a.createElement(A.Box,{mt:1},u.a.createElement(R.CopyToClipboard,{text:e.short_code?"".concat("https://smplr.me/").concat(e.short_code):"".concat(window.location.origin,"/space/").concat(e.id),onCopy:function(t){g(!0),setTimeout((function(){g(!1)}),1500)}},u.a.createElement(N.a,{type:"link"},_?"Link copied":"Copy link"))),E&&u.a.createElement(A.Box,{mt:1},i?u.a.createElement("a",{href:"/sandbox/".concat(e.id),target:"_blank",rel:"noopener",className:"customlink"},"Modify space in the sandbox"):u.a.createElement(I.b,{to:"/sandbox/".concat(e.id),className:"customlink"},"Modify space in the sandbox")),c&&u.a.createElement(N.a,{type:"link",onClick:function(){return r("2d"===n?"3d":"2d")}},"View in ","2d"===n?"3D":"2D"),u.a.createElement(N.a,{type:"link",onClick:h},"Terms and attributions"),l&&u.a.createElement(A.Flex,null,"Powered by",u.a.createElement("a",{href:"https://www.smplrspace.com",target:"_blank",rel:"noopener"},"Smplrspace"))))},F=n(800),U=n(657),B=n(125),q=n(619),W=n(254),V=n(499),X=n(479);function Y(){var t=Object(a.a)(["\n  query getAttributions($objectIds: [uuid!]!) {\n    objects(where: { id: { _in: $objectIds } }) {\n      id\n      name\n      attributions\n    }\n  }\n"]);return Y=function(){return t},t}var G=y()(Y()),K=function(t){var e=t.objectIds,n=Object(j.useGqlAnonymousQuery)((function(){return[G,{objectIds:e}]}),{suspense:!0}).data.objects.filter((function(t){return!Object(f.a)(t.attributions)}));return 0===n.length?"None":u.a.createElement(s.Fragment,null,n.map((function(t){return u.a.createElement("p",{key:t.id,dangerouslySetInnerHTML:{__html:t.attributions}})})))},$=function(t){var e=t.space,n=t.mode,r=[];return e&&(r=Object(B.a)(q.a,Object(W.a)("catalogId"),V.a,Object(W.a)("objects"),Object(X.a)("levels"))(e.definition)),u.a.createElement("div",null,u.a.createElement("h3",null,"Terms of use"),u.a.createElement("p",null,"Please refer to our"," ",u.a.createElement("a",{href:"https://www.smplrspace.com/terms",target:"_blank",className:"customlink"},"terms page")," ","for the full terms and conditions of using Smplrspace."),u.a.createElement("h3",null,"Privacy policy"),u.a.createElement("p",null,"For details on our handling of your information, please refer to our"," ",u.a.createElement("a",{href:"https://www.smplrspace.com/privacy",target:"_blank",className:"customlink"},"privacy policy"),". You may also reach out to us at"," ",u.a.createElement("a",{href:"mailto:privacy@smplrspace.com",className:"customlink"},"privacy@smplrspace.com")," ","for questions regarding data handling."),r.length>0&&"3d"===n&&u.a.createElement(s.Fragment,null,u.a.createElement("h3",null,"Attributions"),u.a.createElement(s.Suspense,{fallback:u.a.createElement(U.a,null)},u.a.createElement(K,{objectIds:r}))))},Z=n(661),Q=n(9),J=n(10),tt=n(40),et=n(42),nt=n(22),rt=n(984),it=n(500),ot=n(123),at=n(269),st=n(145),ut=n(579),ct=n(158),lt=n(578),ht=n(157),ft=n(603),pt=n(653),dt=n(5);function mt(){var t=Object(a.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding-bottom: 66%;\n  outline: none;\n  user-select: none;\n  -webkit-touch-callout: none;\n"]);return mt=function(){return t},t}var vt=c.default.div(mt());var yt=function(t){Object(tt.a)(n,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(nt.a)(t);if(e()){var i=Object(nt.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(et.a)(this,n)}}(n);function n(){return Object(Q.a)(this,n),e.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(this.panoViewer=new rt.Viewer(this.element),this.props.src){var e=rt.ImageUrlSource.fromString(this.props.src),n=new rt.EquirectGeometry([{width:1024}]),r=rt.RectilinearView.limit.traditional(1024,100*Math.PI/180),i=new rt.RectilinearView({},r);this.panoViewer.createScene({source:e,geometry:n,view:i,pinFirstLevel:!0}).switchTo()}else if(this.props.spots){var o=Object(B.a)(it.a,it.a,Object(ot.a)((function(e){return e.segments.map((function(e){var n=new pt.f(e.start.r,e.start.t),r=new pt.f(e.end.r,e.end.t),i=r.$subtract(n).unit();if(Object(at.a)(e.openings))return[new pt.d(n,r)];var o=Object(B.a)(Object(st.a)((function(e,o){var a,s,u=Object(dt.a)((o.dimensions.width||t.props.defaults["".concat(o.type,"Width")])/2);return"start"===o.position.from?(a=n.$add(i.$multiply(o.position.distance-u)),s=n.$add(i.$multiply(o.position.distance+u))):(a=r.$subtract(i.$multiply(o.position.distance+u)),s=r.$subtract(i.$multiply(o.position.distance-u))),[].concat(Object(Z.a)(Object(ut.a)(e)),[new pt.d(Object(ct.a)(e)[0],a),new pt.d(s)])}),[new pt.d(n)]),Object(lt.a)((function(t){return"start"===t.position.from?t.position.distance:Object(dt.o)(e.start,e.end)-t.position.distance})),Object(p.a)((function(e){return"door"===e.type||(e.dimensions.baseHeight||t.props.defaults.windowBaseHeight)<50})))(e.openings);return[].concat(Object(Z.a)(Object(ut.a)(o)),[new pt.d(Object(ct.a)(o)[0],r)])}))})),Object(ht.a)((function(t){return t.options.height&&t.options.height<50})))(this.props.walls),a=this.props.spots.map((function(e){var n=rt.ImageUrlSource.fromString(e.media),r=new rt.EquirectGeometry([{width:1024}]),i=rt.RectilinearView.limit.traditional(1024,100*Math.PI/180),s=new rt.RectilinearView({},i),u=t.panoViewer.createScene({source:n,geometry:r,view:s,pinFirstLevel:!0});return Object(B.a)(Object(ht.a)((function(t){var n=new pt.d(new pt.f(e.r,e.t),new pt.f(t.r,t.t));return pt.e.intersectLines2D([n],o).length>0})),Object(ht.a)(Object(ft.a)("id",e.id)))(t.props.spots).forEach((function(n){var r=document.createElement("div");r.style.width="30px",r.style.height="30px",r.style.borderRadius="50%",r.style.backgroundColor=E()(P.d.lightgrey).alpha(.6).css(),r.style.border="solid 3px ".concat(P.d.black),r.style.cursor="pointer",function(t){for(var e=["touchstart","touchmove","touchend","touchcancel","wheel","mousewheel"],n=0;n<e.length;n++)t.addEventListener(e[n],(function(t){t.stopPropagation()}))}(r),r.addEventListener("click",(function(){var e=a.find((function(t){return t.spot.id===n.id})).scene;t.panoViewer.switchScene(e)}));var i=Math.atan((n.r-e.r)/-(n.t-e.t))+(-(n.t-e.t)<0?Math.PI:0)-Object(dt.c)(e.direction||0),o=Math.atan(1/Object(dt.o)(e,n));u.hotspotContainer().createHotspot(r,{yaw:i,pitch:o})})),{scene:u,spot:e}}));this.panoViewer.switchScene(a.find((function(e){return e.spot.id===t.props.startSpotId})).scene)}}},{key:"render",value:function(){var t=this;return u.a.createElement(vt,{ref:function(e){return t.element=e}})}}]),n}(u.a.Component);function _t(){var t=Object(a.a)(["\n  mutation viewSpace(\n    $spaceId: uuid!\n    $userAgent: String!\n    $iframe: Boolean!\n    $smplrjs: Boolean!\n    $sandbox: Boolean!\n    $referrer: String\n  ) {\n    insert_views(\n      objects: {\n        space_id: $spaceId\n        user_agent: $userAgent\n        referrer: $referrer\n        via_iframe: $iframe\n        via_smplrjs: $smplrjs\n        sandbox: $sandbox\n      }\n    ) {\n      returning {\n        space {\n          id\n          name\n          description\n          definition\n          saved_definition\n          schema_version\n          anonymous\n          builtup_sqft\n          land_area_sqft\n          short_code\n          sandbox_enabled\n          updated_at\n        }\n      }\n    }\n  }\n"]);return _t=function(){return t},t}function gt(){var t=Object(a.a)(["\n  width: 100%;\n  height: ","; /* fallback for browsers that do not support custom properties */\n  height: ",";\n  overflow: hidden;\n  position: relative;\n"]);return gt=function(){return t},t}n.d(e,"viewSpace",(function(){return wt}));var bt=c.default.div(gt(),(function(t){return t.viaSmplrJs?"100%":"100vh"}),(function(t){return t.viaSmplrJs?"100%":"calc(var(--vh, 1vh) * 100)"})),wt=y()(_t());e.default=C.c((function(t){var e=t.match,n=t.defaultMode,a=void 0===n?"3d":n,v=t.referrer,y=t.clearReferrerFromUrl,_=void 0===y?function(){}:y,x=t.viaIframe,C=void 0!==x&&x,T=t.viaSmplrJs,A=void 0!==T&&T,R=t.spaceId,I=t.preview,N=t.showFpsMeter,D=t.renderOptions,z=void 0===D?{}:D,U=t.noLink,B=t.allowModeChange,q=void 0===B||B,W=t.initialCameraPlacement,V=t.disableCameraControls,X=t.hideNavigationButtons,Y=t.controlledCompass,G=t.controlledAnnotations,K=t.onError,Z=void 0===K?function(){}:K,Q=t.onSceneReady,J=void 0===Q?function(){}:Q,tt=t.onModeChange,et=void 0===tt?function(){}:tt,nt=R||e.params.spaceId,rt=Object(j.useGqlAnonymousQuery)((function(){return[wt,{spaceId:g()(nt)?nt:"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",userAgent:window.navigator.userAgent,iframe:C,smplrjs:A,referrer:v,sandbox:!1}]}),{retry:!1,onSuccess:function(){_()},onError:function(t){Object(h.a)("views_space_id_fkey",t.toString())?Z("Space id is not valid"):Z(t)}}),it=rt.status,ot=rt.data,at=Object(s.useState)(a),st=Object(o.a)(at,2),ut=st[0],ct=st[1];Object(s.useEffect)((function(){ct(a)}),[a]);var lt=Object(s.useRef)(!1);Object(s.useEffect)((function(){lt.current=!1}),[a]);Object(s.useEffect)((function(){(ut!==a||lt.current)&&(lt.current=!0,et(ut))}),[ut]);var ht=Object(s.useState)(!0),ft=Object(o.a)(ht,2),pt=ft[0],dt=ft[1],mt=Object(L.b)(!1),vt=Object(o.a)(mt,2),_t=vt[0],gt=vt[1],xt=Object(o.a)(ot.insert_views.returning,1)[0].space;Object(s.useEffect)((function(){xt&&O.a.logger.info("Viewing space: ".concat(xt.name),{space:xt.id})}),[xt]);if(!xt)return u.a.createElement(k.b,{message:"NOT_AVAILABLE"});var Et=(I?xt.saved_definition:xt.definition)||b.virginSpace;"string"===typeof Et&&(Et=JSON.parse(Et)),z.flip&&(Et=Object(b.flipSpace)(Et));var Mt=z.backgroundColor;return u.a.createElement(c.ThemeProvider,{theme:P.d},u.a.createElement(bt,{viaSmplrJs:A},A?u.a.createElement(P.b,null):u.a.createElement(P.c,null),!A&&u.a.createElement(l.Helmet,null,u.a.createElement("title",null,xt.name," - Smplrspace")),Object(b.isIE)()&&u.a.createElement("div",{style:{position:"fixed",top:0,left:0,padding:8,zIndex:9999}},u.a.createElement(r.a,{message:"Your browser is not supported, please try a newer one for a better experience.",type:"warning"})),u.a.createElement(b.default,{mode:ut,renderOptions:Object(d.a)(z,Mt&&E.a.valid(Mt)?{filter:{background:{clearColor:E()(Mt).hex()}}}:{}),filterHash:Mt,skyboxEnabled:!Mt,space:Et,showLevels:Object(m.a)(0,Et.levels.length),hash:"",objectsHash:"",usePlaceholders:!0,loading:"loading"===it,sceneOnly:!1,initialCamera:_t,initialCameraPlacement:W,disableCameraControls:V,hideNavigationButtons:X,controlledCompass:Y,controlledAnnotations:G,onSceneReady:function(t){gt(t),J(t)},onAnnotationClicked:function(t){var e=t.annotation,n=t.levelIndex;if(e.media&&Object(h.a)(".jpg",e.media))if(e.is360){var r=Object(p.a)((function(t){return t.is360}))(Et.levels[n].annotations);1===r.length?i.a.info({title:e.name,content:u.a.createElement("div",null,u.a.createElement("p",null,"Drag the photo below to explore in 360 degrees."),u.a.createElement(yt,{src:e.media})),icon:!1,maskClosable:!0,width:560,getContainer:document.getElementsByClassName("smplr__antd_scope")[0]}):i.a.info({title:e.name,content:u.a.createElement("div",null,u.a.createElement("p",null,"Explore & navigate this virtual tour in 360 degrees."),u.a.createElement(yt,{spots:r,startSpotId:e.id,walls:Et.levels[n].walls,defaults:Et.defaults})),icon:!1,maskClosable:!0,width:560,getContainer:document.getElementsByClassName("smplr__antd_scope")[0]})}else i.a.info({title:e.name,content:u.a.createElement("img",{src:e.media,alt:"annotation media",style:{width:"100%"}}),icon:!1,maskClosable:!0,width:560,getContainer:document.getElementsByClassName("smplr__antd_scope")[0]})},onResize:function(t){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),Object(f.a)(pt)&&window.dispatchEvent(new Event("resize")),dt(t.width<=500)},isDevMode:!1,viaIframe:C,viaSmplrJs:A,getGqlClient:j.getClient,Sentry:M}),u.a.createElement(F.a,{rollBrandInMenu:pt,extras:u.a.createElement(H,{space:xt,mode:ut,setMode:ct,viaIframe:C,viaSmplrJs:A,noLink:U,allowModeChange:q,openLegalModal:function(){return function(t){var e=t.space,n=t.mode;i.a.info({icon:!1,content:u.a.createElement($,{space:e,mode:n}),maskClosable:!0,getContainer:document.getElementsByClassName("smplr__antd_scope")[0]})}({space:xt,mode:ut})},showPoweredBy:pt})}),u.a.createElement(w.ReactQueryDevtools,{initialIsOpen:!1,toggleButtonProps:{style:{margin:0,right:5,bottom:25,left:"",zIndex:98,textShadow:"none"}}}),N&&u.a.createElement(S.a,null)))}),{includeRender:!1})},213:function(t,e,n){"use strict";var r=!0,i="Invariant failed";e.a=function(t,e){if(!t)throw r?new Error(i):new Error(i+": "+(e||""))}},236:function(t,e,n){"use strict";var r=n(109);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],a=t&&i(t),s=e&&i(e),u=a||s;if(t&&i(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c=void 0;if(r.length){var l=r[r.length-1];c="."===l||".."===l||""===l}else c=!1;for(var h=0,f=r.length;f>=0;f--){var p=r[f];"."===p?o(r,f):".."===p?(o(r,f),h++):h&&(o(r,f),h--)}if(!u)for(;h--;h)r.unshift("..");!u||""===r[0]||r[0]&&i(r[0])||r.unshift("");var d=r.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));var r="undefined"===typeof e?"undefined":s(e);if(r!==("undefined"===typeof n?"undefined":s(n)))return!1;if("object"===r){var i=e.valueOf(),o=n.valueOf();if(i!==e||o!==n)return t(i,o);var a=Object.keys(e),u=Object.keys(n);return a.length===u.length&&a.every((function(r){return t(e[r],n[r])}))}return!1},c=n(213);function l(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return S})),n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return m})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return d}));var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function g(t,e){e(window.confirm(t))}var b="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(t){return{}}}function E(t){void 0===t&&(t={}),_||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?g:u,v=o.keyLength,E=void 0===v?6:v,M=t.basename?p(l(t.basename)):"";function C(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return M&&(o=f(o,M)),m(o,r,n)}function O(){return Math.random().toString(36).substr(2,E)}var T=y();function S(t){Object(r.a)(F,t),F.length=e.length,T.notifyListeners(F.location,F.action)}function P(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||L(C(t.state))}function k(){L(C(x()))}var j=!1;function L(t){if(j)j=!1,S();else{T.confirmTransitionTo(t,"POP",h,(function(e){e?S({action:"POP",location:t}):function(t){var e=F.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(j=!0,N(i))}(t)}))}}var A=C(x()),R=[A.key];function I(t){return M+d(t)}function N(t){e.go(t)}var D=0;function z(t){1===(D+=t)&&1===t?(window.addEventListener(b,P),i&&window.addEventListener(w,k)):0===D&&(window.removeEventListener(b,P),i&&window.removeEventListener(w,k))}var H=!1;var F={length:e.length,action:"POP",location:A,createHref:I,push:function(t,r){var i=m(t,r,O(),F.location);T.confirmTransitionTo(i,"PUSH",h,(function(t){if(t){var r=I(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=R.indexOf(F.location.key),c=R.slice(0,-1===u?0:u+1);c.push(i.key),R=c,S({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(t,r){var i=m(t,r,O(),F.location);T.confirmTransitionTo(i,"REPLACE",h,(function(t){if(t){var r=I(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=R.indexOf(F.location.key);-1!==u&&(R[u]=i.key),S({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=T.setPrompt(t);return H||(z(1),H=!0),function(){return H&&(H=!1,z(-1)),e()}},listen:function(t){var e=T.appendListener(t);return z(1),function(){z(-1),e()}}};return F}var M="hashchange",C={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function O(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function T(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function S(t){void 0===t&&(t={}),_||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?g:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",h=C[s],b=h.encodePath,w=h.decodePath;function x(){var t=w(O());return u&&(t=f(t,u)),m(t)}var E=y();function S(t){Object(r.a)(F,t),F.length=e.length,E.notifyListeners(F.location,F.action)}var P=!1,k=null;function j(){var t=O(),e=b(t);if(t!==e)T(e);else{var n=x(),r=F.location;if(!P&&v(r,n))return;if(k===d(n))return;k=null,function(t){if(P)P=!1,S();else{E.confirmTransitionTo(t,"POP",o,(function(e){e?S({action:"POP",location:t}):function(t){var e=F.location,n=I.lastIndexOf(d(e));-1===n&&(n=0);var r=I.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(P=!0,N(i))}(t)}))}}(n)}}var L=O(),A=b(L);L!==A&&T(A);var R=x(),I=[d(R)];function N(t){e.go(t)}var D=0;function z(t){1===(D+=t)&&1===t?window.addEventListener(M,j):0===D&&window.removeEventListener(M,j)}var H=!1;var F={length:e.length,action:"POP",location:R,createHref:function(t){return"#"+b(u+d(t))},push:function(t,e){var n=m(t,void 0,void 0,F.location);E.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=d(n),r=b(u+e);if(O()!==r){k=e,function(t){window.location.hash=t}(r);var i=I.lastIndexOf(d(F.location)),o=I.slice(0,-1===i?0:i+1);o.push(e),I=o,S({action:"PUSH",location:n})}else S()}}))},replace:function(t,e){var n=m(t,void 0,void 0,F.location);E.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=d(n),r=b(u+e);O()!==r&&(k=e,T(r));var i=I.indexOf(d(F.location));-1!==i&&(I[i]=e),S({action:"REPLACE",location:n})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return H||(z(1),H=!0),function(){return H&&(H=!1,z(-1)),e()}},listen:function(t){var e=E.appendListener(t);return z(1),function(){z(-1),e()}}};return F}function P(t,e,n){return Math.min(Math.max(t,e),n)}function k(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=y();function h(t){Object(r.a)(b,t),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=P(s,0,o.length-1),v=o.map((function(t){return m(t,void 0,"string"===typeof t?f():t.key||f())})),_=d;function g(t){var e=P(b.index+t,0,b.entries.length-1),r=b.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var b={length:v.length,action:"POP",location:v[p],index:p,entries:v,createHref:_,push:function(t,e){var r=m(t,e,f(),b.location);l.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=b.index+1,n=b.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),h({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=m(t,e,f(),b.location);l.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(b.entries[b.index]=r,h({action:"REPLACE",location:r}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(t){var e=b.index+t;return e>=0&&e<b.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return b}},270:function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},331:function(t,e,n){"use strict";var r=n(270),i=n(4),o=n.n(i),a=n(13),s=n.n(a),u=n(236),c=n(513),l=n.n(c),h=n(399),f=n.n(h),p=1073741823;var d=o.a.createContext||function(t,e){var n,r,o="__create-react-context-"+f()()+"__",a=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}(e.props.value),e}l()(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[o]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):p,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}l()(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?p:e},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?p:t},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},m=n(213),v=n(109),y=n(514),_=n.n(y),g=(n(273),n(356));n(589);n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return F})),n.d(e,"h",(function(){return U})),n.d(e,"i",(function(){return B}));var b=function(t){var e=d();return e.displayName=t,e}("Router"),w=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(b.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(o.a.Component);o.a.Component;var x=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);var E={},M=1e4,C=0;function O(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(E[t])return E[t];var e=_.a.compile(t);return C<M&&(E[t]=e,C++),e}(t)(e,{pretty:!0})}function T(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(b.Consumer,null,(function(t){t||Object(m.a)(!1);var r=t.history,a=t.staticContext,s=i?r.push:r.replace,c=Object(u.c)(e?"string"===typeof n?O(n,e.params):Object(v.a)({},n,{pathname:O(n.pathname,e.params)}):n);return a?(s(c),null):o.a.createElement(x,{onMount:function(){s(c)},onUpdate:function(t,e){var n=Object(u.c)(e.to);Object(u.f)(n,Object(v.a)({},c,{key:n.key}))||s(c)},to:n})}))}var S={},P=1e4,k=0;function j(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=S[n]||(S[n]={});if(r[t])return r[t];var i=[],o={regexp:_()(t,i,e),keys:i};return k<P&&(r[t]=o,k++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],h=u.slice(1),f=t===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var L=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(b.Consumer,null,(function(e){e||Object(m.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?j(n.pathname,t.props):e.match,i=Object(v.a)({},e,{location:n,match:r}),a=t.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(b.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function A(t){return"/"===t.charAt(0)?t:"/"+t}function R(t,e){if(!t)return e;var n=A(t);return 0!==e.pathname.indexOf(n)?e:Object(v.a)({},e,{pathname:e.pathname.substr(n.length)})}function I(t){return"string"===typeof t?t:Object(u.e)(t)}function N(t){return function(){Object(m.a)(!1)}}function D(){}o.a.Component;var z=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(b.Consumer,null,(function(e){e||Object(m.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?j(i.pathname,Object(v.a)({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);var H=o.a.useContext;function F(){return H(b).history}function U(){return H(b).location}function B(){var t=H(b).match;return t?t.params:{}}},356:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},503:function(t,e,n){"use strict";n.r(e);var r=n(591),i=n(593),o=n(693),a=n(11),s=n(206),u=n(96),c=n(501),l=n(52),h=n(690),f=n.n(h),p=n(4),d=Object(l.h)(p.version),m="unknown",v={componentStack:null,error:null,eventId:null};var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=v,e.resetErrorBoundary=function(){var t=e.props.onReset,n=e.state,r=n.error,i=n.componentStack,o=n.eventId;t&&t(r,i,o),e.setState(v)},e}return Object(a.d)(e,t),e.prototype.componentDidCatch=function(t,e){var n=this,r=e.componentStack,i=this.props,o=i.beforeCapture,l=i.onError,h=i.showDialog,f=i.dialogOptions;Object(u.m)((function(e){o&&o(e,t,r);var i=function(t,e){var n=new Error(t.message);n.name="React ErrorBoundary "+n.name,n.stack=e;var r={};if(Object(s.a)({},n).then((function(t){r=t})),r.exception&&Array.isArray(r.exception.values)&&d.major&&d.major>=17){var i={};return Object(s.a)({},t).then((function(t){i=t})),i.exception&&Array.isArray(i.exception.values)&&(i.exception.values=Object(a.h)(r.exception.values,i.exception.values)),Object(u.b)(i)}return Object(u.c)(t,{contexts:{react:{componentStack:e}}})}(t,r);l&&l(t,r,i),h&&Object(c.h)(Object(a.a)(Object(a.a)({},f),{eventId:i})),n.setState({error:t,componentStack:r,eventId:i})}))},e.prototype.componentDidMount=function(){var t=this.props.onMount;t&&t()},e.prototype.componentWillUnmount=function(){var t=this.state,e=t.error,n=t.componentStack,r=t.eventId,i=this.props.onUnmount;i&&i(e,n,r)},e.prototype.render=function(){var t=this.props.fallback,e=this.state,n=e.error,r=e.componentStack,i=e.eventId;return n?p.isValidElement(t)?t:"function"===typeof t?t({error:n,componentStack:r,resetError:this.resetErrorBoundary,eventId:i}):null:this.props.children},e}(p.Component);function _(t,e){var n=t.displayName||t.name||m,r=function(n){return p.createElement(y,Object(a.a)({},e),p.createElement(t,Object(a.a)({},n)))};return r.displayName="errorBoundary("+n+")",f()(r,t),r}var g="redux.action",b="info",w="redux.state",x={actionTransformer:function(t){return t},stateTransformer:function(t){return t||null}};function E(t){var e=Object(a.a)(Object(a.a)({},x),t);return function(t){return function(n,r){return t((function(t,r){var i=n(t,r);return Object(u.e)((function(t){var n=e.actionTransformer(r);"undefined"!==typeof n&&null!==n&&t.addBreadcrumb({category:g,data:n,type:b});var o=e.stateTransformer(i);"undefined"!==typeof o&&null!==o?t.setContext(w,o):t.setContext(w,null);var a=e.configureScopeWithState;"function"===typeof a&&a(t,i)})),i}),r)}}}var M=Object(l.e)();function C(t,e,n){return function(r,i,o){var a,s;void 0===i&&(i=!0),void 0===o&&(o=!0),i&&M&&M.location&&O(e,M.location,n,(function(t){a=r({name:s=t,op:"pageload",tags:{"routing.instrumentation":"react-router-v3"}})})),o&&t.listen&&t.listen((function(t){if("PUSH"===t.action||"POP"===t.action){a&&a.finish();var i={"routing.instrumentation":"react-router-v3"};s&&(i.from=s),O(e,t,n,(function(t){a=r({name:s=t,op:"navigation",tags:i})}))}}))}}function O(t,e,n,r){var i=e.pathname;n({location:e,routes:t},(function(t,e,n){if(t||!n)return r(i);var o=function(t){if(!Array.isArray(t)||0===t.length)return"";for(var e=t.filter((function(t){return!!t.path})),n=-1,r=e.length-1;r>=0;r--){var i=e[r];if(i.path&&i.path.startsWith("/")){n=r;break}}return e.slice(n).filter((function(t){return!!t.path})).map((function(t){return t.path})).join("")}(n.routes||[]);return 0===o.length||"/*"===o?r(i):r(i=o)}))}var T,S=Object(l.e)();function P(t,e,n){return j(t,"react-router-v4",e,n)}function k(t,e,n){return j(t,"react-router-v5",e,n)}function j(t,e,n,r){function i(t){if(n===[]||!r)return t;for(var e=function t(e,n,r,i){void 0===i&&(i=[]);return e.some((function(e){var o=e.path?r(n,e):i.length?i[i.length-1].match:function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}}(n);return o&&(i.push({route:e,match:o}),e.routes&&t(e.routes,n,r,i)),!!o})),i}(n,t,r),i=0;i<e.length;i++)if(e[i].match.isExact)return e[i].match.path;return t}return void 0===n&&(n=[]),function(n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0),r&&S&&S.location&&(T=n({name:i(S.location.pathname),op:"pageload",tags:{"routing.instrumentation":e}})),o&&t.listen&&t.listen((function(t,r){if(r&&("PUSH"===r||"POP"===r)){T&&T.finish();var o={"routing.instrumentation":e};T=n({name:i(t.pathname),op:"navigation",tags:o})}}))}}function L(t){var e=t.displayName||t.name,n=function(e){return T&&e&&e.computedMatch&&e.computedMatch.isExact&&T.setName(e.computedMatch.path),p.createElement(t,Object(a.a)({},e))};return n.displayName="sentryRoute("+e+")",f()(n,t),n}n.d(e,"Integrations",(function(){return r.c})),n.d(e,"Transports",(function(){return r.i})),n.d(e,"Severity",(function(){return r.g})),n.d(e,"Status",(function(){return r.h})),n.d(e,"addGlobalEventProcessor",(function(){return r.k})),n.d(e,"addBreadcrumb",(function(){return r.j})),n.d(e,"captureException",(function(){return r.m})),n.d(e,"captureEvent",(function(){return r.l})),n.d(e,"captureMessage",(function(){return r.n})),n.d(e,"configureScope",(function(){return r.p})),n.d(e,"getHubFromCarrier",(function(){return r.w})),n.d(e,"getCurrentHub",(function(){return r.v})),n.d(e,"Hub",(function(){return r.b})),n.d(e,"makeMain",(function(){return r.z})),n.d(e,"Scope",(function(){return r.f})),n.d(e,"startTransaction",(function(){return r.I})),n.d(e,"SDK_VERSION",(function(){return r.e})),n.d(e,"setContext",(function(){return r.B})),n.d(e,"setExtra",(function(){return r.C})),n.d(e,"setExtras",(function(){return r.D})),n.d(e,"setTag",(function(){return r.E})),n.d(e,"setTags",(function(){return r.F})),n.d(e,"setUser",(function(){return r.G})),n.d(e,"withScope",(function(){return r.J})),n.d(e,"BrowserClient",(function(){return r.a})),n.d(e,"injectReportDialog",(function(){return r.x})),n.d(e,"eventFromException",(function(){return r.r})),n.d(e,"eventFromMessage",(function(){return r.s})),n.d(e,"defaultIntegrations",(function(){return r.q})),n.d(e,"forceLoad",(function(){return r.u})),n.d(e,"lastEventId",(function(){return r.y})),n.d(e,"onLoad",(function(){return r.A})),n.d(e,"showReportDialog",(function(){return r.H})),n.d(e,"flush",(function(){return r.t})),n.d(e,"close",(function(){return r.o})),n.d(e,"wrap",(function(){return r.K})),n.d(e,"SDK_NAME",(function(){return r.d})),n.d(e,"init",(function(){return i.a})),n.d(e,"Profiler",(function(){return o.a})),n.d(e,"withProfiler",(function(){return o.c})),n.d(e,"useProfiler",(function(){return o.b})),n.d(e,"ErrorBoundary",(function(){return y})),n.d(e,"withErrorBoundary",(function(){return _})),n.d(e,"createReduxEnhancer",(function(){return E})),n.d(e,"reactRouterV3Instrumentation",(function(){return C})),n.d(e,"reactRouterV4Instrumentation",(function(){return P})),n.d(e,"reactRouterV5Instrumentation",(function(){return k})),n.d(e,"withSentryRouting",(function(){return L}))},506:function(t,e,n){"use strict";n.r(e);var r=n(510);n.d(e,"GlobalHandlers",(function(){return r.a}));var i=n(508);n.d(e,"TryCatch",(function(){return i.a}));var o=n(509);n.d(e,"Breadcrumbs",(function(){return o.a}));var a=n(511);n.d(e,"LinkedErrors",(function(){return a.a}));var s=n(512);n.d(e,"UserAgent",(function(){return s.a}))},513:function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},514:function(t,e,n){var r=n(596);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],m=n[2],v=n[3],y=n[4],_=n[5],g=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=d&&d!==m,x="+"===g||"*"===g,E="?"===g||"*"===g,M=n[2]||l,C=y||_;r.push({name:v||o++,prefix:m||"",delimiter:M,optional:E,repeat:x,partial:w,asterisk:!!b,pattern:C?c(C):b?".*":"[^"+u(M)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!e[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!e[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},587:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return y}));var r=n(331),i=n(270),o=n(4),a=n.n(o),s=n(236),u=(n(13),n(109)),c=n(356),l=n(213),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var f=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},d=function(t){return t},m=a.a.forwardRef;"undefined"===typeof m&&(m=d);var v=m((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=d!==m&&e||n,a.a.createElement("a",l)}));var y=m((function(t,e){var n=t.component,i=void 0===n?v:n,o=t.replace,s=t.to,h=t.innerRef,y=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,r=p(f(s,t.location),t.location),c=r?n.createHref(r):"",v=Object(u.a)({},y,{href:c,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return d!==m?v.ref=e||h:v.innerRef=h,a.a.createElement(i,v)}))})),_=function(t){return t},g=a.a.forwardRef;"undefined"===typeof g&&(g=_);g((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,h=t.activeStyle,d=t.className,m=t.exact,v=t.isActive,b=t.location,w=t.strict,x=t.style,E=t.to,M=t.innerRef,C=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(t){t||Object(l.a)(!1);var n=b||t.location,o=p(f(E,n),n),c=o.pathname,O=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=O?Object(r.f)(n.pathname,{path:O,exact:m,strict:w}):null,S=!!(v?v(T,n):T),P=S?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(d,s):d,k=S?Object(u.a)({},x,{},h):x,j=Object(u.a)({"aria-current":S&&i||null,className:P,style:k,to:o},C);return _!==g?j.ref=e||M:j.innerRef=M,a.a.createElement(y,j)}))}))},589:function(t,e,n){"use strict";var r=n(273),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),m=u(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var _=f(n,y);try{c(e,y,_)}catch(g){}}}return e}return e}},591:function(t,e,n){"use strict";var r=n(11),i=n(268),o=n(585),a=n(231),s=n(96),u=n(70),c=n(322),l=n(392),h=n(114),f=n(206),p=n(501),d=n(112),m=n(52),v=n(506),y=n(592);n.d(e,"c",(function(){return b})),n.d(e,"g",(function(){return i.a})),n.d(e,"h",(function(){return o.a})),n.d(e,"k",(function(){return a.b})),n.d(e,"j",(function(){return s.a})),n.d(e,"m",(function(){return s.c})),n.d(e,"l",(function(){return s.b})),n.d(e,"n",(function(){return s.d})),n.d(e,"p",(function(){return s.e})),n.d(e,"w",(function(){return u.c})),n.d(e,"v",(function(){return u.b})),n.d(e,"b",(function(){return u.a})),n.d(e,"z",(function(){return u.e})),n.d(e,"f",(function(){return a.a})),n.d(e,"I",(function(){return s.l})),n.d(e,"e",(function(){return c.a})),n.d(e,"B",(function(){return s.f})),n.d(e,"C",(function(){return s.g})),n.d(e,"D",(function(){return s.h})),n.d(e,"E",(function(){return s.i})),n.d(e,"F",(function(){return s.j})),n.d(e,"G",(function(){return s.k})),n.d(e,"J",(function(){return s.m})),n.d(e,"a",(function(){return l.a})),n.d(e,"x",(function(){return h.a})),n.d(e,"r",(function(){return f.a})),n.d(e,"s",(function(){return f.b})),n.d(e,"q",(function(){return p.b})),n.d(e,"u",(function(){return p.d})),n.d(e,"y",(function(){return p.f})),n.d(e,"A",(function(){return p.g})),n.d(e,"H",(function(){return p.h})),n.d(e,"t",(function(){return p.c})),n.d(e,"o",(function(){return p.a})),n.d(e,"K",(function(){return p.i})),n.d(e,"d",(function(){return"sentry.javascript.browser"})),n.d(e,"i",(function(){return y}));var _={},g=Object(m.e)();g.Sentry&&g.Sentry.Integrations&&(_=g.Sentry.Integrations);var b=Object(r.a)(Object(r.a)(Object(r.a)({},_),d.a),v)},592:function(t,e,n){"use strict";n.r(e);var r=n(277);n.d(e,"BaseTransport",(function(){return r.a}));var i=n(594);n.d(e,"FetchTransport",(function(){return i.a}));var o=n(595);n.d(e,"XHRTransport",(function(){return o.a}))},596:function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},623:function(t,e,n){"use strict";var r=n(895);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return i}))},625:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(4),i=n.n(r),o=Object(r.createContext)(),a=function(){return Object(r.useContext)(o)},s=function(t){var e=t.children,n=t.store;return i.a.createElement(o.Provider,{value:n},e)}},626:function(t,e,n){"use strict";t.exports=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=void 0)}},627:function(t,e,n){"use strict";function r(){}r.prototype.addEventListener=function(t,e){var n=this.__events=this.__events||{},r=n[t]=n[t]||[];r.indexOf(e)<0&&r.push(e)},r.prototype.removeEventListener=function(t,e){var n=(this.__events=this.__events||{})[t];if(n){var r=n.indexOf(e);r>=0&&n.splice(r,1)}},r.prototype.emit=function(t,e){var n=this.__events=this.__events||{},r=n[t],i=Array.prototype.slice.call(arguments,1);if(r)for(var o=0;o<r.length;o++){var a=r[o];a.apply(this,i)}},t.exports=function(t){for(var e in r.prototype)r.prototype.hasOwnProperty(e)&&(t.prototype[e]=r.prototype[e])}},628:function(t,e,n){"use strict";n.r(e),n.d(e,"getClient",(function(){return y})),n.d(e,"getQueryKey",(function(){return _})),n.d(e,"useGqlQuery",(function(){return g})),n.d(e,"useGqlAnonymousQuery",(function(){return b})),n.d(e,"useGqlMutation",(function(){return w})),n.d(e,"useGqlHighPerfMutation",(function(){return x})),n.d(e,"invalidateGqlQueries",(function(){return E})),n.d(e,"setGqlQueryData",(function(){return M})),n.d(e,"cacheQueryData",(function(){return C}));var r=n(643),i=n.n(r),o=n(644),a=n(623),s=n(235),u=n(379),c=n(981),l=n(384),h=n(124),f=n(70),p=n(96),d=n(641),m=d.b?{"x-hasura-admin-secret":"spaceisonlynoisethatyoucansee"}:{},v=function(t,e){return!Object(h.a)("MAINTENANCE",JSON.stringify(e))&&(!Object(h.a)("CLIENT OUTDATED",JSON.stringify(e))&&t<3)},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new c.GraphQLClient("https://api.smplrspace.com/v1/graphql",{headers:Object(s.a)(Object(s.a)(Object(s.a)({},t?{Authorization:"Bearer ".concat(t)}:{}),{},{"Commit-Ref":"ffbd35970c59ce591a7acd7bd8d67660c74575d2"},m),e)})},_=function(t){return t.definitions[0].name.value},g=function(t,e){var n,r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=Object(d.c)(),m=h.user,g=h.getTokenSilently,b=t(),w=Object(a.a)(b,2),x=w[0],E=w[1];return(n=f.b().getScope().getTransaction())||(n=p.l({name:"".concat(_(x)," (gql-hook)")})),r=n.startChild({op:"http",description:"".concat(_(x)," (gql-hook)")}),Object(u.d)([_(x),E],function(){var t=Object(o.a)(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:r=t.sent,t.next=7;break;case 7:return t.abrupt("return",y(r,Object(s.a)(Object(s.a)({},c),{},{Smplradmin:m.smplradmin})).request(Object(l.a)(x),n));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Object(s.a)(Object(s.a)({retry:v},e),{},{onSettled:function(t,i){r.finish(),n.finish(),e&&e.onSettled&&e.onSettled(t,i)}}))},b=function(t,e){var n,r,c=t(),h=Object(a.a)(c,2),d=h[0],m=h[1];return(n=f.b().getScope().getTransaction())||(n=p.l({name:"".concat(_(d)," (gql-hook)")})),r=n.startChild({op:"http",description:"".concat(_(d)," (gql-hook)")}),Object(u.d)([_(d),m],function(){var t=Object(o.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=4;break;case 4:return t.abrupt("return",y().request(Object(l.a)(d),n));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Object(s.a)(Object(s.a)({retry:v},e),{},{onSettled:function(t,i){r.finish(),n.finish(),e&&e.onSettled&&e.onSettled(t,i)}}))},w=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Object(d.c)(),h=c.user,m=c.getTokenSilently;return(e=f.b().getScope().getTransaction())||(e=p.l({name:"".concat(_(t)," (gql-hook)")})),n=e.startChild({op:"http",description:"".concat(_(t)," (gql-hook)")}),Object(u.c)(function(){var e=Object(o.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:r=e.sent,e.next=7;break;case 7:return e.abrupt("return",y(r,Object(s.a)(Object(s.a)({},a),{},{Smplradmin:h.smplradmin})).request(Object(l.a)(t),n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(s.a)(Object(s.a)({retry:v},r),{},{onSettled:function(t,i){n.finish(),e.finish(),r&&r.onSettled&&r.onSettled(t,i)}}))},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(d.c)(),r=n.user,a=n.getTokenSilently;return function(){var n=Object(o.a)(i.a.mark((function n(o,u){var c,h;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a();case 2:c=n.sent,n.next=7;break;case 7:return n.prev=8,n.next=11,y(c,Object(s.a)(Object(s.a)({},e),{},{Smplradmin:r.smplradmin})).request(Object(l.a)(t),o);case 11:h=n.sent,u.onSuccess&&u.onSuccess(h),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(8),smplrprint.error(n.t0),u.onError&&u.onError(n.t0);case 19:case"end":return n.stop()}}),n,null,[[8,15]])})));return function(t,e){return n.apply(this,arguments)}}()},E=function(t,e){var n=Object(a.a)(t,2),r=n[0],i=n[1];return u.b.invalidateQueries(i?[_(r),i]:_(r),e)},M=function(t,e){var n=Object(a.a)(t,2),r=n[0],i=n[1];u.b.setQueryData([_(r),i],e)},C=function(t,e,n){var r=Object(a.a)(t,2),i=r[0],o=r[1];return u.b.prefetchQuery([_(i),o],(function(){return new Promise((function(t){return t(e)}))}),n)}},633:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"EPSILON",(function(){return p})),n.d(r,"ARRAY_TYPE",(function(){return d})),n.d(r,"RANDOM",(function(){return m})),n.d(r,"setMatrixArrayType",(function(){return v})),n.d(r,"toRadian",(function(){return _})),n.d(r,"equals",(function(){return g}));var i={};n.r(i),n.d(i,"create",(function(){return b})),n.d(i,"clone",(function(){return w})),n.d(i,"copy",(function(){return x})),n.d(i,"identity",(function(){return E})),n.d(i,"fromValues",(function(){return M})),n.d(i,"set",(function(){return C})),n.d(i,"transpose",(function(){return O})),n.d(i,"invert",(function(){return T})),n.d(i,"adjoint",(function(){return S})),n.d(i,"determinant",(function(){return P})),n.d(i,"multiply",(function(){return k})),n.d(i,"rotate",(function(){return j})),n.d(i,"scale",(function(){return L})),n.d(i,"fromRotation",(function(){return A})),n.d(i,"fromScaling",(function(){return R})),n.d(i,"str",(function(){return I})),n.d(i,"frob",(function(){return N})),n.d(i,"LDU",(function(){return D})),n.d(i,"add",(function(){return z})),n.d(i,"subtract",(function(){return H})),n.d(i,"exactEquals",(function(){return F})),n.d(i,"equals",(function(){return U})),n.d(i,"multiplyScalar",(function(){return B})),n.d(i,"multiplyScalarAndAdd",(function(){return q})),n.d(i,"mul",(function(){return W})),n.d(i,"sub",(function(){return V}));var o={};n.r(o),n.d(o,"create",(function(){return X})),n.d(o,"clone",(function(){return Y})),n.d(o,"copy",(function(){return G})),n.d(o,"identity",(function(){return K})),n.d(o,"fromValues",(function(){return $})),n.d(o,"set",(function(){return Z})),n.d(o,"invert",(function(){return Q})),n.d(o,"determinant",(function(){return J})),n.d(o,"multiply",(function(){return tt})),n.d(o,"rotate",(function(){return et})),n.d(o,"scale",(function(){return nt})),n.d(o,"translate",(function(){return rt})),n.d(o,"fromRotation",(function(){return it})),n.d(o,"fromScaling",(function(){return ot})),n.d(o,"fromTranslation",(function(){return at})),n.d(o,"str",(function(){return st})),n.d(o,"frob",(function(){return ut})),n.d(o,"add",(function(){return ct})),n.d(o,"subtract",(function(){return lt})),n.d(o,"multiplyScalar",(function(){return ht})),n.d(o,"multiplyScalarAndAdd",(function(){return ft})),n.d(o,"exactEquals",(function(){return pt})),n.d(o,"equals",(function(){return dt})),n.d(o,"mul",(function(){return mt})),n.d(o,"sub",(function(){return vt}));var a={};n.r(a),n.d(a,"create",(function(){return yt})),n.d(a,"fromMat4",(function(){return _t})),n.d(a,"clone",(function(){return gt})),n.d(a,"copy",(function(){return bt})),n.d(a,"fromValues",(function(){return wt})),n.d(a,"set",(function(){return xt})),n.d(a,"identity",(function(){return Et})),n.d(a,"transpose",(function(){return Mt})),n.d(a,"invert",(function(){return Ct})),n.d(a,"adjoint",(function(){return Ot})),n.d(a,"determinant",(function(){return Tt})),n.d(a,"multiply",(function(){return St})),n.d(a,"translate",(function(){return Pt})),n.d(a,"rotate",(function(){return kt})),n.d(a,"scale",(function(){return jt})),n.d(a,"fromTranslation",(function(){return Lt})),n.d(a,"fromRotation",(function(){return At})),n.d(a,"fromScaling",(function(){return Rt})),n.d(a,"fromMat2d",(function(){return It})),n.d(a,"fromQuat",(function(){return Nt})),n.d(a,"normalFromMat4",(function(){return Dt})),n.d(a,"projection",(function(){return zt})),n.d(a,"str",(function(){return Ht})),n.d(a,"frob",(function(){return Ft})),n.d(a,"add",(function(){return Ut})),n.d(a,"subtract",(function(){return Bt})),n.d(a,"multiplyScalar",(function(){return qt})),n.d(a,"multiplyScalarAndAdd",(function(){return Wt})),n.d(a,"exactEquals",(function(){return Vt})),n.d(a,"equals",(function(){return Xt})),n.d(a,"mul",(function(){return Yt})),n.d(a,"sub",(function(){return Gt}));var s={};n.r(s),n.d(s,"create",(function(){return Kt})),n.d(s,"clone",(function(){return $t})),n.d(s,"copy",(function(){return Zt})),n.d(s,"fromValues",(function(){return Qt})),n.d(s,"set",(function(){return Jt})),n.d(s,"identity",(function(){return te})),n.d(s,"transpose",(function(){return ee})),n.d(s,"invert",(function(){return ne})),n.d(s,"adjoint",(function(){return re})),n.d(s,"determinant",(function(){return ie})),n.d(s,"multiply",(function(){return oe})),n.d(s,"translate",(function(){return ae})),n.d(s,"scale",(function(){return se})),n.d(s,"rotate",(function(){return ue})),n.d(s,"rotateX",(function(){return ce})),n.d(s,"rotateY",(function(){return le})),n.d(s,"rotateZ",(function(){return he})),n.d(s,"fromTranslation",(function(){return fe})),n.d(s,"fromScaling",(function(){return pe})),n.d(s,"fromRotation",(function(){return de})),n.d(s,"fromXRotation",(function(){return me})),n.d(s,"fromYRotation",(function(){return ve})),n.d(s,"fromZRotation",(function(){return ye})),n.d(s,"fromRotationTranslation",(function(){return _e})),n.d(s,"fromQuat2",(function(){return ge})),n.d(s,"getTranslation",(function(){return be})),n.d(s,"getScaling",(function(){return we})),n.d(s,"getRotation",(function(){return xe})),n.d(s,"fromRotationTranslationScale",(function(){return Ee})),n.d(s,"fromRotationTranslationScaleOrigin",(function(){return Me})),n.d(s,"fromQuat",(function(){return Ce})),n.d(s,"frustum",(function(){return Oe})),n.d(s,"perspective",(function(){return Te})),n.d(s,"perspectiveFromFieldOfView",(function(){return Se})),n.d(s,"ortho",(function(){return Pe})),n.d(s,"lookAt",(function(){return ke})),n.d(s,"targetTo",(function(){return je})),n.d(s,"str",(function(){return Le})),n.d(s,"frob",(function(){return Ae})),n.d(s,"add",(function(){return Re})),n.d(s,"subtract",(function(){return Ie})),n.d(s,"multiplyScalar",(function(){return Ne})),n.d(s,"multiplyScalarAndAdd",(function(){return De})),n.d(s,"exactEquals",(function(){return ze})),n.d(s,"equals",(function(){return He})),n.d(s,"mul",(function(){return Fe})),n.d(s,"sub",(function(){return Ue}));var u={};n.r(u),n.d(u,"create",(function(){return Be})),n.d(u,"clone",(function(){return qe})),n.d(u,"length",(function(){return We})),n.d(u,"fromValues",(function(){return Ve})),n.d(u,"copy",(function(){return Xe})),n.d(u,"set",(function(){return Ye})),n.d(u,"add",(function(){return Ge})),n.d(u,"subtract",(function(){return Ke})),n.d(u,"multiply",(function(){return $e})),n.d(u,"divide",(function(){return Ze})),n.d(u,"ceil",(function(){return Qe})),n.d(u,"floor",(function(){return Je})),n.d(u,"min",(function(){return tn})),n.d(u,"max",(function(){return en})),n.d(u,"round",(function(){return nn})),n.d(u,"scale",(function(){return rn})),n.d(u,"scaleAndAdd",(function(){return on})),n.d(u,"distance",(function(){return an})),n.d(u,"squaredDistance",(function(){return sn})),n.d(u,"squaredLength",(function(){return un})),n.d(u,"negate",(function(){return cn})),n.d(u,"inverse",(function(){return ln})),n.d(u,"normalize",(function(){return hn})),n.d(u,"dot",(function(){return fn})),n.d(u,"cross",(function(){return pn})),n.d(u,"lerp",(function(){return dn})),n.d(u,"hermite",(function(){return mn})),n.d(u,"bezier",(function(){return vn})),n.d(u,"random",(function(){return yn})),n.d(u,"transformMat4",(function(){return _n})),n.d(u,"transformMat3",(function(){return gn})),n.d(u,"transformQuat",(function(){return bn})),n.d(u,"rotateX",(function(){return wn})),n.d(u,"rotateY",(function(){return xn})),n.d(u,"rotateZ",(function(){return En})),n.d(u,"angle",(function(){return Mn})),n.d(u,"zero",(function(){return Cn})),n.d(u,"str",(function(){return On})),n.d(u,"exactEquals",(function(){return Tn})),n.d(u,"equals",(function(){return Sn})),n.d(u,"sub",(function(){return Pn})),n.d(u,"mul",(function(){return kn})),n.d(u,"div",(function(){return jn})),n.d(u,"dist",(function(){return Ln})),n.d(u,"sqrDist",(function(){return An})),n.d(u,"len",(function(){return Rn})),n.d(u,"sqrLen",(function(){return In})),n.d(u,"forEach",(function(){return Nn}));var c={};n.r(c),n.d(c,"create",(function(){return Dn})),n.d(c,"clone",(function(){return zn})),n.d(c,"fromValues",(function(){return Hn})),n.d(c,"copy",(function(){return Fn})),n.d(c,"set",(function(){return Un})),n.d(c,"add",(function(){return Bn})),n.d(c,"subtract",(function(){return qn})),n.d(c,"multiply",(function(){return Wn})),n.d(c,"divide",(function(){return Vn})),n.d(c,"ceil",(function(){return Xn})),n.d(c,"floor",(function(){return Yn})),n.d(c,"min",(function(){return Gn})),n.d(c,"max",(function(){return Kn})),n.d(c,"round",(function(){return $n})),n.d(c,"scale",(function(){return Zn})),n.d(c,"scaleAndAdd",(function(){return Qn})),n.d(c,"distance",(function(){return Jn})),n.d(c,"squaredDistance",(function(){return tr})),n.d(c,"length",(function(){return er})),n.d(c,"squaredLength",(function(){return nr})),n.d(c,"negate",(function(){return rr})),n.d(c,"inverse",(function(){return ir})),n.d(c,"normalize",(function(){return or})),n.d(c,"dot",(function(){return ar})),n.d(c,"cross",(function(){return sr})),n.d(c,"lerp",(function(){return ur})),n.d(c,"random",(function(){return cr})),n.d(c,"transformMat4",(function(){return lr})),n.d(c,"transformQuat",(function(){return hr})),n.d(c,"zero",(function(){return fr})),n.d(c,"str",(function(){return pr})),n.d(c,"exactEquals",(function(){return dr})),n.d(c,"equals",(function(){return mr})),n.d(c,"sub",(function(){return vr})),n.d(c,"mul",(function(){return yr})),n.d(c,"div",(function(){return _r})),n.d(c,"dist",(function(){return gr})),n.d(c,"sqrDist",(function(){return br})),n.d(c,"len",(function(){return wr})),n.d(c,"sqrLen",(function(){return xr})),n.d(c,"forEach",(function(){return Er}));var l={};n.r(l),n.d(l,"create",(function(){return Mr})),n.d(l,"identity",(function(){return Cr})),n.d(l,"setAxisAngle",(function(){return Or})),n.d(l,"getAxisAngle",(function(){return Tr})),n.d(l,"getAngle",(function(){return Sr})),n.d(l,"multiply",(function(){return Pr})),n.d(l,"rotateX",(function(){return kr})),n.d(l,"rotateY",(function(){return jr})),n.d(l,"rotateZ",(function(){return Lr})),n.d(l,"calculateW",(function(){return Ar})),n.d(l,"exp",(function(){return Rr})),n.d(l,"ln",(function(){return Ir})),n.d(l,"pow",(function(){return Nr})),n.d(l,"slerp",(function(){return Dr})),n.d(l,"random",(function(){return zr})),n.d(l,"invert",(function(){return Hr})),n.d(l,"conjugate",(function(){return Fr})),n.d(l,"fromMat3",(function(){return Ur})),n.d(l,"fromEuler",(function(){return Br})),n.d(l,"str",(function(){return qr})),n.d(l,"clone",(function(){return Wr})),n.d(l,"fromValues",(function(){return Vr})),n.d(l,"copy",(function(){return Xr})),n.d(l,"set",(function(){return Yr})),n.d(l,"add",(function(){return Gr})),n.d(l,"mul",(function(){return Kr})),n.d(l,"scale",(function(){return $r})),n.d(l,"dot",(function(){return Zr})),n.d(l,"lerp",(function(){return Qr})),n.d(l,"length",(function(){return Jr})),n.d(l,"len",(function(){return ti})),n.d(l,"squaredLength",(function(){return ei})),n.d(l,"sqrLen",(function(){return ni})),n.d(l,"normalize",(function(){return ri})),n.d(l,"exactEquals",(function(){return ii})),n.d(l,"equals",(function(){return oi})),n.d(l,"rotationTo",(function(){return ai})),n.d(l,"sqlerp",(function(){return si})),n.d(l,"setAxes",(function(){return ui}));var h={};n.r(h),n.d(h,"create",(function(){return ci})),n.d(h,"clone",(function(){return li})),n.d(h,"fromValues",(function(){return hi})),n.d(h,"fromRotationTranslationValues",(function(){return fi})),n.d(h,"fromRotationTranslation",(function(){return pi})),n.d(h,"fromTranslation",(function(){return di})),n.d(h,"fromRotation",(function(){return mi})),n.d(h,"fromMat4",(function(){return vi})),n.d(h,"copy",(function(){return yi})),n.d(h,"identity",(function(){return _i})),n.d(h,"set",(function(){return gi})),n.d(h,"getReal",(function(){return bi})),n.d(h,"getDual",(function(){return wi})),n.d(h,"setReal",(function(){return xi})),n.d(h,"setDual",(function(){return Ei})),n.d(h,"getTranslation",(function(){return Mi})),n.d(h,"translate",(function(){return Ci})),n.d(h,"rotateX",(function(){return Oi})),n.d(h,"rotateY",(function(){return Ti})),n.d(h,"rotateZ",(function(){return Si})),n.d(h,"rotateByQuatAppend",(function(){return Pi})),n.d(h,"rotateByQuatPrepend",(function(){return ki})),n.d(h,"rotateAroundAxis",(function(){return ji})),n.d(h,"add",(function(){return Li})),n.d(h,"multiply",(function(){return Ai})),n.d(h,"mul",(function(){return Ri})),n.d(h,"scale",(function(){return Ii})),n.d(h,"dot",(function(){return Ni})),n.d(h,"lerp",(function(){return Di})),n.d(h,"invert",(function(){return zi})),n.d(h,"conjugate",(function(){return Hi})),n.d(h,"length",(function(){return Fi})),n.d(h,"len",(function(){return Ui})),n.d(h,"squaredLength",(function(){return Bi})),n.d(h,"sqrLen",(function(){return qi})),n.d(h,"normalize",(function(){return Wi})),n.d(h,"str",(function(){return Vi})),n.d(h,"exactEquals",(function(){return Xi})),n.d(h,"equals",(function(){return Yi}));var f={};n.r(f),n.d(f,"create",(function(){return Gi})),n.d(f,"clone",(function(){return Ki})),n.d(f,"fromValues",(function(){return $i})),n.d(f,"copy",(function(){return Zi})),n.d(f,"set",(function(){return Qi})),n.d(f,"add",(function(){return Ji})),n.d(f,"subtract",(function(){return to})),n.d(f,"multiply",(function(){return eo})),n.d(f,"divide",(function(){return no})),n.d(f,"ceil",(function(){return ro})),n.d(f,"floor",(function(){return io})),n.d(f,"min",(function(){return oo})),n.d(f,"max",(function(){return ao})),n.d(f,"round",(function(){return so})),n.d(f,"scale",(function(){return uo})),n.d(f,"scaleAndAdd",(function(){return co})),n.d(f,"distance",(function(){return lo})),n.d(f,"squaredDistance",(function(){return ho})),n.d(f,"length",(function(){return fo})),n.d(f,"squaredLength",(function(){return po})),n.d(f,"negate",(function(){return mo})),n.d(f,"inverse",(function(){return vo})),n.d(f,"normalize",(function(){return yo})),n.d(f,"dot",(function(){return _o})),n.d(f,"cross",(function(){return go})),n.d(f,"lerp",(function(){return bo})),n.d(f,"random",(function(){return wo})),n.d(f,"transformMat2",(function(){return xo})),n.d(f,"transformMat2d",(function(){return Eo})),n.d(f,"transformMat3",(function(){return Mo})),n.d(f,"transformMat4",(function(){return Co})),n.d(f,"rotate",(function(){return Oo})),n.d(f,"angle",(function(){return To})),n.d(f,"zero",(function(){return So})),n.d(f,"str",(function(){return Po})),n.d(f,"exactEquals",(function(){return ko})),n.d(f,"equals",(function(){return jo})),n.d(f,"len",(function(){return Lo})),n.d(f,"sub",(function(){return Ao})),n.d(f,"mul",(function(){return Ro})),n.d(f,"div",(function(){return Io})),n.d(f,"dist",(function(){return No})),n.d(f,"sqrDist",(function(){return Do})),n.d(f,"sqrLen",(function(){return zo})),n.d(f,"forEach",(function(){return Ho}));var p=1e-6,d="undefined"!==typeof Float32Array?Float32Array:Array,m=Math.random;function v(t){d=t}var y=Math.PI/180;function _(t){return t*y}function g(t,e){return Math.abs(t-e)<=p*Math.max(1,Math.abs(t),Math.abs(e))}function b(){var t=new d(4);return d!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function w(t){var e=new d(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function M(t,e,n,r){var i=new d(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function C(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function O(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function T(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function S(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function P(t){return t[0]*t[3]-t[2]*t[1]}function k(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*c+o*l,t[3]=i*c+a*l,t}function j(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t}function L(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function A(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function R(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function I(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function N(t){return Math.hypot(t[0],t[1],t[2],t[3])}function D(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function z(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function H(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function F(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function U(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=p*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=p*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=p*Math.max(1,Math.abs(o),Math.abs(c))}function B(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function q(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var W=k,V=H;function X(){var t=new d(6);return d!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function Y(t){var e=new d(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function G(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function $(t,e,n,r,i,o){var a=new d(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function Z(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function Q(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1],h=n[2],f=n[3],p=n[4],d=n[5];return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*h+o*f,t[3]=i*h+a*f,t[4]=r*p+o*d+s,t[5]=i*p+a*d+u,t}function et(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*-c+o*l,t[3]=i*-c+a*l,t[4]=s,t[5]=u,t}function nt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*l,t[3]=a*l,t[4]=s,t[5]=u,t}function rt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*l+s,t[5]=i*c+a*l+u,t}function it(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function at(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function lt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function ht(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function ft(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function pt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function dt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],c=e[1],l=e[2],h=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=p*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=p*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-l)<=p*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-h)<=p*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-f)<=p*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-d)<=p*Math.max(1,Math.abs(s),Math.abs(d))}var mt=tt,vt=lt;function yt(){var t=new d(9);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function _t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function gt(t){var e=new d(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wt(t,e,n,r,i,o,a,s,u){var c=new d(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function xt(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function Et(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Mt(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Ct(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*a-s*c,f=-l*o+s*u,p=c*o-a*u,d=n*h+r*f+i*p;return d?(d=1/d,t[0]=h*d,t[1]=(-l*r+i*c)*d,t[2]=(s*r-i*a)*d,t[3]=f*d,t[4]=(l*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-c*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null}function Ot(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function Tt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function St(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],p=n[1],d=n[2],m=n[3],v=n[4],y=n[5],_=n[6],g=n[7],b=n[8];return t[0]=f*r+p*a+d*c,t[1]=f*i+p*s+d*l,t[2]=f*o+p*u+d*h,t[3]=m*r+v*a+y*c,t[4]=m*i+v*s+y*l,t[5]=m*o+v*u+y*h,t[6]=_*r+g*a+b*c,t[7]=_*i+g*s+b*l,t[8]=_*o+g*u+b*h,t}function Pt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+p*a+c,t[7]=f*i+p*s+l,t[8]=f*o+p*u+h,t}function kt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*r+f*a,t[1]=p*i+f*s,t[2]=p*o+f*u,t[3]=p*a-f*r,t[4]=p*s-f*i,t[5]=p*u-f*o,t[6]=c,t[7]=l,t[8]=h,t}function jt(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Lt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function At(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Rt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Nt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,p=i*s,d=i*u,m=o*a,v=o*s,y=o*u;return t[0]=1-h-d,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-d,t[7]=p-m,t[2]=f-v,t[5]=p+m,t[8]=1-c-h,t}function Dt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],v=e[14],y=e[15],_=n*s-r*a,g=n*u-i*a,b=n*c-o*a,w=r*u-i*s,x=r*c-o*s,E=i*c-o*u,M=l*m-h*d,C=l*v-f*d,O=l*y-p*d,T=h*v-f*m,S=h*y-p*m,P=f*y-p*v,k=_*P-g*S+b*T+w*O-x*C+E*M;return k?(k=1/k,t[0]=(s*P-u*S+c*T)*k,t[1]=(u*O-a*P-c*C)*k,t[2]=(a*S-s*O+c*M)*k,t[3]=(i*S-r*P-o*T)*k,t[4]=(n*P-i*O+o*C)*k,t[5]=(r*O-n*S-o*M)*k,t[6]=(m*E-v*x+y*w)*k,t[7]=(v*b-d*E-y*g)*k,t[8]=(d*x-m*b+y*_)*k,t):null}function zt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ht(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Ft(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ut(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Bt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function qt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Wt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Vt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Xt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=e[0],f=e[1],d=e[2],m=e[3],v=e[4],y=e[5],_=e[6],g=e[7],b=e[8];return Math.abs(n-h)<=p*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-f)<=p*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=p*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-m)<=p*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-v)<=p*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-y)<=p*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-_)<=p*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(c-g)<=p*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-b)<=p*Math.max(1,Math.abs(l),Math.abs(b))}var Yt=St,Gt=Bt;function Kt(){var t=new d(16);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function $t(t){var e=new d(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qt(t,e,n,r,i,o,a,s,u,c,l,h,f,p,m,v){var y=new d(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=a,y[7]=s,y[8]=u,y[9]=c,y[10]=l,y[11]=h,y[12]=f,y[13]=p,y[14]=m,y[15]=v,y}function Jt(t,e,n,r,i,o,a,s,u,c,l,h,f,p,d,m,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=h,t[11]=f,t[12]=p,t[13]=d,t[14]=m,t[15]=v,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],v=e[14],y=e[15],_=n*s-r*a,g=n*u-i*a,b=n*c-o*a,w=r*u-i*s,x=r*c-o*s,E=i*c-o*u,M=l*m-h*d,C=l*v-f*d,O=l*y-p*d,T=h*v-f*m,S=h*y-p*m,P=f*y-p*v,k=_*P-g*S+b*T+w*O-x*C+E*M;return k?(k=1/k,t[0]=(s*P-u*S+c*T)*k,t[1]=(i*S-r*P-o*T)*k,t[2]=(m*E-v*x+y*w)*k,t[3]=(f*x-h*E-p*w)*k,t[4]=(u*O-a*P-c*C)*k,t[5]=(n*P-i*O+o*C)*k,t[6]=(v*b-d*E-y*g)*k,t[7]=(l*E-f*b+p*g)*k,t[8]=(a*S-s*O+c*M)*k,t[9]=(r*O-n*S-o*M)*k,t[10]=(d*x-m*b+y*_)*k,t[11]=(h*b-l*x-p*_)*k,t[12]=(s*C-a*T-u*M)*k,t[13]=(n*T-r*C+i*M)*k,t[14]=(m*g-d*w-v*_)*k,t[15]=(l*w-h*g+f*_)*k,t):null}function re(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],v=e[14],y=e[15];return t[0]=s*(f*y-p*v)-h*(u*y-c*v)+m*(u*p-c*f),t[1]=-(r*(f*y-p*v)-h*(i*y-o*v)+m*(i*p-o*f)),t[2]=r*(u*y-c*v)-s*(i*y-o*v)+m*(i*c-o*u),t[3]=-(r*(u*p-c*f)-s*(i*p-o*f)+h*(i*c-o*u)),t[4]=-(a*(f*y-p*v)-l*(u*y-c*v)+d*(u*p-c*f)),t[5]=n*(f*y-p*v)-l*(i*y-o*v)+d*(i*p-o*f),t[6]=-(n*(u*y-c*v)-a*(i*y-o*v)+d*(i*c-o*u)),t[7]=n*(u*p-c*f)-a*(i*p-o*f)+l*(i*c-o*u),t[8]=a*(h*y-p*m)-l*(s*y-c*m)+d*(s*p-c*h),t[9]=-(n*(h*y-p*m)-l*(r*y-o*m)+d*(r*p-o*h)),t[10]=n*(s*y-c*m)-a*(r*y-o*m)+d*(r*c-o*s),t[11]=-(n*(s*p-c*h)-a*(r*p-o*h)+l*(r*c-o*s)),t[12]=-(a*(h*v-f*m)-l*(s*v-u*m)+d*(s*f-u*h)),t[13]=n*(h*v-f*m)-l*(r*v-i*m)+d*(r*f-i*h),t[14]=-(n*(s*v-u*m)-a*(r*v-i*m)+d*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+l*(r*u-i*s),t}function ie(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],f=t[11],p=t[12],d=t[13],m=t[14],v=t[15];return(e*a-n*o)*(h*v-f*m)-(e*s-r*o)*(l*v-f*d)+(e*u-i*o)*(l*m-h*d)+(n*s-r*a)*(c*v-f*p)-(n*u-i*a)*(c*m-h*p)+(r*u-i*s)*(c*d-l*p)}function oe(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],p=e[10],d=e[11],m=e[12],v=e[13],y=e[14],_=e[15],g=n[0],b=n[1],w=n[2],x=n[3];return t[0]=g*r+b*s+w*h+x*m,t[1]=g*i+b*u+w*f+x*v,t[2]=g*o+b*c+w*p+x*y,t[3]=g*a+b*l+w*d+x*_,g=n[4],b=n[5],w=n[6],x=n[7],t[4]=g*r+b*s+w*h+x*m,t[5]=g*i+b*u+w*f+x*v,t[6]=g*o+b*c+w*p+x*y,t[7]=g*a+b*l+w*d+x*_,g=n[8],b=n[9],w=n[10],x=n[11],t[8]=g*r+b*s+w*h+x*m,t[9]=g*i+b*u+w*f+x*v,t[10]=g*o+b*c+w*p+x*y,t[11]=g*a+b*l+w*d+x*_,g=n[12],b=n[13],w=n[14],x=n[15],t[12]=g*r+b*s+w*h+x*m,t[13]=g*i+b*u+w*f+x*v,t[14]=g*o+b*c+w*p+x*y,t[15]=g*a+b*l+w*d+x*_,t}function ae(t,e,n){var r,i,o,a,s,u,c,l,h,f,p,d,m=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*y+e[12],t[13]=e[1]*m+e[5]*v+e[9]*y+e[13],t[14]=e[2]*m+e[6]*v+e[10]*y+e[14],t[15]=e[3]*m+e[7]*v+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=r*m+s*v+h*y+e[12],t[13]=i*m+u*v+f*y+e[13],t[14]=o*m+c*v+p*y+e[14],t[15]=a*m+l*v+d*y+e[15]),t}function se(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,m,v,y,_,g,b,w,x,E,M,C,O,T,S,P=r[0],k=r[1],j=r[2],L=Math.hypot(P,k,j);return L<p?null:(P*=L=1/L,k*=L,j*=L,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],u=e[1],c=e[2],l=e[3],h=e[4],f=e[5],d=e[6],m=e[7],v=e[8],y=e[9],_=e[10],g=e[11],b=P*P*a+o,w=k*P*a+j*i,x=j*P*a-k*i,E=P*k*a-j*i,M=k*k*a+o,C=j*k*a+P*i,O=P*j*a+k*i,T=k*j*a-P*i,S=j*j*a+o,t[0]=s*b+h*w+v*x,t[1]=u*b+f*w+y*x,t[2]=c*b+d*w+_*x,t[3]=l*b+m*w+g*x,t[4]=s*E+h*M+v*C,t[5]=u*E+f*M+y*C,t[6]=c*E+d*M+_*C,t[7]=l*E+m*M+g*C,t[8]=s*O+h*T+v*S,t[9]=u*O+f*T+y*S,t[10]=c*O+d*T+_*S,t[11]=l*O+m*T+g*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t}function le(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-l*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+c*i,t[9]=a*r+l*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t}function he(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t}function fe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function pe(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function de(t,e,n){var r,i,o,a=n[0],s=n[1],u=n[2],c=Math.hypot(a,s,u);return c<p?null:(a*=c=1/c,s*=c,u*=c,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+u*r,t[2]=u*a*o-s*r,t[3]=0,t[4]=a*s*o-u*r,t[5]=s*s*o+i,t[6]=u*s*o+a*r,t[7]=0,t[8]=a*u*o+s*r,t[9]=s*u*o-a*r,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,c=o+o,l=r*s,h=r*u,f=r*c,p=i*u,d=i*c,m=o*c,v=a*s,y=a*u,_=a*c;return t[0]=1-(p+m),t[1]=h+_,t[2]=f-y,t[3]=0,t[4]=h-_,t[5]=1-(l+m),t[6]=d+v,t[7]=0,t[8]=f+y,t[9]=d-v,t[10]=1-(l+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,e){var n=new d(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=r*r+i*i+o*o+a*a;return h>0?(n[0]=2*(s*a+l*r+u*o-c*i)/h,n[1]=2*(u*a+l*i+c*r-s*o)/h,n[2]=2*(c*a+l*o+s*i-u*r)/h):(n[0]=2*(s*a+l*r+u*o-c*i),n[1]=2*(u*a+l*i+c*r-s*o),n[2]=2*(c*a+l*o+s*i-u*r)),_e(t,e,n),t}function be(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function we(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,c,l),t}function xe(t,e){var n=new d(3);we(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,u=e[2]*o,c=e[4]*r,l=e[5]*i,h=e[6]*o,f=e[8]*r,p=e[9]*i,m=e[10]*o,v=a+l+m,y=0;return v>0?(y=2*Math.sqrt(v+1),t[3]=.25*y,t[0]=(h-p)/y,t[1]=(f-u)/y,t[2]=(s-c)/y):a>l&&a>m?(y=2*Math.sqrt(1+a-l-m),t[3]=(h-p)/y,t[0]=.25*y,t[1]=(s+c)/y,t[2]=(f+u)/y):l>m?(y=2*Math.sqrt(1+l-a-m),t[3]=(f-u)/y,t[0]=(s+c)/y,t[1]=.25*y,t[2]=(h+p)/y):(y=2*Math.sqrt(1+m-a-l),t[3]=(s-c)/y,t[0]=(f+u)/y,t[1]=(h+p)/y,t[2]=.25*y),t}function Ee(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,c=o+o,l=a+a,h=i*u,f=i*c,p=i*l,d=o*c,m=o*l,v=a*l,y=s*u,_=s*c,g=s*l,b=r[0],w=r[1],x=r[2];return t[0]=(1-(d+v))*b,t[1]=(f+g)*b,t[2]=(p-_)*b,t[3]=0,t[4]=(f-g)*w,t[5]=(1-(h+v))*w,t[6]=(m+y)*w,t[7]=0,t[8]=(p+_)*x,t[9]=(m-y)*x,t[10]=(1-(h+d))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Me(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],c=o+o,l=a+a,h=s+s,f=o*c,p=o*l,d=o*h,m=a*l,v=a*h,y=s*h,_=u*c,g=u*l,b=u*h,w=r[0],x=r[1],E=r[2],M=i[0],C=i[1],O=i[2],T=(1-(m+y))*w,S=(p+b)*w,P=(d-g)*w,k=(p-b)*x,j=(1-(f+y))*x,L=(v+_)*x,A=(d+g)*E,R=(v-_)*E,I=(1-(f+m))*E;return t[0]=T,t[1]=S,t[2]=P,t[3]=0,t[4]=k,t[5]=j,t[6]=L,t[7]=0,t[8]=A,t[9]=R,t[10]=I,t[11]=0,t[12]=n[0]+M-(T*M+k*C+A*O),t[13]=n[1]+C-(S*M+j*C+R*O),t[14]=n[2]+O-(P*M+L*C+I*O),t[15]=1,t}function Ce(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,f=i*a,p=i*s,d=i*u,m=o*a,v=o*s,y=o*u;return t[0]=1-h-d,t[1]=l+y,t[2]=f-v,t[3]=0,t[4]=l-y,t[5]=1-c-d,t[6]=p+m,t[7]=0,t[8]=f+v,t[9]=p-m,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Oe(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function Te(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function Se(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Pe(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t}function ke(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,m=e[0],v=e[1],y=e[2],_=r[0],g=r[1],b=r[2],w=n[0],x=n[1],E=n[2];return Math.abs(m-w)<p&&Math.abs(v-x)<p&&Math.abs(y-E)<p?te(t):(l=m-w,h=v-x,f=y-E,i=g*(f*=d=1/Math.hypot(l,h,f))-b*(h*=d),o=b*(l*=d)-_*f,a=_*h-g*l,(d=Math.hypot(i,o,a))?(i*=d=1/d,o*=d,a*=d):(i=0,o=0,a=0),s=h*a-f*o,u=f*i-l*a,c=l*o-h*i,(d=Math.hypot(s,u,c))?(s*=d=1/d,u*=d,c*=d):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*m+o*v+a*y),t[13]=-(s*m+u*v+c*y),t[14]=-(l*m+h*v+f*y),t[15]=1,t)}function je(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],c=r[2],l=i-n[0],h=o-n[1],f=a-n[2],p=l*l+h*h+f*f;p>0&&(l*=p=1/Math.sqrt(p),h*=p,f*=p);var d=u*f-c*h,m=c*l-s*f,v=s*h-u*l;return(p=d*d+m*m+v*v)>0&&(d*=p=1/Math.sqrt(p),m*=p,v*=p),t[0]=d,t[1]=m,t[2]=v,t[3]=0,t[4]=h*v-f*m,t[5]=f*d-l*v,t[6]=l*m-h*d,t[7]=0,t[8]=l,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Le(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ae(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Re(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Ie(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Ne(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function De(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function ze(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function He(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],d=t[11],m=t[12],v=t[13],y=t[14],_=t[15],g=e[0],b=e[1],w=e[2],x=e[3],E=e[4],M=e[5],C=e[6],O=e[7],T=e[8],S=e[9],P=e[10],k=e[11],j=e[12],L=e[13],A=e[14],R=e[15];return Math.abs(n-g)<=p*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-b)<=p*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-w)<=p*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=p*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-E)<=p*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-M)<=p*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-C)<=p*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(c-O)<=p*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(l-T)<=p*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-S)<=p*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(f-P)<=p*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(d-k)<=p*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(m-j)<=p*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(v-L)<=p*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(y-A)<=p*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(_-R)<=p*Math.max(1,Math.abs(_),Math.abs(R))}var Fe=oe,Ue=Ie;function Be(){var t=new d(3);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function qe(t){var e=new d(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function We(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Ve(t,e,n){var r=new d(3);return r[0]=t,r[1]=e,r[2]=n,r}function Xe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ye(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ge(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ke(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function $e(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Ze(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Qe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Je(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function on(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function an(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function sn(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function un(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ln(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function hn(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function fn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pn(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function dn(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function mn(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t}function vn(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*l+r[0]*h+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*h+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*h+i[2]*f,t}function yn(t,e){e=e||1;var n=2*m()*Math.PI,r=2*m()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function _n(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function gn(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function bn(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],l=i*c-o*u,h=o*s-r*c,f=r*u-i*s,p=i*f-o*h,d=o*l-r*f,m=r*h-i*l,v=2*a;return l*=v,h*=v,f*=v,p*=2,d*=2,m*=2,t[0]=s+l+p,t[1]=u+h+d,t[2]=c+f+m,t}function wn(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function xn(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function En(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Mn(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&fn(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Cn(t){return t[0]=0,t[1]=0,t[2]=0,t}function On(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Tn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Sn(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=p*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=p*Math.max(1,Math.abs(i),Math.abs(s))}var Pn=Ke,kn=$e,jn=Ze,Ln=an,An=sn,Rn=We,In=un,Nn=function(){var t=Be();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();function Dn(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function zn(t){var e=new d(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Hn(t,e,n,r){var i=new d(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Fn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Un(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Bn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function qn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Wn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Vn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Xn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Yn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Gn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Kn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function $n(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Zn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Qn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function Jn(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function tr(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function er(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function nr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function rr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function ir(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function or(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function ar(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function sr(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=e[0],h=e[1],f=e[2],p=e[3];return t[0]=h*c-f*u+p*s,t[1]=-l*c+f*a-p*o,t[2]=l*u-h*a+p*i,t[3]=-l*s+h*o-f*i,t}function ur(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function cr(t,e){var n,r,i,o,a,s;e=e||1;do{a=(n=2*m()-1)*n+(r=2*m()-1)*r}while(a>=1);do{s=(i=2*m()-1)*i+(o=2*m()-1)*o}while(s>=1);var u=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*u,t[3]=e*o*u,t}function lr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function hr(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,h=c*i+u*r-a*o,f=c*o+a*i-s*r,p=-a*r-s*i-u*o;return t[0]=l*c+p*-a+h*-u-f*-s,t[1]=h*c+p*-s+f*-a-l*-u,t[2]=f*c+p*-u+l*-s-h*-a,t[3]=e[3],t}function fr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function dr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function mr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=p*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=p*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=p*Math.max(1,Math.abs(o),Math.abs(c))}var vr=qn,yr=Wn,_r=Vn,gr=Jn,br=tr,wr=er,xr=nr,Er=function(){var t=Dn();return function(e,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function Mr(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Cr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Or(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Tr(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>p?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Sr(t,e){var n=Zr(t,e);return Math.acos(2*n*n-1)}function Pr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+a*s+i*c-o*u,t[1]=i*l+a*u+o*s-r*c,t[2]=o*l+a*c+r*u-i*s,t[3]=a*l-r*s-i*u-o*c,t}function kr(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}function jr(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}function Lr(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function Ar(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Rr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),u=a>0?s*Math.sin(a)/a:0;return t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=s*Math.cos(a),t}function Ir(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function Nr(t,e,n){return Ir(t,e),$r(t,t,n),Rr(t,t),t}function Dr(t,e,n,r){var i,o,a,s,u,c=e[0],l=e[1],h=e[2],f=e[3],d=n[0],m=n[1],v=n[2],y=n[3];return(o=c*d+l*m+h*v+f*y)<0&&(o=-o,d=-d,m=-m,v=-v,y=-y),1-o>p?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*c+u*d,t[1]=s*l+u*m,t[2]=s*h+u*v,t[3]=s*f+u*y,t}function zr(t){var e=m(),n=m(),r=m(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function Hr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function Fr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Ur(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function Br(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return t[0]=o*u*l-a*s*c,t[1]=a*s*l+o*u*c,t[2]=a*u*c-o*s*l,t[3]=a*u*l+o*s*c,t}function qr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Wr=zn,Vr=Hn,Xr=Fn,Yr=Un,Gr=Bn,Kr=Pr,$r=Zn,Zr=ar,Qr=ur,Jr=er,ti=Jr,ei=nr,ni=ei,ri=or,ii=dr,oi=mr,ai=function(){var t=Be(),e=Ve(1,0,0),n=Ve(0,1,0);return function(r,i,o){var a=fn(i,o);return a<-.999999?(pn(t,e,i),Rn(t)<1e-6&&pn(t,n,i),hn(t,t),Or(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(pn(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,ri(r,r))}}(),si=function(){var t=Mr(),e=Mr();return function(n,r,i,o,a,s){return Dr(t,r,a,s),Dr(e,i,o,s),Dr(n,t,e,2*s*(1-s)),n}}(),ui=function(){var t=yt();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],ri(e,Ur(e,t))}}();function ci(){var t=new d(8);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function li(t){var e=new d(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function hi(t,e,n,r,i,o,a,s){var u=new d(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u}function fi(t,e,n,r,i,o,a){var s=new d(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var u=.5*i,c=.5*o,l=.5*a;return s[4]=u*r+c*n-l*e,s[5]=c*r+l*t-u*n,s[6]=l*r+u*e-c*t,s[7]=-u*t-c*e-l*n,s}function pi(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=e[0],s=e[1],u=e[2],c=e[3];return t[0]=a,t[1]=s,t[2]=u,t[3]=c,t[4]=r*c+i*u-o*s,t[5]=i*c+o*a-r*u,t[6]=o*c+r*s-i*a,t[7]=-r*a-i*s-o*u,t}function di(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function mi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function vi(t,e){var n=Mr();xe(n,e);var r=new d(3);return be(r,e),pi(t,n,r),t}function yi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function _i(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function gi(t,e,n,r,i,o,a,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t}var bi=Xr;function wi(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var xi=Xr;function Ei(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Mi(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],u=-e[2],c=e[3];return t[0]=2*(n*c+o*a+r*u-i*s),t[1]=2*(r*c+o*s+i*a-n*u),t[2]=2*(i*c+o*u+n*s-r*a),t}function Ci(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],l=e[4],h=e[5],f=e[6],p=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*c-o*u+l,t[5]=a*u+o*s-r*c+h,t[6]=a*c+r*u-i*s+f,t[7]=-r*s-i*u-o*c+p,t}function Oi(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=s*a+l*r+u*o-c*i,f=u*a+l*i+c*r-s*o,p=c*a+l*o+s*i-u*r,d=l*a-s*r-u*i-c*o;return kr(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+d*r+f*o-p*i,t[5]=f*a+d*i+p*r-h*o,t[6]=p*a+d*o+h*i-f*r,t[7]=d*a-h*r-f*i-p*o,t}function Ti(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=s*a+l*r+u*o-c*i,f=u*a+l*i+c*r-s*o,p=c*a+l*o+s*i-u*r,d=l*a-s*r-u*i-c*o;return jr(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+d*r+f*o-p*i,t[5]=f*a+d*i+p*r-h*o,t[6]=p*a+d*o+h*i-f*r,t[7]=d*a-h*r-f*i-p*o,t}function Si(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=s*a+l*r+u*o-c*i,f=u*a+l*i+c*r-s*o,p=c*a+l*o+s*i-u*r,d=l*a-s*r-u*i-c*o;return Lr(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+d*r+f*o-p*i,t[5]=f*a+d*i+p*r-h*o,t[6]=p*a+d*o+h*i-f*r,t[7]=d*a-h*r-f*i-p*o,t}function Pi(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],l=e[3];return t[0]=s*a+l*r+u*o-c*i,t[1]=u*a+l*i+c*r-s*o,t[2]=c*a+l*o+s*i-u*r,t[3]=l*a-s*r-u*i-c*o,s=e[4],u=e[5],c=e[6],l=e[7],t[4]=s*a+l*r+u*o-c*i,t[5]=u*a+l*i+c*r-s*o,t[6]=c*a+l*o+s*i-u*r,t[7]=l*a-s*r-u*i-c*o,t}function ki(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+a*s+i*c-o*u,t[1]=i*l+a*u+o*s-r*c,t[2]=o*l+a*c+r*u-i*s,t[3]=a*l-r*s-i*u-o*c,s=n[4],u=n[5],c=n[6],l=n[7],t[4]=r*l+a*s+i*c-o*u,t[5]=i*l+a*u+o*s-r*c,t[6]=o*l+a*c+r*u-i*s,t[7]=a*l-r*s-i*u-o*c,t}function ji(t,e,n,r){if(Math.abs(r)<p)return yi(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),a=o*n[0]/i,s=o*n[1]/i,u=o*n[2]/i,c=Math.cos(r),l=e[0],h=e[1],f=e[2],d=e[3];t[0]=l*c+d*a+h*u-f*s,t[1]=h*c+d*s+f*a-l*u,t[2]=f*c+d*u+l*s-h*a,t[3]=d*c-l*a-h*s-f*u;var m=e[4],v=e[5],y=e[6],_=e[7];return t[4]=m*c+_*a+v*u-y*s,t[5]=v*c+_*s+y*a-m*u,t[6]=y*c+_*u+m*s-v*a,t[7]=_*c-m*a-v*s-y*u,t}function Li(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Ai(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[4],u=n[5],c=n[6],l=n[7],h=e[4],f=e[5],p=e[6],d=e[7],m=n[0],v=n[1],y=n[2],_=n[3];return t[0]=r*_+a*m+i*y-o*v,t[1]=i*_+a*v+o*m-r*y,t[2]=o*_+a*y+r*v-i*m,t[3]=a*_-r*m-i*v-o*y,t[4]=r*l+a*s+i*c-o*u+h*_+d*m+f*y-p*v,t[5]=i*l+a*u+o*s-r*c+f*_+d*v+p*m-h*y,t[6]=o*l+a*c+r*u-i*s+p*_+d*y+h*v-f*m,t[7]=a*l-r*s-i*u-o*c+d*_-h*m-f*v-p*y,t}var Ri=Ai;function Ii(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Ni=Zr;function Di(t,e,n,r){var i=1-r;return Ni(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function zi(t,e){var n=Bi(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Hi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Fi=Jr,Ui=Fi,Bi=ei,qi=Bi;function Wi(t,e){var n=Bi(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,a=e[3]/n,s=e[4],u=e[5],c=e[6],l=e[7],h=r*s+i*u+o*c+a*l;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(s-r*h)/n,t[5]=(u-i*h)/n,t[6]=(c-o*h)/n,t[7]=(l-a*h)/n}return t}function Vi(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Xi(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Yi(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=e[0],h=e[1],f=e[2],d=e[3],m=e[4],v=e[5],y=e[6],_=e[7];return Math.abs(n-l)<=p*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=p*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-f)<=p*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=p*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-m)<=p*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=p*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=p*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-_)<=p*Math.max(1,Math.abs(c),Math.abs(_))}function Gi(){var t=new d(2);return d!=Float32Array&&(t[0]=0,t[1]=0),t}function Ki(t){var e=new d(2);return e[0]=t[0],e[1]=t[1],e}function $i(t,e){var n=new d(2);return n[0]=t,n[1]=e,n}function Zi(t,e){return t[0]=e[0],t[1]=e[1],t}function Qi(t,e,n){return t[0]=e,t[1]=n,t}function Ji(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function to(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function eo(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function no(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function ro(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function io(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function oo(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ao(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function so(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function uo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function co(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function lo(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function ho(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function fo(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function po(t){var e=t[0],n=t[1];return e*e+n*n}function mo(t,e){return t[0]=-e[0],t[1]=-e[1],t}function vo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function yo(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function _o(t,e){return t[0]*e[0]+t[1]*e[1]}function go(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function bo(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function wo(t,e){e=e||1;var n=2*m()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function xo(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Eo(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Mo(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Co(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Oo(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function To(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function So(t){return t[0]=0,t[1]=0,t}function Po(t){return"vec2("+t[0]+", "+t[1]+")"}function ko(t,e){return t[0]===e[0]&&t[1]===e[1]}function jo(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=p*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=p*Math.max(1,Math.abs(r),Math.abs(o))}var Lo=fo,Ao=to,Ro=eo,Io=no,No=lo,Do=ho,zo=po,Ho=function(){var t=Gi();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();n.d(e,"glMatrix",(function(){return r})),n.d(e,"mat2",(function(){return i})),n.d(e,"mat2d",(function(){return o})),n.d(e,"mat3",(function(){return a})),n.d(e,"mat4",(function(){return s})),n.d(e,"quat",(function(){return l})),n.d(e,"quat2",(function(){return h})),n.d(e,"vec2",(function(){return f})),n.d(e,"vec3",(function(){return u})),n.d(e,"vec4",(function(){return c}))},636:function(t,e,n){"use strict";var r=n(631),i=n(200),o=n(126),a=n(4),s=n.n(a),u=n(66);function c(){var t=Object(o.a)(["\n  min-height: ","; /* fix */\n  &&& {\n    ","\n  }\n  &&& > span,\n  &&& > a {\n    ","\n  }\n  &&&:hover > span {\n    ","\n  }\n"]);return c=function(){return t},t}var l=Object(u.default)((function(t){t.unsetHeight;var e=Object(i.a)(t,["unsetHeight"]);return s.a.createElement(r.a,e)}))(c(),(function(t){return t.unsetHeight||"small"===t.size?"unset":"32px"}),(function(t){return"link"===t.type&&"padding: 0; height: auto; min-height: unset;"}),(function(t){return"link"===t.type&&"text-decoration: underline;"}),(function(t){return"link"===t.type&&"opacity: 0.65;"}));l.Group=r.a.Group,e.a=l},639:function(t,e,n){"use strict";function r(t){for(var e=document.documentElement.style,n=["Moz","Webkit","Khtml","O","ms"],r=0;r<n.length;r++){var i=n[r]+(t[0].toUpperCase()+t.slice(1));if(i in e)return i}return t}function i(t){var e=r(t);return function(t,n){return t.style[e]=n}}var o=i("transform"),a=i("transformOrigin");t.exports={prefixProperty:r,getWithVendorPrefix:function(t){var e=r(t);return function(t){return t.style[e]}},setWithVendorPrefix:i,setTransform:o,setTransformOrigin:a,setNullTransform:function(t){o(t,"translateZ(0)")},setNullTransformOrigin:function(t){a(t,"0 0 0")},setAbsolute:function(t){t.style.position="absolute"},setPixelPosition:function(t,e,n){t.style.left=e+"px",t.style.top=n+"px"},setPixelSize:function(t,e,n){t.style.width=e+"px",t.style.height=n+"px"},setNullSize:function(t){t.style.width=t.style.height=0},setFullSize:function(t){t.style.width=t.style.height="100%"},setOverflowHidden:function(t){t.style.overflow="hidden"},setOverflowVisible:function(t){t.style.overflow="visible"},setNoPointerEvents:function(t){t.style.pointerEvents="none"}}},641:function(t,e,n){"use strict";var r=n(635),i=n(643),o=n.n(i),a=n(644),s=n(623),u=n(200),c=n(4),l=n.n(c),h=n(980),f=n(234),p=n(96),d=n(181),m=n(331),v={"https://smplrspace.com/jwt/claims":{smplradmin:!0,missiveDigest:"29d89bf5a300040b85e1fa872c764ab10c308564c596b50fce8f52ea88dd955a"},nickname:"offline+dev",name:"Offline Dev",picture:"https://s.gravatar.com/avatar/a3512bf47e41a59795b0c477ec0bc70a?s=480&r=pg&d=https%3A%2F%2Fcdn.auth0.com%2Favatars%2Fxx.png",updated_at:"2019-11-22T13:56:01.922Z",email:"thibaut@smplrspace.com",email_verified:!0,sub:"auth0|5e528aac6b8bfb0cf27adb7b",phoneStatus:"verified",noConsent:!1,noNotificationChannels:!1},y=n(126),_=n(375),g=n.n(_),b=n(384),w=n(662),x=n(272),E=n.n(x);function M(){var t=Object(y.a)(["\n  mutation updateUserPrefs(\n    $auth0Id: String!\n    $defaultUnit: String!\n    $guidedWorkflow: Boolean!\n    $spaceListingView: String!\n    $onbdgDidStudioWalkthrough: Boolean!\n    $onbdgDismissedTips: String!\n  ) {\n    update_users_by_pk(\n      pk_columns: { auth0_id: $auth0Id }\n      _set: {\n        default_unit: $defaultUnit\n        guided_workflow: $guidedWorkflow\n        space_listing_view: $spaceListingView\n        onbdg_did_studio_walkthrough: $onbdgDidStudioWalkthrough\n        onbdg_dismissed_tips: $onbdgDismissedTips\n      }\n    ) {\n      name\n    }\n  }\n"]);return M=function(){return t},t}function C(){var t=Object(y.a)(["\n  query fetchUserData($auth0Id: String!) {\n    users_by_pk(auth0_id: $auth0Id) {\n      accept_terms\n      accept_privacy_policy\n      email_verified\n      phone_status\n      status\n      ff_cameras\n      ff_export\n      ff_roof\n      ff_sandbox\n      ff_annotation_media\n      onbdg_did_studio_walkthrough\n      onbdg_dismissed_tips\n      guided_workflow\n      space_listing_view\n      default_unit\n      notification_channels\n    }\n  }\n"]);return C=function(){return t},t}var O=g()(C()),T=g()(M()),S=function(t){var e=t.user,r=t.token,i=t.setUser,s=t.store,u=n(628).getClient,c=function(){var t=Object(a.a)(o.a.mark((function t(){var n,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(r).request(Object(b.a)(O),{auth0Id:e.sub});case 2:n=t.sent,a=n.users_by_pk,c={status:a.status,phoneStatus:a.phone_status},a.accept_terms&&a.accept_privacy_policy?c.noConsent=!1:c.noConsent=!0,a.email_verified?c.emailNotVerified=!1:c.emailNotVerified=!0,0===a.notification_channels.length?c.noNotificationChannels=!0:c.noNotificationChannels=!1,i(Object(f.a)(e,c)),s.user.setFeatureFlags({cameras:a.ff_cameras,export:a.ff_export,sandbox:a.ff_sandbox,annotationMedia:a.ff_annotation_media,roof:a.ff_roof}),s.user.setPreferences({spaceListingView:a.space_listing_view,useGuidedWorkflow:a.guided_workflow,unit:a.default_unit}),s.user.setOnboarding({dismissedTips:a.onbdg_dismissed_tips?a.onbdg_dismissed_tips.split(", "):[],didStudioWalkthrough:a.onbdg_did_studio_walkthrough});case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(w.reaction)((function(){return{spaceListingView:s.user.preferences.spaceListingView,guidedWorkflow:s.user.preferences.useGuidedWorkflow,defaultUnit:s.user.preferences.unit,onbdgDismissedTips:s.user.onboarding.dismissedTips.join(", "),onbdgDidStudioWalkthrough:s.user.onboarding.didStudioWalkthrough}}),(function(t){var n=t.spaceListingView,i=t.guidedWorkflow,o=t.defaultUnit,a=t.onbdgDismissedTips,s=t.onbdgDidStudioWalkthrough;u(r).request(Object(b.a)(T),{auth0Id:e.sub,spaceListingView:n,guidedWorkflow:i,defaultUnit:o,onbdgDismissedTips:a,onbdgDidStudioWalkthrough:s})}));var l=E()(c,1e4);return Object(w.reaction)((function(){return s.user.syncRequestHash}),l),c()};n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return L})),n.d(e,"a",(function(){return A}));var P=!1,k=function(t){var e=document.getElementById("loader-login");t?e&&e.classList.add("active"):e&&e.classList.remove("active")},j=l.a.createContext(),L=function(){return Object(c.useContext)(j)},A=function(t){var e=t.children,n=t.store,i=Object(u.a)(t,["children","store"]),y=Object(m.g)(),_=Object(c.useState)(),g=Object(s.a)(_,2),b=g[0],w=g[1],x=Object(c.useState)(),E=Object(s.a)(x,2),M=E[0],C=E[1],O=Object(c.useState)(),T=Object(s.a)(O,2),L=T[0],A=T[1],R=Object(c.useState)(!0),I=Object(s.a)(R,2),N=I[0],D=I[1],z=Object(c.useState)(!1),H=Object(s.a)(z,2),F=H[0],U=H[1],B=Object(c.useState)(!navigator.onLine),q=Object(s.a)(B,2),W=q[0],V=q[1],X=Object(c.useState)(!1),Y=Object(s.a)(X,2),G=Y[0],K=Y[1];Object(c.useEffect)((function(){if(M){var t=M.email,e=M.name,n=M.status;p.e((function(r){r.setUser({email:t,name:e,status:n})})),d.a.logger.info("Login",{email:t,user:M})}else p.e((function(t){t.setUser(null)}))}),[M&&M.email]);var $=function(){var t=Object(a.a)(o.a.mark((function t(e){var r,i,a,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.auth0Client,i=e.user,a=e.offline,s=void 0!==a&&a,k(!1),i.smplradmin=i["https://smplrspace.com/jwt/claims"].smplradmin,i.missiveDigest=i["https://smplrspace.com/jwt/claims"].missiveDigest,C(i),s){t.next=10;break}return t.next=8,r.getTokenSilently();case 8:u=t.sent,S({user:i,token:u,setUser:C,store:n});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){var t=function(){return V(!1)},e=function(){return V(!0)};window.addEventListener("online",t),window.addEventListener("offline",e);var n=function(){var t=Object(a.a)(o.a.mark((function t(){var e,n,r,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,Object(h.a)(i);case 3:if(e=t.sent,A(e),!window.location.search.includes("code=")){t.next=11;break}return t.next=8,e.handleRedirectCallback();case 8:n=t.sent,r=n.appState,y.push(r&&r.targetUrl,r);case 11:return t.next=13,e.isAuthenticated();case 13:if(!(a=t.sent)){t.next=21;break}return t.next=17,e.getUser();case 17:return s=t.sent,t.next=20,$({auth0Client:e,user:s});case 20:localStorage.setItem("smplrspace-auth0",JSON.stringify(s));case 21:w(a),D(!1);case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(a.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.user,t.next=3,$({user:v,offline:!0});case 3:w(!0),D(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(P)r({user:v});else if(W){if(localStorage.getItem("smplrspace-auth0"))r({user:JSON.parse(localStorage.getItem("smplrspace-auth0"))})}else n();return function(){window.removeEventListener("online",t),window.removeEventListener("offline",e)}}),[]);var Z=function(){var t=Object(a.a)(o.a.mark((function t(){var e,n,i=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{},!P&&!W){t.next=4;break}return r.a.error("You cannot log in while ".concat(P?"in offline dev":"offline")),t.abrupt("return");case 4:return U(!0),t.prev=5,t.next=8,L.loginWithPopup(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),smplrprint.error(t.t0);case 13:return t.prev=13,U(!1),t.finish(13);case 16:return t.next=18,L.getUser();case 18:return n=t.sent,t.next=21,$({auth0Client:L,user:n});case 21:localStorage.setItem("smplrspace-auth0",JSON.stringify(n)),w(!0);case 23:case"end":return t.stop()}}),t,null,[[5,10,13,16]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(a.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!0),t.next=3,L.handleRedirectCallback();case 3:return t.next=5,L.getUser();case 5:return e=t.sent,t.next=8,$({auth0Client:L,user:e});case 8:localStorage.setItem("smplrspace-auth0",JSON.stringify(e)),w(!0),D(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(a.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!P){t.next=2;break}return t.abrupt("return",S({user:M,token:"",setUser:C,store:n}));case 2:if(W){t.next=7;break}return t.next=5,L.getTokenSilently();case 5:e=t.sent,S({user:M,token:e,setUser:C,store:n});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(j.Provider,{value:{isAuthenticated:b,user:M,loading:N,offline:W,popupOpen:F,loginWithPopup:Z,logout:function(){P||W?r.a.error("You cannot log out while ".concat(P?"in offline dev":"offline")):(d.a.logger.info("Logout",{email:M.email,user:M}),K(!0),C(null),localStorage.removeItem("smplrspace-auth0"),L.logout.apply(L,arguments))},loggingOut:G,handleRedirectCallback:Q,getIdTokenClaims:function(){if(!P&&!W)return L.getIdTokenClaims.apply(L,arguments);r.a.error("You cannot request tokens while ".concat(P?"in offline dev":"offline"))},loginWithRedirect:function(){P||W?r.a.error("You cannot login while ".concat(P?"in offline dev":"offline")):L.loginWithRedirect.apply(L,arguments)},getTokenSilently:function(){return P?new Promise((function(t,e){return t("")})):W?void r.a.error("You cannot make API calls while offline"):L.getTokenSilently.apply(L,arguments)},getTokenWithPopup:function(){if(!P&&!W)return L.getTokenWithPopup.apply(L,arguments);r.a.error("You cannot make API calls while ".concat(P?"in offline dev":"offline"))},updateUser:function(t){var e=Object(f.a)(M,t);C(e),localStorage.setItem("smplrspace-auth0",JSON.stringify(e))},resyncUser:J}},e)}},650:function(t,e,n){"use strict";t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},651:function(t,e,n){"use strict";t.exports=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}},655:function(t,e,n){"use strict";function r(){this.velocity=null,this.friction=null,this.offset=null}r.equals=function(t,e){return t.velocity===e.velocity&&t.friction===e.friction&&t.offset===e.offset},r.prototype.equals=function(t){return r.equals(this,t)},r.prototype.update=function(t,e){t.offset&&(this.offset=this.offset||0,this.offset+=t.offset);var n=this.offsetFromVelocity(e);n&&(this.offset=this.offset||0,this.offset+=n),this.velocity=t.velocity,this.friction=t.friction},r.prototype.reset=function(){this.velocity=null,this.friction=null,this.offset=null},r.prototype.velocityAfter=function(t){return this.velocity?this.friction?function(t,e){if(t<0)return Math.min(0,t+e);if(t>0)return Math.max(0,t-e);return 0}(this.velocity,this.friction*t):this.velocity:null},r.prototype.offsetFromVelocity=function(t){t=Math.min(t,this.nullVelocityTime());var e=this.velocityAfter(t);return(this.velocity+e)/2*t},r.prototype.nullVelocityTime=function(){return null==this.velocity?0:this.velocity&&!this.friction?1/0:Math.abs(this.velocity/this.friction)},t.exports=r},657:function(t,e,n){"use strict";var r=n(4),i=n(201),o=n.n(i);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,h(e).apply(this,arguments))}var n,i,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){var t,e,n=this.props,i=n.prefixCls,a=n.className,c=n.style,l=n.size,h=n.shape,f=o()((u(t={},"".concat(i,"-lg"),"large"===l),u(t,"".concat(i,"-sm"),"small"===l),t)),p=o()((u(e={},"".concat(i,"-circle"),"circle"===h),u(e,"".concat(i,"-square"),"square"===h),e)),d="number"===typeof l?{width:l,height:l,lineHeight:"".concat(l,"px")}:{};return r.createElement("span",{className:o()(i,a,f,p),style:s(s({},d),c)})}}])&&c(n.prototype,i),a&&c(n,a),e}(r.Component);p.defaultProps={size:"large"};var d=p;function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var v=function(t){var e=t.prefixCls,n=t.className,i=t.width,a=t.style;return r.createElement("h3",{className:o()(e,n),style:m({width:i},a)})};function y(t){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,w(e).apply(this,arguments))}var n,i,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,t),n=e,(i=[{key:"getWidth",value:function(t){var e=this.props,n=e.width,r=e.rows,i=void 0===r?2:r;return Array.isArray(n)?n[t]:i-1===t?n:void 0}},{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,i=e.className,a=e.style,s=e.rows,u=_(Array(s)).map((function(e,n){return r.createElement("li",{key:n,style:{width:t.getWidth(n)}})}));return r.createElement("ul",{className:o()(n,i),style:a},u)}}])&&g(n.prototype,i),a&&g(n,a),e}(r.Component),M=n(598);function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return!e||"object"!==j(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t){return t&&"object"===j(t)?t:{}}var A=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=S(this,P(e).apply(this,arguments))).renderSkeleton=function(e){var n=e.getPrefixCls,i=t.props,a=i.prefixCls,s=i.loading,u=i.className,c=i.children,l=i.avatar,h=i.title,f=i.paragraph,p=i.active,m=n("skeleton",a);if(s||!("loading"in t.props)){var y,_,g,b=!!l,w=!!h,x=!!f;if(b){var M=O(O({prefixCls:"".concat(m,"-avatar")},function(t,e){return t&&!e?{shape:"square"}:{shape:"circle"}}(w,x)),L(l));_=r.createElement("div",{className:"".concat(m,"-header")},r.createElement(d,M))}if(w||x){var T,S;if(w){var P=O(O({prefixCls:"".concat(m,"-title")},function(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}(b,x)),L(h));T=r.createElement(v,P)}if(x){var k=O(O({prefixCls:"".concat(m,"-paragraph")},function(t,e){var n={};return t&&e||(n.width="61%"),n.rows=!t&&e?3:2,n}(b,w)),L(f));S=r.createElement(E,k)}g=r.createElement("div",{className:"".concat(m,"-content")},T,S)}var j=o()(m,u,(C(y={},"".concat(m,"-with-avatar"),b),C(y,"".concat(m,"-active"),p),y));return r.createElement("div",{className:j},_,g)}return c},t}var n,i,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return r.createElement(M.a,null,this.renderSkeleton)}}])&&T(n.prototype,i),a&&T(n,a),e}(r.Component);A.defaultProps={avatar:!1,title:!0,paragraph:!0};e.a=A},664:function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(110),a=n.n(o),s=n(78),u=n.n(s),c=n(69),l=n.n(c),h=n(79),f=n.n(h),p=n(71),d=n.n(p),m={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=m.F1&&e<=m.F12)return!1;switch(e){case m.ALT:case m.CAPS_LOCK:case m.CONTEXT_MENU:case m.CTRL:case m.DOWN:case m.END:case m.ESC:case m.HOME:case m.INSERT:case m.LEFT:case m.MAC_FF_META:case m.META:case m.NUMLOCK:case m.NUM_CENTER:case m.PAGE_DOWN:case m.PAGE_UP:case m.PAUSE:case m.PRINT_SCREEN:case m.RIGHT:case m.SHIFT:case m.UP:case m.WIN_KEY:case m.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=m.ZERO&&t<=m.NINE)return!0;if(t>=m.NUM_ZERO&&t<=m.NUM_MULTIPLY)return!0;if(t>=m.A&&t<=m.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case m.SPACE:case m.QUESTION_MARK:case m.NUM_PLUS:case m.NUM_MINUS:case m.NUM_PERIOD:case m.NUM_DIVISION:case m.SEMICOLON:case m.DASH:case m.EQUALS:case m.COMMA:case m.PERIOD:case m.SLASH:case m.APOSTROPHE:case m.SINGLE_QUOTE:case m.OPEN_SQUARE_BRACKET:case m.BACKSLASH:case m.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},v=m;var y=n(275),_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},g=function(t){function e(){return u()(this,e),l()(this,t.apply(this,arguments))}return f()(e,t),e.prototype.shouldComponentUpdate=function(t){return!!t.forceRender||(!!t.hiddenClassName||!!t.visible)},e.prototype.render=function(){var t=this.props,e=t.className,n=t.hiddenClassName,i=t.visible,o=(t.forceRender,_(t,["className","hiddenClassName","visible","forceRender"])),s=e;return n&&!i&&(s+=" "+n),r.createElement("div",a()({},o,{className:s}))},e}(r.Component),b=0;function w(t,e){var n=t["page"+(e?"Y":"X")+"Offset"],r="scroll"+(e?"Top":"Left");if("number"!==typeof n){var i=t.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function x(t,e){var n=t.style;["Webkit","Moz","Ms","ms"].forEach((function(t){n[t+"TransformOrigin"]=e})),n.transformOrigin=e}var E=function(t){function e(n){u()(this,e);var i=l()(this,t.call(this,n));return i.inTransition=!1,i.onAnimateLeave=function(){var t=i.props.afterClose;i.wrap&&(i.wrap.style.display="none"),i.inTransition=!1,i.switchScrollingEffect(),t&&t()},i.onDialogMouseDown=function(){i.dialogMouseDown=!0},i.onMaskMouseUp=function(){i.dialogMouseDown&&(i.timeoutId=setTimeout((function(){i.dialogMouseDown=!1}),0))},i.onMaskClick=function(t){Date.now()-i.openTime<300||t.target!==t.currentTarget||i.dialogMouseDown||i.close(t)},i.onKeyDown=function(t){var e=i.props;if(e.keyboard&&t.keyCode===v.ESC)return t.stopPropagation(),void i.close(t);if(e.visible&&t.keyCode===v.TAB){var n=document.activeElement,r=i.sentinelStart;t.shiftKey?n===r&&i.sentinelEnd.focus():n===i.sentinelEnd&&r.focus()}},i.getDialogElement=function(){var t=i.props,e=t.closable,n=t.prefixCls,o={};void 0!==t.width&&(o.width=t.width),void 0!==t.height&&(o.height=t.height);var s=void 0;t.footer&&(s=r.createElement("div",{className:n+"-footer",ref:i.saveRef("footer")},t.footer));var u=void 0;t.title&&(u=r.createElement("div",{className:n+"-header",ref:i.saveRef("header")},r.createElement("div",{className:n+"-title",id:i.titleId},t.title)));var c=void 0;e&&(c=r.createElement("button",{type:"button",onClick:i.close,"aria-label":"Close",className:n+"-close"},t.closeIcon||r.createElement("span",{className:n+"-close-x"})));var l=a()({},t.style,o),h={width:0,height:0,overflow:"hidden"},f=i.getTransitionName(),p=r.createElement(g,{key:"dialog-element",role:"document",ref:i.saveRef("dialog"),style:l,className:n+" "+(t.className||""),visible:t.visible,forceRender:t.forceRender,onMouseDown:i.onDialogMouseDown},r.createElement("div",{tabIndex:0,ref:i.saveRef("sentinelStart"),style:h,"aria-hidden":"true"}),r.createElement("div",{className:n+"-content"},c,u,r.createElement("div",a()({className:n+"-body",style:t.bodyStyle,ref:i.saveRef("body")},t.bodyProps),t.children),s),r.createElement("div",{tabIndex:0,ref:i.saveRef("sentinelEnd"),style:h,"aria-hidden":"true"}));return r.createElement(y.default,{key:"dialog",showProp:"visible",onLeave:i.onAnimateLeave,transitionName:f,component:"",transitionAppear:!0},t.visible||!t.destroyOnClose?p:null)},i.getZIndexStyle=function(){var t={},e=i.props;return void 0!==e.zIndex&&(t.zIndex=e.zIndex),t},i.getWrapStyle=function(){return a()({},i.getZIndexStyle(),i.props.wrapStyle)},i.getMaskStyle=function(){return a()({},i.getZIndexStyle(),i.props.maskStyle)},i.getMaskElement=function(){var t=i.props,e=void 0;if(t.mask){var n=i.getMaskTransitionName();e=r.createElement(g,a()({style:i.getMaskStyle(),key:"mask",className:t.prefixCls+"-mask",hiddenClassName:t.prefixCls+"-mask-hidden",visible:t.visible},t.maskProps)),n&&(e=r.createElement(y.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},e))}return e},i.getMaskTransitionName=function(){var t=i.props,e=t.maskTransitionName,n=t.maskAnimation;return!e&&n&&(e=t.prefixCls+"-"+n),e},i.getTransitionName=function(){var t=i.props,e=t.transitionName,n=t.animation;return!e&&n&&(e=t.prefixCls+"-"+n),e},i.close=function(t){var e=i.props.onClose;e&&e(t)},i.saveRef=function(t){return function(e){i[t]=e}},i.titleId="rcDialogTitle"+b++,i.switchScrollingEffect=n.switchScrollingEffect||function(){},i}return f()(e,t),e.prototype.componentDidMount=function(){this.componentDidUpdate({}),(this.props.forceRender||!1===this.props.getContainer&&!this.props.visible)&&this.wrap&&(this.wrap.style.display="none")},e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.visible,r=e.mask,i=e.focusTriggerAfterClose,o=this.props.mousePosition;if(n){if(!t.visible){this.openTime=Date.now(),this.switchScrollingEffect(),this.tryFocus();var a=p.findDOMNode(this.dialog);if(o){var s=function(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=w(i),n.top+=w(i,!0),n}(a);x(a,o.x-s.left+"px "+(o.y-s.top)+"px")}else x(a,"")}}else if(t.visible&&(this.inTransition=!0,r&&this.lastOutSideFocusNode&&i)){try{this.lastOutSideFocusNode.focus()}catch(u){this.lastOutSideFocusNode=null}this.lastOutSideFocusNode=null}},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.visible,n=t.getOpenCount;!e&&!this.inTransition||n()||this.switchScrollingEffect(),clearTimeout(this.timeoutId)},e.prototype.tryFocus=function(){(function(t,e){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1})(this.wrap,document.activeElement)||(this.lastOutSideFocusNode=document.activeElement,this.sentinelStart.focus())},e.prototype.render=function(){var t=this.props,e=t.prefixCls,n=t.maskClosable,i=this.getWrapStyle();return t.visible&&(i.display=null),r.createElement("div",{className:e+"-root"},this.getMaskElement(),r.createElement("div",a()({tabIndex:-1,onKeyDown:this.onKeyDown,className:e+"-wrap "+(t.wrapClassName||""),ref:this.saveRef("wrap"),onClick:n?this.onMaskClick:null,onMouseUp:n?this.onMaskMouseUp:null,role:"dialog","aria-labelledby":t.title?this.titleId:null,style:i},t.wrapProps),this.getDialogElement()))},e}(r.Component),M=E;E.defaultProps={className:"",mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",focusTriggerAfterClose:!0};var C=n(13),O=n.n(C),T=n(373);function S(t){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==S(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=k(this,(t=j(e)).call.apply(t,[this].concat(i)))).removeContainer=function(){n.container&&(d.a.unmountComponentAtNode(n.container),n.container.parentNode.removeChild(n.container),n.container=null)},n.renderComponent=function(t,e){var r=n.props,i=r.visible,o=r.getComponent,a=r.forceRender,s=r.getContainer,u=r.parent;(i||u._component||a)&&(n.container||(n.container=s()),d.a.unstable_renderSubtreeIntoContainer(u,o(t),n.container,(function(){e&&e.call(this)})))},n}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}])&&P(n.prototype,r),i&&P(n,i),e}(i.a.Component);function R(t){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return!e||"object"!==R(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}A.propTypes={autoMount:O.a.bool,autoDestroy:O.a.bool,visible:O.a.bool,forceRender:O.a.bool,parent:O.a.any,getComponent:O.a.func.isRequired,getContainer:O.a.func.isRequired,children:O.a.func.isRequired},A.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};var H,F=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,D(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(t){var e=this.props.didUpdate;e&&e(t)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?d.a.createPortal(this.props.children,this._container):null}}])&&I(n.prototype,r),i&&I(n,i),e}(i.a.Component);F.propTypes={getContainer:O.a.func.isRequired,children:O.a.node.isRequired,didUpdate:O.a.func};var U=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).element,n=void 0===e?document.body:e,r={},i=Object.keys(t);return i.forEach((function(t){r[t]=n.style[t]})),i.forEach((function(e){n.style[e]=t[e]})),r};var B={},q=function(t){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||t){var e=new RegExp("".concat("ant-scrolling-effect"),"g"),n=document.body.className;if(t){if(!e.test(n))return;return U(B),B={},void(document.body.className=n.replace(e,"").trim())}var r=function(t){if("undefined"===typeof document)return 0;if(t||void 0===H){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top=0,r.left=0,r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),H=i-o}return H}();if(r&&(B=U({position:"relative",width:"calc(100% - ".concat(r,"px)")}),!e.test(n))){var i="".concat(n," ").concat("ant-scrolling-effect");document.body.className=i.trim()}}};function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(n,!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t){return(Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=0,J=!("undefined"!==typeof window&&window.document&&window.document.createElement),tt="createPortal"in d.a,et={},nt=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Y(e)&&"function"!==typeof e?$(t):e}(this,K(e).call(this,t))).getParent=function(){var t=n.props.getContainer;if(t){if("string"===typeof t)return document.querySelectorAll(t)[0];if("function"===typeof t)return t();if("object"===Y(t)&&t instanceof window.HTMLElement)return t}return document.body},n.getContainer=function(){if(J)return null;if(!n.container){n.container=document.createElement("div");var t=n.getParent();t&&t.appendChild(n.container)}return n.setWrapperClassName(),n.container},n.setWrapperClassName=function(){var t=n.props.wrapperClassName;n.container&&t&&t!==n.container.className&&(n.container.className=t)},n.savePortal=function(t){n._component=t},n.removeCurrentContainer=function(t){n.container=null,n._component=null,tt||(t?n.renderComponent({afterClose:n.removeContainer,onClose:function(){},visible:!1}):n.removeContainer())},n.switchScrollingEffect=function(){1!==Q||Object.keys(et).length?Q||(U(et),et={},q(!0)):(q(),et=U({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))};var r=t.visible;return Q=r?Q+1:Q,n.state={_self:$(n)},n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,o=[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.prevProps,r=e._self,i=t.visible,o=t.getContainer;if(n){var a=n.visible,s=n.getContainer;i!==a&&(Q=i&&!a?Q+1:Q-1),("function"===typeof o&&"function"===typeof s?o.toString()!==s.toString():o!==s)&&r.removeCurrentContainer(!1)}return{prevProps:t}}}],(r=[{key:"componentDidUpdate",value:function(){this.setWrapperClassName()}},{key:"componentWillUnmount",value:function(){var t=this.props.visible;Q=t&&Q?Q-1:Q,this.removeCurrentContainer(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.forceRender,o=e.visible,a=null,s={getOpenCount:function(){return Q},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect};return tt?((r||o||this._component)&&(a=i.a.createElement(F,{getContainer:this.getContainer,ref:this.savePortal},n(s))),a):i.a.createElement(A,{parent:this,visible:o,autoDestroy:!1,getComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(V({},e,{},s,{ref:t.savePortal}))},getContainer:this.getContainer,forceRender:r},(function(e){var n=e.renderComponent,r=e.removeContainer;return t.renderComponent=n,t.removeContainer=r,null}))}}])&&G(n.prototype,r),o&&G(n,o),e}(i.a.Component);nt.propTypes={wrapperClassName:O.a.string,forceRender:O.a.bool,getContainer:O.a.any,children:O.a.func,visible:O.a.bool};var rt=Object(T.polyfill)(nt),it=function(t){var e=t.visible,n=t.getContainer,i=t.forceRender;return!1===n?r.createElement(M,a()({},t,{getOpenCount:function(){return 2}})):r.createElement(rt,{visible:e,forceRender:i,getContainer:n},(function(e){return r.createElement(M,a()({},t,e))}))},ot=n(201),at=n.n(ot),st=n(385),ut=n.n(st);var ct=n(383);function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ht=lt({},ct.a.Modal);function ft(){return ht}var pt=n(624),dt=n(631),mt=n(380),vt=n(598);function yt(t){return(yt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(){return(_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){return!e||"object"!==yt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Et,Mt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Ct=[];"undefined"!==typeof window&&window.document&&window.document.documentElement&&function(t,e,n,r){var i=d.a.unstable_batchedUpdates?function(t){d.a.unstable_batchedUpdates(n,t)}:n;ut()(t,e,i,r)}(document.documentElement,"click",(function(t){Et={x:t.pageX,y:t.pageY},setTimeout((function(){return Et=null}),100)}));var Ot=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=bt(this,wt(e).apply(this,arguments))).handleCancel=function(e){var n=t.props.onCancel;n&&n(e)},t.handleOk=function(e){var n=t.props.onOk;n&&n(e)},t.renderFooter=function(e){var n=t.props,i=n.okText,o=n.okType,a=n.cancelText,s=n.confirmLoading;return r.createElement("div",null,r.createElement(dt.a,_t({onClick:t.handleCancel},t.props.cancelButtonProps),a||e.cancelText),r.createElement(dt.a,_t({type:o,loading:s,onClick:t.handleOk},t.props.okButtonProps),i||e.okText))},t.renderModal=function(e){var n,i,o,a=e.getPopupContainer,s=e.getPrefixCls,u=t.props,c=u.prefixCls,l=u.footer,h=u.visible,f=u.wrapClassName,p=u.centered,d=u.getContainer,m=u.closeIcon,v=Mt(u,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon"]),y=s("modal",c),_=r.createElement(mt.a,{componentName:"Modal",defaultLocale:ft()},t.renderFooter),g=r.createElement("span",{className:"".concat(y,"-close-x")},m||r.createElement(pt.a,{className:"".concat(y,"-close-icon"),type:"close"}));return r.createElement(it,_t({},v,{getContainer:void 0===d?a:d,prefixCls:y,wrapClassName:at()((n={},i="".concat(y,"-centered"),o=!!p,i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n),f),footer:void 0===l?_:l,visible:h,mousePosition:Et,onClose:t.handleCancel,closeIcon:g}))},t}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return r.createElement(vt.a,null,this.renderModal)}}])&&gt(n.prototype,i),o&&gt(n,o),e}(r.Component);function Tt(t){return(Tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(){return(St=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return!e||"object"!==Tt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Ot.defaultProps={width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"},Ot.propTypes={prefixCls:C.string,onOk:C.func,onCancel:C.func,okText:C.node,cancelText:C.node,centered:C.bool,width:C.oneOfType([C.number,C.string]),confirmLoading:C.bool,visible:C.bool,footer:C.node,title:C.node,closable:C.bool,closeIcon:C.node};var At=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=kt(this,jt(e).call(this,t))).onClick=function(){var t,e=n.props,r=e.actionFn,i=e.closeModal;r?(r.length?t=r(i):(t=r())||i(),t&&t.then&&(n.setState({loading:!0}),t.then((function(){i.apply(void 0,arguments)}),(function(t){console.error(t),n.setState({loading:!1})})))):i()},n.state={loading:!1},n}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){if(this.props.autoFocus){var t=p.findDOMNode(this);this.timeoutId=setTimeout((function(){return t.focus()}))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.children,i=t.buttonProps,o=this.state.loading;return r.createElement(dt.a,St({type:e,onClick:this.onClick,loading:o},i),n)}}])&&Pt(n.prototype,i),o&&Pt(n,o),e}(r.Component),Rt=n(634);function It(){return(It=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Nt=!!p.createPortal,Dt=function(t){var e=t.onCancel,n=t.onOk,i=t.close,o=t.zIndex,a=t.afterClose,s=t.visible,u=t.keyboard,c=t.centered,l=t.getContainer,h=t.maskStyle,f=t.okButtonProps,p=t.cancelButtonProps,d=t.iconType,m=void 0===d?"question-circle":d;Object(Rt.a)(!("iconType"in t),"Modal","The property 'iconType' is deprecated. Use the property 'icon' instead.");var v,y,_,g=void 0===t.icon?m:t.icon,b=t.okType||"primary",w=t.prefixCls||"ant-modal",x="".concat(w,"-confirm"),E=!("okCancel"in t)||t.okCancel,M=t.width||416,C=t.style||{},O=void 0===t.mask||t.mask,T=void 0!==t.maskClosable&&t.maskClosable,S=ft(),P=t.okText||(E?S.okText:S.justOkText),k=t.cancelText||S.cancelText,j=null!==t.autoFocusButton&&(t.autoFocusButton||"ok"),L=t.transitionName||"zoom",A=t.maskTransitionName||"fade",R=at()(x,"".concat(x,"-").concat(t.type),t.className),I=E&&r.createElement(At,{actionFn:e,closeModal:i,autoFocus:"cancel"===j,buttonProps:p},k),N="string"===typeof g?r.createElement(pt.a,{type:g}):g;return r.createElement(Ot,{prefixCls:w,className:R,wrapClassName:at()((v={},y="".concat(x,"-centered"),_=!!t.centered,y in v?Object.defineProperty(v,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[y]=_,v)),onCancel:function(){return i({triggerCancel:!0})},visible:s,title:"",transitionName:L,footer:"",maskTransitionName:A,mask:O,maskClosable:T,maskStyle:h,style:C,width:M,zIndex:o,afterClose:a,keyboard:u,centered:c,getContainer:l},r.createElement("div",{className:"".concat(x,"-body-wrapper")},r.createElement("div",{className:"".concat(x,"-body")},N,void 0===t.title?null:r.createElement("span",{className:"".concat(x,"-title")},t.title),r.createElement("div",{className:"".concat(x,"-content")},t.content)),r.createElement("div",{className:"".concat(x,"-btns")},I,r.createElement(At,{type:b,actionFn:n,closeModal:i,autoFocus:"ok"===j,buttonProps:f},P))))};function zt(t){var e=document.createElement("div");document.body.appendChild(e);var n=It(It({},t),{close:a,visible:!0});function i(){p.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.some((function(t){return t&&t.triggerCancel}));t.onCancel&&o&&t.onCancel.apply(t,r);for(var s=0;s<Ct.length;s++){if(Ct[s]===a){Ct.splice(s,1);break}}}function o(t){p.render(r.createElement(Dt,t),e)}function a(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n=It(It({},n),{visible:!1,afterClose:i.bind.apply(i,[this].concat(e))}),Nt?o(n):i.apply(void 0,e)}return o(n),Ct.push(a),{destroy:a,update:function(t){o(n=It(It({},n),t))}}}function Ht(){return(Ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ft(t){return zt(Ht({type:"warning",icon:r.createElement(pt.a,{type:"exclamation-circle"}),okCancel:!1},t))}Ot.info=function(t){return zt(Ht({type:"info",icon:r.createElement(pt.a,{type:"info-circle"}),okCancel:!1},t))},Ot.success=function(t){return zt(Ht({type:"success",icon:r.createElement(pt.a,{type:"check-circle"}),okCancel:!1},t))},Ot.error=function(t){return zt(Ht({type:"error",icon:r.createElement(pt.a,{type:"close-circle"}),okCancel:!1},t))},Ot.warning=Ft,Ot.warn=Ft,Ot.confirm=function(t){return zt(Ht({type:"confirm",okCancel:!0},t))},Ot.destroyAll=function(){for(;Ct.length;){var t=Ct.pop();t&&t()}};e.a=Ot},668:function(t,e,n){"use strict";t.exports=function(t,e){return(+t%(e=+e)+e)%e}},678:function(t,e,n){"use strict";var r=n(4),i=n(71),o=n(950),a=n(201),s=n.n(a),u=n(624),c=n(598);var l=n(634);function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(){}n.d(e,"a",(function(){return g}));var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?v(t):e}(this,m(e).call(this,t))).handleClose=function(t){t.preventDefault();var e=i.findDOMNode(v(n));e.style.height="".concat(e.offsetHeight,"px"),e.style.height="".concat(e.offsetHeight,"px"),n.setState({closing:!0}),(n.props.onClose||_)(t)},n.animationEnd=function(){n.setState({closing:!1,closed:!0}),(n.props.afterClose||_)()},n.renderAlert=function(t){var e,i=t.getPrefixCls,a=n.props,c=a.description,l=a.prefixCls,h=a.message,d=a.closeText,m=a.banner,v=a.className,y=void 0===v?"":v,_=a.style,g=a.icon,b=n.props,w=b.closable,x=b.type,E=b.showIcon,M=b.iconType,C=n.state,O=C.closing,T=C.closed,S=i("alert",l);E=!(!m||void 0!==E)||E,x=m&&void 0===x?"warning":x||"info";var P="filled";if(!M){switch(x){case"success":M="check-circle";break;case"info":M="info-circle";break;case"error":M="close-circle";break;case"warning":M="exclamation-circle";break;default:M="default"}c&&(P="outlined")}d&&(w=!0);var k=s()(S,"".concat(S,"-").concat(x),(p(e={},"".concat(S,"-closing"),O),p(e,"".concat(S,"-with-description"),!!c),p(e,"".concat(S,"-no-icon"),!E),p(e,"".concat(S,"-banner"),!!m),p(e,"".concat(S,"-closable"),w),e),y),j=w?r.createElement("button",{type:"button",onClick:n.handleClose,className:"".concat(S,"-close-icon"),tabIndex:0},d?r.createElement("span",{className:"".concat(S,"-close-text")},d):r.createElement(u.a,{type:"close"})):null,L=function(t){return Object.keys(t).reduce((function(e,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(e[n]=t[n]),e}),{})}(n.props),A=g&&(r.isValidElement(g)?r.cloneElement(g,{className:s()("".concat(S,"-icon"),p({},g.props.className,g.props.className))}):r.createElement("span",{className:"".concat(S,"-icon")},g))||r.createElement(u.a,{className:"".concat(S,"-icon"),type:M,theme:P});return T?null:r.createElement(o.a,{component:"",showProp:"data-show",transitionName:"".concat(S,"-slide-up"),onEnd:n.animationEnd},r.createElement("div",f({"data-show":!O,className:k,style:_},L),E?A:null,r.createElement("span",{className:"".concat(S,"-message")},h),r.createElement("span",{className:"".concat(S,"-description")},c),j))},Object(l.a)(!("iconType"in t),"Alert","`iconType` is deprecated. Please use `icon` instead."),n.state={closing:!1,closed:!1},n}var n,a,g;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(a=[{key:"render",value:function(){return r.createElement(c.a,null,this.renderAlert)}}])&&d(n.prototype,a),g&&d(n,g),e}(r.Component)},680:function(t,e,n){"use strict";t.exports="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return Date.now()}},686:function(t,e,n){"use strict";t.exports=function(t,e,n){return Math.min(Math.max(t,e),n)}},690:function(t,e,n){"use strict";var r=n(273),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),m=u(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var _=f(n,y);try{c(e,y,_)}catch(g){}}}}return e}},693:function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return m}));var r=n(11),i=n(70),o=n(233),a=n(690),s=n.n(a),u=n(4),c="unknown",l={id:"Tracing"},h=null,f=function(){return h||(h=Object(i.b)().getIntegration(l))};var p=function(t){function e(e){var n=t.call(this,e)||this;n._mountActivity=null,n._mountSpan=void 0;var r=n.props,i=r.name,o=r.disabled;if(void 0!==o&&o)return n;if(f())n._mountActivity=function(t,e){return null===h?null:h.constructor.pushActivity(t,{description:"<"+t+">",op:"react."+e})}(i,"mount");else{var a=v();a&&(n._mountSpan=a.startChild({description:"<"+i+">",op:"react.mount"}))}return n}return Object(r.d)(e,t),e.prototype.componentDidMount=function(){var t;this._mountSpan?this._mountSpan.finish():(this._mountSpan=function(t){if(null!==t&&null!==h)return h.constructor.getActivitySpan(t)}(this._mountActivity),null!==(t=this._mountActivity)&&null!==h&&h.constructor.popActivity(t),this._mountActivity=null)},e.prototype.componentDidUpdate=function(t){var e=this,n=t.updateProps,r=t.includeUpdates;if((void 0===r||r)&&this._mountSpan&&n!==this.props.updateProps){var i=Object.keys(n).filter((function(t){return n[t]!==e.props.updateProps[t]}));if(i.length>0){var a=Object(o.c)();this._mountSpan.startChild({data:{changedProps:i},description:"<"+this.props.name+">",endTimestamp:a,op:"react.update",startTimestamp:a})}}},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.name,n=t.includeRender,r=void 0===n||n;this._mountSpan&&r&&this._mountSpan.startChild({description:"<"+e+">",endTimestamp:Object(o.c)(),op:"react.render",startTimestamp:this._mountSpan.endTimestamp})},e.prototype.render=function(){return this.props.children},e.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0},e}(u.Component);function d(t,e){var n=e&&e.name||t.displayName||t.name||c,i=function(i){return u.createElement(p,Object(r.a)({},e,{name:n,updateProps:i}),u.createElement(t,Object(r.a)({},i)))};return i.displayName="profiler("+n+")",s()(i,t),i}function m(t,e){void 0===e&&(e={disabled:!1,hasRenderSpan:!0});var n=Object(r.f)(u.useState((function(){if(!e||!e.disabled){var n=v();return n?n.startChild({description:"<"+t+">",op:"react.mount"}):void 0}})),1)[0];u.useEffect((function(){return n&&n.finish(),function(){n&&e.hasRenderSpan&&n.startChild({description:"<"+t+">",endTimestamp:Object(o.c)(),op:"react.render",startTimestamp:n.endTimestamp})}}),[])}function v(t){if(void 0===t&&(t=Object(i.b)()),t){var e=t.getScope();if(e)return e.getTransaction()}}},696:function(t,e,n){"use strict";var r=n(697);t.exports={makeLevelList:function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(new e(t[i]));return n.sort((function(t,e){return r(t.width(),e.width())})),n},makeSelectableLevelList:function(t){for(var e=[],n=0;n<t.length;n++)t[n]._fallbackOnly||e.push(t[n]);if(!e.length)throw new Error("No selectable levels in list");return e}}},697:function(t,e,n){"use strict";t.exports=function(t,e){return t<e?-1:t>e?1:0}},698:function(t,e,n){"use strict";t.exports=function(t){var e=typeof t;if("object"===e){if(null===t)return"null";if("[object Array]"===Object.prototype.toString.call(t))return"array";if("[object RegExp]"===Object.prototype.toString.call(t))return"regexp"}return e}},699:function(t,e,n){"use strict";t.exports=function(){}},703:function(t,e,n){"use strict";var r=n(741).CopyToClipboard;r.CopyToClipboard=r,t.exports=r},713:function(t,e){t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},722:function(t,e,n){"use strict";var r=1;t.exports=function(){if("undefined"!==typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t&&t.deviceXDPI&&t.logicalXDPI)return t.deviceXDPI/t.logicalXDPI;if(t&&t.systemXDPI&&t.logicalXDPI)return t.systemXDPI/t.logicalXDPI}return r}},723:function(t,e,n){"use strict";t.exports=function(){for(var t=0,e=0;e<arguments.length;e++){var n=arguments[e];t+=n,t+=n<<10,t^=n>>6}return t+=t<<3,t^=t>>11,(t+=t<<15)>=0?t:-t}},724:function(t,e,n){"use strict";var r=n(924),i=1,o="MarzipanoHammerElementId";function a(t,e){return t[o]||(t[o]=i++),e+t[o]}function s(){this._managers={},this._refCount={}}function u(t,e,n,r){this._manager=e,this._element=n,this._type=r,this._hammerGestures=t,this._eventHandlers=[]}s.prototype.get=function(t,e){var n=a(t,e);return this._managers[n]||(this._managers[n]=this._createManager(t,e),this._refCount[n]=0),this._refCount[n]++,new u(this,this._managers[n],t,e)},s.prototype._createManager=function(t,e){var n=new r.Manager(t);return"mouse"===e?n.add(new r.Pan({direction:r.DIRECTION_ALL,threshold:0})):"touch"!==e&&"pen"!==e&&"kinect"!==e||(n.add(new r.Pan({direction:r.DIRECTION_ALL,threshold:20,pointers:1})),n.add(new r.Pinch)),n},s.prototype._releaseHandle=function(t,e){var n=a(t,e);this._refCount[n]&&(this._refCount[n]--,this._refCount[n]||(this._managers[n].destroy(),delete this._managers[n],delete this._refCount[n]))},u.prototype.on=function(t,e){var n=this._type,r=function(t){n===t.pointerType&&e(t)};this._eventHandlers.push({events:t,handler:r}),this._manager.on(t,r)},u.prototype.release=function(){for(var t=0;t<this._eventHandlers.length;t++){var e=this._eventHandlers[t];this._manager.off(e.events,e.handler)}this._hammerGestures._releaseHandle(this._element,this._type),this._manager=null,this._element=null,this._type=null,this._hammerGestures=null},u.prototype.manager=function(){return this._manager},t.exports=new s},725:function(t,e,n){t.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}}},741:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyToClipboard=void 0;var r=o(n(4)),i=o(n(742));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=function(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?h(t):e}(this,(t=l(e)).call.apply(t,[this].concat(s))),p(h(n),"onClick",(function(t){var e=n.props,o=e.text,a=e.onCopy,s=e.children,u=e.options,c=r.default.Children.only(s),l=(0,i.default)(o,u);a&&a(o,l),c&&c.props&&"function"===typeof c.props.onClick&&c.props.onClick(t)})),n}var n,o,d;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"render",value:function(){var t=this.props,e=(t.text,t.onCopy,t.options,t.children),n=u(t,["text","onCopy","options","children"]),i=r.default.Children.only(e);return r.default.cloneElement(i,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{onClick:this.onClick}))}}])&&c(n.prototype,o),d&&c(n,d),e}(r.default.PureComponent);e.CopyToClipboard=d,p(d,"defaultProps",{onCopy:void 0,options:void 0})},742:function(t,e,n){"use strict";var r=n(713),i={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";t.exports=function(t,e){var n,a,s,u,c,l,h=!1;e||(e={}),n=e.debug||!1;try{if(s=r(),u=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=t,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[e.format]||i.default;window.clipboardData.setData(o,t)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,t)})),document.body.appendChild(l),u.selectNodeContents(l),c.addRange(u),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");h=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),a=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:o),window.prompt(a,t)}finally{c&&("function"==typeof c.removeRange?c.removeRange(u):c.removeAllRanges()),l&&document.body.removeChild(l),s()}return h}},756:function(t,e,n){(function(e){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,r=[],i=0;i<256;i++)r[i]=(i+256).toString(16).substr(1);t.exports=function(t,i){var a;if(e.isBuffer(t))a=function(t,e){var n=e||0,i=r;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}(t);else{if("[object String]"!==Object.prototype.toString.call(t))return!1;a=t}if(a=a.toLowerCase(),!n.test(a))return!1;if(void 0===i)i=o(a);else if(o(a)!==i)return!1;switch(i){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(a.charAt(19));default:throw new Error("Invalid version provided.")}};var o=t.exports.version=function(t){return 0|t.charAt(14)}}).call(this,n(755).Buffer)},757:function(t,e,n){"use strict";t.exports=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}}},758:function(t,e,n){"use strict";var r=n(903),i=n(627),o=n(626),a={HTMLImageElement:["naturalWidth","naturalHeight"],HTMLCanvasElement:["width","height"],ImageBitmap:["width","height"]};function s(t){var e=!1;for(var n in a)if(r[n]&&t instanceof r[n]){e=!0,this._widthProp=a[n][0],this._heightProp=a[n][1];break}if(!e)throw new Error("Unsupported pixel source");this._element=t}i(s),s.prototype.destroy=function(){o(this)},s.prototype.element=function(){return this._element},s.prototype.width=function(){return this._element[this._widthProp]},s.prototype.height=function(){return this._element[this._heightProp]},s.prototype.timestamp=function(){return 0},s.prototype.isDynamic=function(){return!1},t.exports=s},759:function(t,e,n){var r;r=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function r(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var i,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(e)&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),c=!u&&/nexus\s*[0-9]+/i.test(e),l=/CrOS/.test(e),h=/silk/i.test(e),f=/sailfish/i.test(e),p=/tizen/i.test(e),d=/(web|hpw)(o|0)s/i.test(e),m=/windows phone/i.test(e),v=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),y=!a&&!h&&/macintosh/i.test(e),_=!s&&!f&&!p&&!d&&/linux/i.test(e),g=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),x=!w&&/[^-]mobi/i.test(e),E=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:t,version:b||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?i={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:t,version:b||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?i={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?i={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:t,version:b||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?i={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:t,version:b||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},g?(i.msedge=t,i.version=g):(i.msie=t,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?i={name:"Microsoft Edge",msedge:t,version:g}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||b}:f?i={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=t,i.osname="Firefox OS")):h?i={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:b||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(i={name:"WebOS",osname:"WebOS",webos:t,version:b||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=t)):/bada/i.test(e)?i={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:p?i={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?i={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:t},b&&(i.version=b)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},b&&(i.version=b)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||b}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=t):(i.name=i.name||"Webkit",i.webkit=t),!i.version&&b&&(i.version=b)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=t,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=t,i.ios=t,i.osname="iOS"):y?(i.mac=t,i.osname="macOS"):E?(i.xbox=t,i.osname="Xbox"):v?(i.windows=t,i.osname="Windows"):_&&(i.linux=t,i.osname="Linux"):(i.android=t,i.osname="Android");var M="";i.windows?M=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?M=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?M=(M=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?M=(M=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?M=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?M=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?M=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?M=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(M=n(/tizen[\/\s](\d+(\.\d+)*)/i)),M&&(i.osversion=M);var C=!i.windows&&M.split(".")[0];return w||c||"ipad"==a||s&&(3==C||C>=4&&!x)||i.silk?i.tablet=t:(x||"iphone"==a||"ipod"==a||s||u||i.blackberry||i.webos||i.bada)&&(i.mobile=t),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=t:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=t:i.x=t,i}var n=e("undefined"!==typeof navigator&&navigator.userAgent||"");function r(t){return t.split(".").length}function i(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function o(t){for(var e=Math.max(r(t[0]),r(t[1])),n=i(t,(function(t){var n=e-r(t);return i((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function a(t,r,i){var a=n;"string"===typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(a=e(i));var s=""+a.version;for(var u in t)if(t.hasOwnProperty(u)&&a[u]){if("string"!==typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return o([s,t[u]])<0}return r}return n.test=function(t){for(var e=0;e<t.length;++e){var r=t[e];if("string"===typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(t,e,n){return!a(t,e,n)},n._detect=e,n.detect=e,n},t.exports?t.exports=r():n(988)("bowser",r)},760:function(t,e,n){"use strict";function r(t){this._fallbackOnly=!!t.fallbackOnly}r.prototype.numHorizontalTiles=function(){return Math.ceil(this.width()/this.tileWidth())},r.prototype.numVerticalTiles=function(){return Math.ceil(this.height()/this.tileHeight())},r.prototype.fallbackOnly=function(){return this._fallbackOnly},t.exports=r},761:function(t,e,n){"use strict";t.exports=function(t){return"number"===typeof t&&isFinite(t)}},762:function(t,e,n){"use strict";t.exports=function(t){return t.toPrecision(15)}},763:function(t,e,n){"use strict";var r=n(699);t.exports=function(){var t=Array.prototype.slice.call(arguments,0);return function(){var e=t.slice(0),n=null,i=null,o=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],a=arguments.length?arguments[arguments.length-1]:r;function s(){if(arguments[0])return n=i=null,void a.apply(null,arguments);if(!e.length)return n=i=null,void a.apply(null,arguments);var t=n=e.shift(),r=Array.prototype.slice.call(arguments,1);r.push(s);var o=n.apply(null,r);if(t===n){if("function"!==typeof o)throw new Error("chain: chaining on non-cancellable function");i=o}}function u(){i&&i.apply(null,arguments)}return o.unshift(null),s.apply(null,o),u}}},799:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(272),i=n.n(r),o=n(625),a=function(t){if(!t)return[void 0,function(){}];var e;if(localStorage.getItem("smplrspace-viewer-camera"))try{e=JSON.parse(localStorage.getItem("smplrspace-viewer-camera"))}catch(r){smplrprint.error("The camera info retrieved from localStorage is not JSON",r)}var n=i()((function(t){localStorage.setItem("smplrspace-viewer-camera",JSON.stringify({name:t.name,position:"walkin"===t.name&&t.parent&&t.parent.position?t.parent.position:t.position,rotation:t.rotation,target:t.target,radius:t.radius}))}),300);return[e,function(t){t.scene.cameras.forEach((function(t){t.smplrData&&t.smplrData.persisted&&t.onViewMatrixChangedObservable.add((function(){return n(t)}))}))}]};e.a=function(){var t=Object(o.b)(),e=t.studio.camera,n=i()((function(e){t.studio.camera.setName(e.name),t.studio.camera.setPosition("walkin"===e.name&&e.parent&&e.parent.position?e.parent.position:e.position),e.rotation&&t.studio.camera.setRotation(e.rotation),e.target&&t.studio.camera.setTarget(e.target),e.radius&&t.studio.camera.setRadius(e.radius)}),300);return[e,function(t){t.scene.cameras.forEach((function(t){t.smplrData&&t.smplrData.persisted&&t.onViewMatrixChangedObservable.add((function(){return n(t)}))}))}]}},800:function(t,e,n){"use strict";var r=n(126),i=n(4),o=n.n(i),a=n(66),s=n(104);function u(){var t=Object(r.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255, 0.5);\n  color: #3a3c3c;\n  font-size: 12px;\n  height: 20px;\n  line-height: 20px;\n  user-select: none;\n  a {\n    color: inherit;\n    margin-left: 0.2em;\n    &:hover {\n      color: inherit;\n      text-decoration: underline;\n    }\n  }\n  &&&&& > button {\n    font-size: 12px;\n    margin-left: ",";\n    span {\n      font-family: ",";\n      color: inherit;\n      text-decoration: none;\n    }\n    &:hover {\n      span {\n        color: inherit;\n        text-decoration: underline;\n        opacity: 1;\n      }\n    }\n  }\n"]);return u=function(){return t},t}var c=Object(a.default)(s.Flex).attrs({alignItems:"baseline",px:"5px"})(u(),(function(t){return t.rollBrandInMenu?"0":"0.4em"}),(function(t){return t.theme.font.bold}));e.a=function(t){var e=t.rollBrandInMenu,n=t.extras;return o.a.createElement(c,{rollBrandInMenu:e},!e&&o.a.createElement(i.Fragment,null,"Powered by",o.a.createElement("a",{href:"https://www.smplrspace.com",target:"_blank",rel:"noopener"},"Smplrspace")),n)}},895:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(896);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},896:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},897:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(4)),o=(r=n(13))&&r.__esModule?r:{default:r};function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=u(this,c(e).call(this,t));var r=Date.now();return n.state={frames:0,startTime:r,prevTime:r,fps:[]},n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(r=[{key:"shouldComponentUpdate",value:function(t,e){return this.state.fps!==e.fps||this.props!==t}},{key:"componentDidMount",value:function(){var t=this;this.afRequest=window.requestAnimationFrame((function e(){t.calcFPS(),t.afRequest=window.requestAnimationFrame(e)}))}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.afRequest)}},{key:"calcFPS",value:function(){var t=Date.now();if(this.setState((function(t){return{frames:t.frames+1}})),t>this.state.prevTime+1e3){var e=Math.round(1e3*this.state.frames/(t-this.state.prevTime)),n=this.state.fps;n.push(e),this.setState({fps:n.slice(-70),frames:0,prevTime:t})}}},{key:"render",value:function(){var t=this.props,e=t.top,n=t.right,r=t.bottom,o=t.left,a=this.state.fps,s={zIndex:999999,position:"fixed",height:"46px",width:"76px",padding:"3px",backgroundColor:"#000",color:"#00ffff",fontSize:"9px",lineHeight:"10px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",MozBoxSizing:"border-box",boxSizing:"border-box",pointerEvents:"none",top:e,right:n,bottom:r,left:o},u={position:"absolute",left:"3px",right:"3px",bottom:"3px",height:"29px",backgroundColor:"#282844",MozBoxSizing:"border-box",boxSizing:"border-box"},c=function(t,e){return{position:"absolute",bottom:"0",right:a.length-1-e+"px",height:t+"px",width:"1px",backgroundColor:"#00ffff",MozBoxSizing:"border-box",boxSizing:"border-box"}},l=Math.max.apply(Math.max,a);return i.default.createElement("div",{style:s},i.default.createElement("span",null,a[a.length-1]," FPS"),i.default.createElement("div",{style:u},a.map((function(t,e){var n=29*t/l;return i.default.createElement("div",{key:"fps-".concat(e),style:c(n,e)})}))))}}])&&s(n.prototype,r),o&&s(n,o),e}(i.Component);h(f,"propTypes",{top:o.default.oneOfType([o.default.string,o.default.number]),bottom:o.default.oneOfType([o.default.string,o.default.number]),right:o.default.oneOfType([o.default.string,o.default.number]),left:o.default.oneOfType([o.default.string,o.default.number])}),h(f,"defaultProps",{top:0,left:0,bottom:"auto",right:"auto"});var p=f;e.default=p},898:function(t,e,n){"use strict";var r=n(985),i=n(987),o=n(759),a=n(650),s=n(722),u=n(989),c=n(639).setAbsolute,l=n(639).setFullSize,h=n(626),f=o.chrome;function p(t){t=t||{};var e=this;this.constructor.super_.call(this,t),this._generateMipmaps=null!=t.generateMipmaps&&t.generateMipmaps,this._loader=new i(this),this._domElement=document.createElement("canvas"),c(this._domElement),l(this._domElement),this._gl=function(t,e){var n={alpha:!0,premultipliedAlpha:!0,antialias:!(!e||!e.antialias),preserveDrawingBuffer:!(!e||!e.preserveDrawingBuffer)},r=t.getContext&&(t.getContext("webgl",n)||t.getContext("experimental-webgl",n));if(!r)throw new Error("Could not get WebGL context");return e.wrapContext&&(r=e.wrapContext(r)),r}(this._domElement,t),this._handleContextLoss=function(){e.emit("webglcontextlost"),e._gl=null},this._domElement.addEventListener("webglcontextlost",this._handleContextLoss),this._rendererInstances=[]}function d(t,e,n){this._stage=t,this._gl=t._gl,this._texture=null,this._timestamp=null,this._width=this._height=null,this.refresh(e,n)}a(p,r),p.prototype.destroy=function(){this._domElement.removeEventListener("webglcontextlost",this._handleContextLoss),this.constructor.super_.prototype.destroy.call(this)},p.prototype.domElement=function(){return this._domElement},p.prototype.webGlContext=function(){return this._gl},p.prototype.setSizeForType=function(){var t=s();this._domElement.width=t*this._width,this._domElement.height=t*this._height},p.prototype.loadImage=function(t,e,n){return this._loader.loadImage(t,e,n)},p.prototype.maxTextureSize=function(){return this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE)},p.prototype.validateLayer=function(t){var e=t.geometry().maxTileSize(),n=this.maxTextureSize();if(e>n)throw new Error("Layer has level with tile size larger than maximum texture size ("+e+" vs. "+n+")")},p.prototype.createRenderer=function(t){for(var e=this._rendererInstances,n=0;n<e.length;n++)if(e[n]instanceof t)return e[n];var r=new t(this._gl);return e.push(r),r},p.prototype.destroyRenderer=function(t){var e=this._rendererInstances;if(this._renderers.indexOf(t)<0){t.destroy();var n=e.indexOf(t);n>=0&&e.splice(n,1)}},p.prototype.startFrame=function(){var t=this._gl;if(!t)throw new Error("Bad WebGL context - maybe context was lost?");t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)},p.prototype.endFrame=function(){},p.prototype.takeSnapshot=function(t){"object"===typeof t&&null!=t||(t={});var e=t.quality;if("undefined"==typeof e&&(e=75),"number"!==typeof e||e<0||e>100)throw new Error("WebGLStage: Snapshot quality needs to be a number between 0 and 100");return this.render(),this._domElement.toDataURL("image/jpeg",e/100)},p.type=p.prototype.type="webgl",d.prototype.refresh=function(t,e){var n,r=this._gl,i=this._stage,o=e.timestamp();if(o!==this._timestamp){var a=e.element(),s=e.width(),c=e.height();if(s!==this._width||c!==this._height){var l=i.maxTextureSize();if(s>l)throw new Error("Texture width larger than max size ("+s+" vs. "+l+")");if(c>l)throw new Error("Texture height larger than max size ("+c+" vs. "+l+")");this._texture&&r.deleteTexture(n),n=this._texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,a)}else n=this._texture,r.bindTexture(r.TEXTURE_2D,n),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a instanceof HTMLVideoElement&&f?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,a):r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,a);i._generateMipmaps&&u(s)&&u(c)?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.bindTexture(r.TEXTURE_2D,null),this._timestamp=o,this._width=s,this._height=c}},d.prototype.destroy=function(){this._texture&&this._gl.deleteTexture(this._texture),h(this)},p.TextureClass=p.prototype.TextureClass=d,t.exports=p},899:function(t,e,n){"use strict";var r=n(680);function i(t,e){this.fn=t,this.cb=e,this.cfn=null}function o(t){this._queue=[],this._delay=t&&t.delay||0,this._paused=t&&!!t.paused||!1,this._currentTask=null,this._lastFinished=null}o.prototype.length=function(){return this._queue.length},o.prototype.push=function(t,e){var n=new i(t,e),r=this._cancel.bind(this,n);return this._queue.push(n),this._next(),r},o.prototype.pause=function(){this._paused||(this._paused=!0)},o.prototype.resume=function(){this._paused&&(this._paused=!1,this._next())},o.prototype._start=function(t){if(this._currentTask)throw new Error("WorkQueue: called start while running task");this._currentTask=t;var e=this._finish.bind(this,t);if(t.cfn=t.fn(e),"function"!==typeof t.cfn)throw new Error("WorkQueue: function is not cancellable")},o.prototype._finish=function(t){var e=Array.prototype.slice.call(arguments,1);if(this._currentTask!==t)throw new Error("WorkQueue: called finish on wrong task");t.cb.apply(null,e),this._currentTask=null,this._lastFinished=r(),this._next()},o.prototype._cancel=function(t){var e=Array.prototype.slice.call(arguments,1);if(this._currentTask===t)t.cfn.apply(null,e);else{var n=this._queue.indexOf(t);n>=0&&(this._queue.splice(n,1),t.cb.apply(null,e))}},o.prototype._next=function(){if(!this._paused&&this._queue.length&&!this._currentTask){if(null!=this._lastFinished){var t=r()-this._lastFinished,e=this._delay-t;if(e>0)return void setTimeout(this._next.bind(this),e)}var n=this._queue.shift();this._start(n)}},t.exports=o},900:function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s;return r=r||{},i=null!=n&&null!=n.absoluteWidth?n.absoluteWidth/t:null!=n&&null!=n.relativeWidth?n.relativeWidth:1,o=n&&null!=n.absoluteHeight?n.absoluteHeight/e:null!=n&&null!=n.relativeHeight?n.relativeHeight:1,a=null!=n&&null!=n.absoluteX?n.absoluteX/t:null!=n&&null!=n.relativeX?n.relativeX:0,s=null!=n&&null!=n.absoluteY?n.absoluteY/e:null!=n&&null!=n.relativeY?n.relativeY:0,r.x=a,r.y=s,r.width=i,r.height=o,r}},901:function(t,e,n){"use strict";t.exports=function(t){return function(e){var n,r;try{r=t()}catch(i){n=i}finally{n?e(n):e(null,r)}}}},902:function(t,e,n){"use strict";var r=n(757);t.exports=function(t){return function(){if(!arguments.length)throw new Error("cancelized: expected at least one argument");var e=Array.prototype.slice.call(arguments,0),n=e[e.length-1]=r(e[e.length-1]);function i(){n.apply(null,arguments)}return t.apply(null,e),i}}},903:function(t,e,n){"use strict";(function(e){var n="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof e?e:null;t.exports=n}).call(this,n(238))},904:function(t,e,n){"use strict";function r(t){this.constructor.super_.apply(this,arguments),this.message=t}n(650)(r,Error),t.exports=r},905:function(t,e,n){"use strict";var r=n(906);function i(){this.constructor.super_.apply(this,arguments)}n(650)(i,r),t.exports=i},906:function(t,e,n){"use strict";var r=n(633).mat4,i=n(633).vec3,o=n(626),a=n(907),s=a.createConstantBuffers,u=a.destroyConstantBuffers,c=a.createShaderProgram,l=a.destroyShaderProgram,h=a.enableAttributes,f=a.disableAttributes,p=a.setViewport,d=a.setupPixelEffectUniforms,m=a.setDepth,v=a.setTexture,y=n(990),_=n(991),g=[0,1,2,0,2,3],b=[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],w=[0,0,1,0,1,1,0,1],x=["aVertexPosition","aTextureCoord"],E=["uDepth","uOpacity","uSampler","uProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix"];function M(t){this.gl=t,this.projMatrix=r.create(),this.viewportMatrix=r.create(),this.translateVector=i.create(),this.scaleVector=i.create(),this.constantBuffers=s(t,g,b,w),this.shaderProgram=c(t,y,_,x,E)}M.prototype.destroy=function(){u(this.gl,this.constantBuffers),l(this.gl,this.shaderProgram),o(this)},M.prototype.startLayer=function(t,e){var n=this.gl,r=this.shaderProgram,i=this.constantBuffers,o=this.viewportMatrix;n.useProgram(r),h(n,r),p(n,t,e,o),n.uniformMatrix4fv(r.uViewportMatrix,!1,o),n.bindBuffer(n.ARRAY_BUFFER,i.vertexPositions),n.vertexAttribPointer(r.aVertexPosition,3,n.FLOAT,n.FALSE,0,0),n.bindBuffer(n.ARRAY_BUFFER,i.textureCoords),n.vertexAttribPointer(r.aTextureCoord,2,n.FLOAT,n.FALSE,0,0),d(n,t.effects(),{opacity:r.uOpacity,colorOffset:r.uColorOffset,colorMatrix:r.uColorMatrix})},M.prototype.endLayer=function(t,e){var n=this.gl,r=this.shaderProgram;f(n,r)},M.prototype.renderTile=function(t,e,n,i){var o=this.gl,a=this.shaderProgram,s=this.constantBuffers,u=this.projMatrix,c=this.translateVector,l=this.scaleVector;c[0]=t.centerX(),c[1]=t.centerY(),c[2]=-.5,l[0]=t.scaleX(),l[1]=t.scaleY(),l[2]=1,r.copy(u,n.view().projection()),r.rotateX(u,u,t.rotX()),r.rotateY(u,u,t.rotY()),r.translate(u,u,c),r.scale(u,u,l),o.uniformMatrix4fv(a.uProjMatrix,!1,u),m(o,a,i,t.z),v(o,a,e),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,s.vertexIndices),o.drawElements(o.TRIANGLES,g.length,o.UNSIGNED_SHORT,0)},t.exports=M},907:function(t,e,n){"use strict";var r=256,i=256,o=n(686),a=n(633).vec4,s=n(633).vec3,u=n(633).mat4;function c(t,e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw t.getShaderInfoLog(r);return r}function l(t,e,n,r){var i=t.createBuffer();return t.bindBuffer(e,i),t.bufferData(e,r,n),i}var h=1,f=a.create(),p=u.create();u.identity(p);var d=s.create(),m=s.create();t.exports={createShaderProgram:function(t,e,n,r,i){var o=c(t,t.VERTEX_SHADER,e),a=c(t,t.FRAGMENT_SHADER,n),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw t.getProgramInfoLog(s);for(var u=0;u<r.length;u++){var l=r[u];if(s[l]=t.getAttribLocation(s,l),-1===s[l])throw new Error("Shader program has no "+l+" attribute")}for(var h=0;h<i.length;h++){var f=i[h];if(s[f]=t.getUniformLocation(s,f),-1===s[f])throw new Error("Shader program has no "+f+" uniform")}return s},destroyShaderProgram:function(t,e){for(var n=t.getAttachedShaders(e),r=0;r<n.length;r++){var i=n[r];t.detachShader(e,i),t.deleteShader(i)}t.deleteProgram(e)},createConstantBuffers:function(t,e,n,r){return{vertexIndices:l(t,t.ELEMENT_ARRAY_BUFFER,t.STATIC_DRAW,new Uint16Array(e)),vertexPositions:l(t,t.ARRAY_BUFFER,t.STATIC_DRAW,new Float32Array(n)),textureCoords:l(t,t.ARRAY_BUFFER,t.STATIC_DRAW,new Float32Array(r))}},destroyConstantBuffers:function(t,e){t.deleteBuffer(e.vertexIndices),t.deleteBuffer(e.vertexPositions),t.deleteBuffer(e.textureCoords)},enableAttributes:function(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;r<n;r++)t.enableVertexAttribArray(r)},disableAttributes:function(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;r<n;r++)t.disableVertexAttribArray(r)},setTexture:function(t,e,n){t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n._texture),t.uniform1i(e.uSampler,0)},setDepth:function(t,e,n,o){var a=((n+1)*i-o)/(i*r);t.uniform1f(e.uDepth,a)},setViewport:function(t,e,n,r){if(0===n.x&&1===n.width&&0===n.y&&1===n.height)return t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),void u.identity(r);var i=n.x,a=o(i,0,1),c=a-i,l=1-a,h=o(n.width-c,0,l),f=n.width-h,p=1-n.height-n.y,v=o(p,0,1),y=v-p,_=1-v,g=o(n.height-y,0,_),b=n.height-g;s.set(m,n.width/h,n.height/g,1),s.set(d,(f-c)/h,(b-y)/g,0),u.identity(r),u.translate(r,r,d),u.scale(r,r,m),t.viewport(t.drawingBufferWidth*a,t.drawingBufferHeight*v,t.drawingBufferWidth*h,t.drawingBufferHeight*g)},setupPixelEffectUniforms:function(t,e,n){var r=h;e&&null!=e.opacity&&(r=e.opacity),t.uniform1f(n.opacity,r);var i=f;e&&e.colorOffset&&(i=e.colorOffset),t.uniform4fv(n.colorOffset,i);var o=p;e&&e.colorMatrix&&(o=e.colorMatrix),t.uniformMatrix4fv(n.colorMatrix,!1,o)}}},908:function(t,e,n){"use strict";var r=n(906);function i(){this.constructor.super_.apply(this,arguments)}n(650)(i,r),t.exports=i},909:function(t,e,n){"use strict";var r=n(633).mat4,i=n(626),o=n(907),a=o.createConstantBuffers,s=o.destroyConstantBuffers,u=o.createShaderProgram,c=o.destroyShaderProgram,l=o.enableAttributes,h=o.disableAttributes,f=o.setViewport,p=o.setupPixelEffectUniforms,d=o.setDepth,m=o.setTexture,v=n(992),y=n(993),_=[0,1,2,0,2,3],g=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],b=[0,0,1,0,1,1,0,1],w=["aVertexPosition"],x=["uDepth","uOpacity","uSampler","uInvProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix","uTextureX","uTextureY","uTextureWidth","uTextureHeight"];function E(t){this.gl=t,this.invProjMatrix=r.create(),this.viewportMatrix=r.create(),this.constantBuffers=a(t,_,g,b),this.shaderProgram=u(t,v,y,w,x)}E.prototype.destroy=function(){s(this.gl,this.constantBuffers),c(this.gl,this.shaderProgram),i(this)},E.prototype.startLayer=function(t,e){var n=this.gl,i=this.shaderProgram,o=this.constantBuffers,a=this.invProjMatrix,s=this.viewportMatrix;n.useProgram(i),l(n,i),f(n,t,e,s),n.uniformMatrix4fv(i.uViewportMatrix,!1,s),n.bindBuffer(n.ARRAY_BUFFER,o.vertexPositions),n.vertexAttribPointer(i.aVertexPosition,3,n.FLOAT,n.FALSE,0,0),n.bindBuffer(n.ARRAY_BUFFER,o.textureCoords),r.copy(a,t.view().projection()),r.invert(a,a),n.uniformMatrix4fv(i.uInvProjMatrix,!1,a);var u=t.effects().textureCrop||{},c=null!=u.x?u.x:0,h=null!=u.y?u.y:0,d=null!=u.width?u.width:1,m=null!=u.height?u.height:1;n.uniform1f(i.uTextureX,c),n.uniform1f(i.uTextureY,h),n.uniform1f(i.uTextureWidth,d),n.uniform1f(i.uTextureHeight,m),p(n,t.effects(),{opacity:i.uOpacity,colorOffset:i.uColorOffset,colorMatrix:i.uColorMatrix})},E.prototype.endLayer=function(t,e){var n=this.gl,r=this.shaderProgram;h(n,r)},E.prototype.renderTile=function(t,e,n,r){var i=this.gl,o=this.shaderProgram,a=this.constantBuffers;d(i,o,r,t.z),m(i,o,e),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a.vertexIndices),i.drawElements(i.TRIANGLES,_.length,i.UNSIGNED_SHORT,0)},t.exports=E},910:function(t,e,n){"use strict";var r=n(905),i=n(908),o=n(909);t.exports=function(t){switch(t.type){case"webgl":t.registerRenderer("flat","flat",i),t.registerRenderer("cube","rectilinear",r),t.registerRenderer("equirect","rectilinear",o);break;default:throw new Error("Unknown stage type: "+t.type)}}},911:function(t,e,n){"use strict";var r=n(912);function i(){this._stack=[],this._visited=new r,this._vertices=null}i.prototype.search=function(t,e,n){var r=this._stack,i=this._visited,o=this._vertices,a=0;for(this._clear(),r.push(e);r.length>0;){var s=r.pop();if(!i.has(s)&&t.intersects(s.vertices(o))){i.add(s);for(var u=s.neighbors(),c=0;c<u.length;c++)r.push(u[c]);n.push(s),a++}}return this._vertices=o,this._clear(),a},i.prototype._clear=function(){this._stack.length=0,this._visited.clear()},t.exports=i},912:function(t,e,n){"use strict";var r=n(668),i=64;function o(t){if(null!=t&&(!isFinite(t)||Math.floor(t)!==t||t<1))throw new Error("Set: invalid capacity");this._capacity=this._capacity||i,this._buckets=[];for(var e=0;e<this._capacity;e++)this._buckets.push([]);this._size=0}o.prototype.add=function(t){for(var e=r(t.hash(),this._capacity),n=this._buckets[e],i=0;i<n.length;i++){var o=n[i];if(t.equals(o))return n[i]=t,o}return n.push(t),this._size++,null},o.prototype.remove=function(t){for(var e=r(t.hash(),this._capacity),n=this._buckets[e],i=0;i<n.length;i++){var o=n[i];if(t.equals(o)){for(var a=i;a<n.length-1;a++)n[a]=n[a+1];return n.length=n.length-1,this._size--,o}}return null},o.prototype.has=function(t){for(var e=r(t.hash(),this._capacity),n=this._buckets[e],i=0;i<n.length;i++){var o=n[i];if(t.equals(o))return!0}return!1},o.prototype.size=function(){return this._size},o.prototype.clear=function(){for(var t=0;t<this._capacity;t++)this._buckets[t].length=0;this._size=0},o.prototype.forEach=function(t){for(var e=0,n=0;n<this._capacity;n++)for(var r=this._buckets[n],i=0;i<r.length;i++)t(r[i]),e+=1;return e},t.exports=o},913:function(t,e,n){"use strict";var r=n(668);function i(t){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new Error("LruMap: invalid capacity");this._capacity=t,this._keys=new Array(this._capacity),this._values=new Array(this._capacity),this._start=0,this._size=0}i.prototype._index=function(t){return r(this._start+t,this._capacity)},i.prototype.get=function(t){for(var e=0;e<this._size;e++){var n=this._keys[this._index(e)];if(t.equals(n))return this._values[this._index(e)]}return null},i.prototype.set=function(t,e){if(0===this._capacity)return t;this.del(t);var n=this._size===this._capacity?this._keys[this._index(0)]:null;return this._keys[this._index(this._size)]=t,this._values[this._index(this._size)]=e,this._size<this._capacity?this._size++:this._start=this._index(1),n},i.prototype.del=function(t){for(var e=0;e<this._size;e++)if(t.equals(this._keys[this._index(e)])){for(var n=this._values[this._index(e)],r=e;r<this._size-1;r++)this._keys[this._index(r)]=this._keys[this._index(r+1)],this._values[this._index(r)]=this._values[this._index(r+1)];return this._size--,n}return null},i.prototype.has=function(t){for(var e=0;e<this._size;e++)if(t.equals(this._keys[this._index(e)]))return!0;return!1},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._start=0,this._size=0},i.prototype.forEach=function(t){for(var e=0,n=0;n<this._size;n++)t(this._keys[this._index(n)],this._values[this._index(n)]),e+=1;return e},t.exports=i},914:function(t,e,n){"use strict";function r(t,e,n){return 2*Math.atan(n*Math.tan(t/2)/e)}t.exports={convert:r,htov:function(t,e,n){return r(t,e,n)},htod:function(t,e,n){return r(t,e,Math.sqrt(e*e+n*n))},vtoh:function(t,e,n){return r(t,n,e)},vtod:function(t,e,n){return r(t,n,Math.sqrt(e*e+n*n))},dtoh:function(t,e,n){return r(t,Math.sqrt(e*e+n*n),e)},dtov:function(t,e,n){return r(t,Math.sqrt(e*e+n*n),n)}}},915:function(t,e,n){"use strict";t.exports=function(){var t=arguments;return function(e){for(var n=e,r=0;r<t.length;r++){n=t[r].call(null,n)}return n}}},916:function(t,e,n){"use strict";t.exports=function(t,e){var n=null;return n=setTimeout((function(){null!=n&&(n=null,e(null))}),t),function(){null!=n&&(clearTimeout(n),n=null,e.apply(null,arguments))}}},917:function(t,e,n){"use strict";var r=n(1003),i=n(912),o=n(1004),a=n(627),s=n(651),u=n(918),c=n(763),l=n(650),h=n(626),f="undefined"!==typeof MARZIPANODEBUG&&MARZIPANODEBUG.textureStore,p={IDLE:0,START:1,MARK:2,END:3},d={previouslyVisibleCacheSize:512},m=0;function v(){}function y(t,e){var n=this,r=m++;n._id=r,n._store=t,n._tile=e,n._asset=null,n._texture=null,n._changeHandler=function(){t.emit("textureInvalid",e)};var i=t.source(),o=t.stage(),a=i.loadAsset.bind(i),s=o.createTexture.bind(o),l=c(u(a),s);t.emit("textureStartLoad",e),f&&console.log("loading",r,e),n._cancel=l(o,e,(function(i,o,a,s){if(n._cancel=null,i)return a&&a.destroy(),s&&s.destroy(),void(i instanceof v?(t.emit("textureCancel",e),f&&console.log("cancel",r,e)):(t.emit("textureError",e,i),f&&console.log("error",r,e)));n._texture=s,a.isDynamic()?(n._asset=a,a.addEventListener("change",n._changeHandler)):a.destroy(),t.emit("textureLoad",e),f&&console.log("load",r,e)}))}function _(t,e,n){n=s(n||{},d),this._source=t,this._stage=e,this._state=p.IDLE,this._delimCount=0,this._itemMap=new r,this._visible=new i,this._previouslyVisible=new o(n.previouslyVisibleCacheSize),this._pinMap=new r,this._newVisible=new i,this._noLongerVisible=[],this._visibleAgain=[],this._evicted=[]}l(v,Error),y.prototype.asset=function(){return this._asset},y.prototype.texture=function(){return this._texture},y.prototype.destroy=function(){var t=this._id,e=this._store,n=this._tile,r=this._asset,i=this._texture,o=this._cancel;o?o(new v("Texture load cancelled")):(r&&(r.removeEventListener("change",this._changeHandler),r.destroy()),i&&i.destroy(),e.emit("textureUnload",n),f&&console.log("unload",t,n),h(this))},a(y),a(_),_.prototype.destroy=function(){this.clear(),h(this)},_.prototype.stage=function(){return this._stage},_.prototype.source=function(){return this._source},_.prototype.clear=function(){var t=this;t._evicted.length=0,t._itemMap.forEach((function(e){t._evicted.push(e)})),t._evicted.forEach((function(e){t._unloadTile(e)})),t._itemMap.clear(),t._visible.clear(),t._previouslyVisible.clear(),t._pinMap.clear(),t._newVisible.clear(),t._noLongerVisible.length=0,t._visibleAgain.length=0,t._evicted.length=0},_.prototype.clearNotPinned=function(){var t=this;t._evicted.length=0,t._itemMap.forEach((function(e){t._pinMap.has(e)||t._evicted.push(e)})),t._evicted.forEach((function(e){t._unloadTile(e)})),t._visible.clear(),t._previouslyVisible.clear(),t._evicted.length=0},_.prototype.startFrame=function(){if(this._state!==p.IDLE&&this._state!==p.START)throw new Error("TextureStore: startFrame called out of sequence");this._state=p.START,this._delimCount++},_.prototype.markTile=function(t){if(this._state!==p.START&&this._state!==p.MARK)throw new Error("TextureStore: markTile called out of sequence");this._state=p.MARK;var e=this._itemMap.get(t),n=e&&e.texture(),r=e&&e.asset();n&&r&&n.refresh(t,r),this._newVisible.add(t)},_.prototype.endFrame=function(){if(this._state!==p.START&&this._state!==p.MARK&&this._state!==p.END)throw new Error("TextureStore: endFrame called out of sequence");this._state=p.END,this._delimCount--,this._delimCount||(this._update(),this._state=p.IDLE)},_.prototype._update=function(){var t=this;t._noLongerVisible.length=0,t._visible.forEach((function(e){t._newVisible.has(e)||t._noLongerVisible.push(e)})),t._visibleAgain.length=0,t._newVisible.forEach((function(e){t._previouslyVisible.has(e)&&t._visibleAgain.push(e)})),t._visibleAgain.forEach((function(e){t._previouslyVisible.remove(e)})),t._evicted.length=0,t._noLongerVisible.forEach((function(e){var n=t._itemMap.get(e);if(n&&n.texture()){var r=t._previouslyVisible.add(e);null!=r&&t._evicted.push(r)}else n&&t._unloadTile(e)})),t._evicted.forEach((function(e){t._pinMap.has(e)||t._unloadTile(e)})),t._newVisible.forEach((function(e){t._itemMap.get(e)||t._loadTile(e)}));var e=t._visible;t._visible=t._newVisible,t._newVisible=e,t._newVisible.clear(),t._noLongerVisible.length=0,t._visibleAgain.length=0,t._evicted.length=0},_.prototype._loadTile=function(t){if(this._itemMap.has(t))throw new Error("TextureStore: loading texture already in cache");var e=new y(this,t);this._itemMap.set(t,e)},_.prototype._unloadTile=function(t){var e=this._itemMap.del(t);if(!e)throw new Error("TextureStore: unloading texture not in cache");e.destroy()},_.prototype.asset=function(t){var e=this._itemMap.get(t);return e?e.asset():null},_.prototype.texture=function(t){var e=this._itemMap.get(t);return e?e.texture():null},_.prototype.pin=function(t){var e=(this._pinMap.get(t)||0)+1;return this._pinMap.set(t,e),this._itemMap.has(t)||this._loadTile(t),e},_.prototype.unpin=function(t){var e=this._pinMap.get(t);if(!e)throw new Error("TextureStore: unpin when not pinned");return--e>0?this._pinMap.set(t,e):(this._pinMap.del(t),this._visible.has(t)||this._previouslyVisible.has(t)||this._unloadTile(t)),e},_.prototype.query=function(t){var e=this._itemMap.get(t),n=this._pinMap.get(t)||0;return{visible:this._visible.has(t),previouslyVisible:this._previouslyVisible.has(t),hasAsset:null!=e&&null!=e.asset(),hasTexture:null!=e&&null!=e.texture(),pinned:0!==n,pinCount:n}},t.exports=_},918:function(t,e,n){"use strict";var r=n(699);t.exports=function(t){return function(){var e=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],n=arguments.length?arguments[arguments.length-1]:r,i=null,o=!1;function a(){!arguments[0]||o?n.apply(null,arguments):i=t.apply(null,e)}return e.push(a),a(!0),function(){o=!0,i.apply(null,arguments)}}}},919:function(t,e,n){"use strict";var r=n(627),i=n(920),o=n(626);function a(t,e,n,r,i){i=i||{};var o=this;this._source=t,this._geometry=e,this._view=n,this._textureStore=r,this._effects=i.effects||{},this._fixedLevelIndex=null,this._viewChangeHandler=function(){o.emit("viewChange",o.view())},this._view.addEventListener("change",this._viewChangeHandler),this._textureStoreChangeHandler=function(){o.emit("textureStoreChange",o.textureStore())},this._textureStore.addEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureInvalid",this._textureStoreChangeHandler)}r(a),a.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._textureStore.removeEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureInvalid",this._textureStoreChangeHandler),o(this)},a.prototype.source=function(){return this._source},a.prototype.geometry=function(){return this._geometry},a.prototype.view=function(){return this._view},a.prototype.textureStore=function(){return this._textureStore},a.prototype.effects=function(){return this._effects},a.prototype.setEffects=function(t){this._effects=t,this.emit("effectsChange",this._effects)},a.prototype.mergeEffects=function(t){i(this._effects,t),this.emit("effectsChange",this._effects)},a.prototype.fixedLevel=function(){return this._fixedLevelIndex},a.prototype.setFixedLevel=function(t){if(t!==this._fixedLevelIndex){if(null!=t&&(t>=this._geometry.levelList.length||t<0))throw new Error("Level index out of range: "+t);this._fixedLevelIndex=t,this.emit("fixedLevelChange",this._fixedLevelIndex)}},a.prototype._selectLevel=function(){return null!=this._fixedLevelIndex?this._geometry.levelList[this._fixedLevelIndex]:this._view.selectLevel(this._geometry.selectableLevelList)},a.prototype.visibleTiles=function(t){var e=this._selectLevel();return this._geometry.visibleTiles(this._view,e,t)},a.prototype.pinLevel=function(t){for(var e=this._geometry.levelList[t],n=this._geometry.levelTiles(e),r=0;r<n.length;r++)this._textureStore.pin(n[r])},a.prototype.unpinLevel=function(t){for(var e=this._geometry.levelList[t],n=this._geometry.levelTiles(e),r=0;r<n.length;r++)this._textureStore.unpin(n[r])},a.prototype.pinFirstLevel=function(){return this.pinLevel(0)},a.prototype.unpinFirstLevel=function(){return this.unpinLevel(0)},t.exports=a},920:function(t,e,n){"use strict";t.exports=function(t,e){for(var n in e)t[n]=e[n];return t}},921:function(t,e,n){"use strict";var r=n(627),i=n(626);function o(t){var e=this;this._stage=t,this._running=!1,this._rendering=!1,this._requestHandle=null,this._boundLoop=this._loop.bind(this),this._renderInvalidHandler=function(){e._rendering||e.renderOnNextFrame()},this._stage.addEventListener("renderInvalid",this._renderInvalidHandler)}r(o),o.prototype.destroy=function(){this.stop(),this._stage.removeEventListener("renderInvalid",this._renderInvalidHandler),i(this)},o.prototype.stage=function(){return this._stage},o.prototype.start=function(){this._running=!0,this.renderOnNextFrame()},o.prototype.stop=function(){this._requestHandle&&(window.cancelAnimationFrame(this._requestHandle),this._requestHandle=null),this._running=!1},o.prototype.renderOnNextFrame=function(){this._running&&!this._requestHandle&&(this._requestHandle=window.requestAnimationFrame(this._boundLoop))},o.prototype._loop=function(){if(!this._running)throw new Error("Render loop running while in stopped state");this._requestHandle=null,this._rendering=!0,this.emit("beforeRender"),this._rendering=!1,this._stage.render(),this.emit("afterRender")},t.exports=o},922:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(626);function a(t,e,n,r,o){if(!t)throw new Error("KeyControlMethod: keyCode must be defined");if(!e)throw new Error("KeyControlMethod: parameter must be defined");if(!n)throw new Error("KeyControlMethod: velocity must be defined");if(!r)throw new Error("KeyControlMethod: friction must be defined");o=o||document,this._keyCode=t,this._parameter=e,this._velocity=n,this._friction=r,this._element=o,this._keydownHandler=this._handlePress.bind(this),this._keyupHandler=this._handleRelease.bind(this),this._blurHandler=this._handleBlur.bind(this),this._element.addEventListener("keydown",this._keydownHandler),this._element.addEventListener("keyup",this._keyupHandler),window.addEventListener("blur",this._blurHandler),this._dynamics=new i,this._pressing=!1}r(a),a.prototype.destroy=function(){this._element.removeEventListener("keydown",this._keydownHandler),this._element.removeEventListener("keyup",this._keyupHandler),window.removeEventListener("blur",this._blurHandler),o(this)},a.prototype._handlePress=function(t){t.keyCode===this._keyCode&&(this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active"))},a.prototype._handleRelease=function(t){t.keyCode===this._keyCode&&(this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1)},a.prototype._handleBlur=function(){this._dynamics.velocity=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive"),this._pressing=!1},t.exports=a},923:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(724),a=n(651),s=n(925).maxFriction,u=n(626),c={friction:6,maxFrictionTime:.3,hammerEvent:"pan"},l="undefined"!==typeof MARZIPANODEBUG&&MARZIPANODEBUG.controls;function h(t,e,n){if(this._element=t,this._opts=a(n||{},c),this._startEvent=null,this._lastEvent=null,this._active=!1,this._dynamics={x:new i,y:new i},this._hammer=o.get(t,e),this._hammer.on("hammer.input",this._handleHammerEvent.bind(this)),"pan"!=this._opts.hammerEvent&&"pinch"!=this._opts.hammerEvent)throw new Error(this._opts.hammerEvent+" is not a hammerEvent managed in DragControlMethod");this._hammer.on(this._opts.hammerEvent+"start",this._handleStart.bind(this)),this._hammer.on(this._opts.hammerEvent+"move",this._handleMove.bind(this)),this._hammer.on(this._opts.hammerEvent+"end",this._handleEnd.bind(this)),this._hammer.on(this._opts.hammerEvent+"cancel",this._handleEnd.bind(this))}r(h),h.prototype.destroy=function(){this._hammer.release(),u(this)},h.prototype._handleHammerEvent=function(t){if(t.isFirst){if(l&&this._active)throw new Error("DragControlMethod active detected when already active");this._active=!0,this.emit("active")}if(t.isFinal){if(l&&!this._active)throw new Error("DragControlMethod inactive detected when already inactive");this._active=!1,this.emit("inactive")}},h.prototype._handleStart=function(t){t.preventDefault(),this._startEvent=t},h.prototype._handleMove=function(t){t.preventDefault(),this._startEvent&&(this._updateDynamicsMove(t),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y))},h.prototype._handleEnd=function(t){t.preventDefault(),this._startEvent&&(this._updateDynamicsRelease(t),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y)),this._startEvent=!1,this._lastEvent=!1},h.prototype._updateDynamicsMove=function(t){var e=t.deltaX,n=t.deltaY,r=this._lastEvent||this._startEvent;r&&(e-=r.deltaX,n-=r.deltaY);var i=this._element.getBoundingClientRect();e/=i.right-i.left,n/=i.bottom-i.top,this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.offset=-e,this._dynamics.y.offset=-n,this._lastEvent=t};var f=[null,null];h.prototype._updateDynamicsRelease=function(t){var e=this._element.getBoundingClientRect(),n=e.right-e.left,r=e.bottom-e.top,i=1e3*t.velocityX/n,o=1e3*t.velocityY/r;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=i,this._dynamics.y.velocity=o,s(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,f),this._dynamics.x.friction=f[0],this._dynamics.y.friction=f[1]},t.exports=h},924:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u=["","webkit","moz","MS","ms","o"],c=o.createElement("div"),l="function",h=Math.round,f=Math.abs,p=Date.now;function d(t,e,n){return setTimeout(b(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}function _(t,e){return y(t,e,!0)}function g(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&y(r,n)}function b(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return typeof t==l?t.apply(e&&e[0]||s,e):t}function x(t,e){return t===s?e:t}function E(t,e,n){v(T(e),(function(e){t.addEventListener(e,n,!1)}))}function M(t,e,n){v(T(e),(function(e){t.removeEventListener(e,n,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function O(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function S(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];S(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function j(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return s}var L=1;function A(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}var R="ontouchstart"in i,I=j(i,"PointerEvent")!==s,N=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D=25,z=1,H=2,F=4,U=8,B=1,q=2,W=4,V=8,X=16,Y=q|W,G=V|X,K=Y|G,$=["x","y"],Z=["clientX","clientY"];function Q(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function J(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&z&&r-i===0,a=e&(F|U)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=tt(e));i>1&&!n.firstMultiple?n.firstMultiple=tt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=e.center=et(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=it(u,c),e.distance=rt(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==z&&o.eventType!==F||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=nt(e.deltaX,e.deltaY),e.scale=a?(l=a.pointers,h=r,rt(h[0],h[1],Z)/rt(l[0],l[1],Z)):1,e.rotation=a?function(t,e){return it(e[1],e[0],Z)-it(t[1],t[0],Z)}(a.pointers,r):0,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=U&&(u>D||a.velocity===s)){var c=a.deltaX-e.deltaX,l=a.deltaY-e.deltaY,h=function(t,e,n){return{x:e/t||0,y:n/t||0}}(u,c,l);r=h.x,i=h.y,n=f(h.x)>f(h.y)?h.x:h.y,o=nt(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var l,h;var d=t.element;C(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function tt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:et(e),deltaX:t.deltaX,deltaY:t.deltaY}}function et(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function nt(t,e){return t===e?B:f(t)>=f(e)?t>0?q:W:e>0?V:X}function rt(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function it(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}Q.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(A(this.element),this.evWin,this.domHandler)}};var ot={mousedown:z,mousemove:H,mouseup:F},at="mousedown",st="mousemove mouseup";function ut(){this.evEl=at,this.evWin=st,this.allow=!0,this.pressed=!1,Q.apply(this,arguments)}g(ut,Q,{handler:function(t){var e=ot[t.type];e&z&&0===t.button&&(this.pressed=!0),e&H&&1!==t.which&&(e=F),this.pressed&&this.allow&&(e&F&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ct={pointerdown:z,pointermove:H,pointerup:F,pointercancel:U,pointerout:U},lt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ht="pointerdown",ft="pointermove pointerup pointercancel";function pt(){this.evEl=ht,this.evWin=ft,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&(ht="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),g(pt,Q,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ct[r],o=lt[t.pointerType]||t.pointerType,a="touch"==o,s=S(e,t.pointerId,"pointerId");i&z&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(F|U)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var dt={touchstart:z,touchmove:H,touchend:F,touchcancel:U},mt="touchstart",vt="touchstart touchmove touchend touchcancel";function yt(){this.evTarget=mt,this.evWin=vt,this.started=!1,Q.apply(this,arguments)}function _t(t,e){var n=P(t.touches),r=P(t.changedTouches);return e&(F|U)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}g(yt,Q,{handler:function(t){var e=dt[t.type];if(e===z&&(this.started=!0),this.started){var n=_t.call(this,t,e);e&(F|U)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var gt={touchstart:z,touchmove:H,touchend:F,touchcancel:U},bt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=bt,this.targetIds={},Q.apply(this,arguments)}function xt(t,e){var n=P(t.touches),r=this.targetIds;if(e&(z|H)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return C(t.target,u)})),e===z)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(F|U)&&delete r[a[i].identifier],i++;return s.length?[k(o.concat(s),"identifier",!0),s]:void 0}function Et(){Q.apply(this,arguments);var t=b(this.handler,this);this.touch=new wt(this.manager,t),this.mouse=new ut(this.manager,t)}g(wt,Q,{handler:function(t){var e=gt[t.type],n=xt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),g(Et,Q,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(F|U)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Mt=j(c.style,"touchAction"),Ct=Mt!==s,Ot="auto",Tt="manipulation",St="none",Pt="pan-x",kt="pan-y";function jt(t,e){this.manager=t,this.set(e)}jt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&(this.manager.element.style[Mt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(O(t,St))return St;var e=O(t,Pt),n=O(t,kt);if(e&&n)return Pt+" "+kt;if(e||n)return e?Pt:kt;if(O(t,Tt))return Tt;return Ot}(t.join(" "))},preventDefaults:function(t){if(!Ct){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,i=O(r,St),o=O(r,kt),a=O(r,Pt);return i||o&&n&Y||a&&n&G?this.preventSrc(e):void 0}e.preventDefault()}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,At=2,Rt=4,It=8,Nt=It,Dt=16;function zt(t){this.id=L++,this.manager=null,this.options=_(t||{},this.defaults),this.options.enable=x(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function Ht(t){return t==X?"down":t==V?"up":t==q?"left":t==W?"right":""}function Ft(t,e){var n=e.manager;return n?n.get(t):t}function Ut(){zt.apply(this,arguments)}function Bt(){Ut.apply(this,arguments),this.pX=null,this.pY=null}function qt(){Ut.apply(this,arguments)}function Wt(){zt.apply(this,arguments),this._timer=null,this._input=null}function Vt(){Ut.apply(this,arguments)}function Xt(){Ut.apply(this,arguments)}function Yt(){zt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Gt.defaults.preset),new Kt(t,e)}zt.prototype={defaults:{},set:function(t){return y(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ft(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Ft(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===S(e,t=Ft(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Ft(t,this);var e=S(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(r){e.manager.emit(e.options.event+(r?function(t){if(t&Dt)return"cancel";if(t&It)return"end";if(t&Rt)return"move";if(t&At)return"start";return""}(n):""),t)}n<It&&r(!0),r(),n>=It&&r(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=y({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Nt|Dt|32)&&(this.state=Lt),this.state=this.process(e),this.state&(At|Rt|It|Dt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(Ut,zt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(At|Rt),i=this.attrTest(t);return r&&(n&U||!i)?e|Dt:r||i?n&F?e|It:e&At?e|Rt:At:32}}),g(Bt,Ut,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,e=[];return t&Y&&e.push(kt),t&G&&e.push(Pt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Y?(i=0===o?B:o<0?q:W,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?B:a<0?V:X,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Ut.prototype.attrTest.call(this,t)&&(this.state&At||!(this.state&At)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ht(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),g(qt,Ut,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&At)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),g(Wt,zt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(F|U)&&!i)this.reset();else if(t.eventType&z)this.reset(),this._timer=d((function(){this.state=Nt,this.tryEmit()}),e.time,this);else if(t.eventType&F)return Nt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Nt&&(t&&t.eventType&F?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),g(Vt,Ut,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&At)}}),g(Xt,Ut,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Y|G,pointers:1},getTouchAction:function(){return Bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Y|G)?e=t.velocity:n&Y?e=t.velocityX:n&G&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&f(e)>this.options.velocity&&t.eventType&F},emit:function(t){var e=Ht(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(Yt,zt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Tt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=F)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=Nt,this.tryEmit()}),e.interval,this),At):Nt}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gt.VERSION="2.0.4",Gt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Vt,{enable:!1}],[qt,{enable:!1},["rotate"]],[Xt,{direction:Y}],[Bt,{direction:Y},["swipe"]],[Yt],[Yt,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Kt(t,e){e=e||{},this.options=_(e,Gt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(I?pt:N?wt:R?Et:ut))(t,J)}(this),this.touchAction=new jt(this,this.options.touchAction),$t(this,!0),v(e.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function $t(t,e){var n=t.element;v(t.options.cssProps,(function(t,r){n.style[j(n.style,r)]=e?t:""}))}Kt.prototype={set:function(t){return y(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Nt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(At|Rt|It)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof zt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(S(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return v(T(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},off:function(t,e){var n=this.handlers;return v(T(t),(function(t){e?n[t].splice(S(n[t],e),1):delete n[t]})),this},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&$t(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},y(Gt,{INPUT_START:z,INPUT_MOVE:H,INPUT_END:F,INPUT_CANCEL:U,STATE_POSSIBLE:Lt,STATE_BEGAN:At,STATE_CHANGED:Rt,STATE_ENDED:It,STATE_RECOGNIZED:Nt,STATE_CANCELLED:Dt,STATE_FAILED:32,DIRECTION_NONE:B,DIRECTION_LEFT:q,DIRECTION_RIGHT:W,DIRECTION_UP:V,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:G,DIRECTION_ALL:K,Manager:Kt,Input:Q,TouchAction:jt,TouchInput:wt,MouseInput:ut,PointerEventInput:pt,TouchMouseInput:Et,SingleTouchInput:yt,Recognizer:zt,AttrRecognizer:Ut,Tap:Yt,Pan:Bt,Swipe:Xt,Pinch:qt,Rotate:Vt,Press:Wt,on:E,off:M,each:v,merge:_,extend:y,inherit:g,bindFn:b,prefixed:j}),"function"==l&&n(1005)?(r=function(){return Gt}.call(e,n,e,t))===s||(t.exports=r):t.exports?t.exports=Gt:i.Hammer=Gt}(window,document)},925:function(t,e,n){"use strict";function r(t,e,n,r){var i=Math.atan(e/t);r[0]=n*Math.cos(i),r[1]=n*Math.sin(i)}t.exports={maxFriction:function(t,e,n,i,o){var a=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));r(e,n,t=Math.max(t,a/i),o),o[0]=Math.abs(o[0]),o[1]=Math.abs(o[1])},changeVectorNorm:r}},926:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(724),a=n(651),s=n(925).maxFriction,u=n(626),c={speed:8,friction:6,maxFrictionTime:.3};function l(t,e,n){this._element=t,this._opts=a(n||{},c),this._active=!1,this._hammer=o.get(t,e),this._dynamics={x:new i,y:new i},this._hammer.on("panstart",this._handleStart.bind(this)),this._hammer.on("panmove",this._handleMove.bind(this)),this._hammer.on("panend",this._handleRelease.bind(this)),this._hammer.on("pancancel",this._handleRelease.bind(this))}r(l),l.prototype.destroy=function(){this._hammer.release(),u(this)},l.prototype._handleStart=function(t){t.preventDefault(),this._active||(this._active=!0,this.emit("active"))},l.prototype._handleMove=function(t){t.preventDefault(),this._updateDynamics(t,!1)},l.prototype._handleRelease=function(t){t.preventDefault(),this._updateDynamics(t,!0),this._active&&(this._active=!1,this.emit("inactive"))};var h=[null,null];l.prototype._updateDynamics=function(t,e){var n=this._element.getBoundingClientRect(),r=n.right-n.left,i=n.bottom-n.top,o=Math.max(r,i),a=t.deltaX/o*this._opts.speed,u=t.deltaY/o*this._opts.speed;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=a,this._dynamics.y.velocity=u,e&&(s(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,h),this._dynamics.x.friction=h[0],this._dynamics.y.friction=h[1]),this.emit("parameterDynamics","x",this._dynamics.x),this.emit("parameterDynamics","y",this._dynamics.y)},t.exports=l},927:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(651),a=n(626),s={frictionTime:.2,zoomDelta:.001};function u(t,e){this._element=t,this._opts=o(e||{},s),this._dynamics=new i,this._eventList=[];var n=this._opts.frictionTime?this.withSmoothing:this.withoutSmoothing;this._wheelListener=n.bind(this),t.addEventListener("wheel",this._wheelListener)}function c(t){var e=1==t.deltaMode?20:1;return t.deltaY*e}r(u),u.prototype.destroy=function(){this._element.removeEventListener("wheel",this._wheelListener),a(this)},u.prototype.withoutSmoothing=function(t){this._dynamics.offset=c(t)*this._opts.zoomDelta,this.emit("parameterDynamics","zoom",this._dynamics),t.preventDefault(),this.emit("active"),this.emit("inactive")},u.prototype.withSmoothing=function(t){var e=t.timeStamp;for(this._eventList.push(t);this._eventList[0].timeStamp<e-1e3*this._opts.frictionTime;)this._eventList.shift(0);for(var n=0,r=0;r<this._eventList.length;r++){n+=c(this._eventList[r])*this._opts.zoomDelta/this._opts.frictionTime}this._dynamics.velocity=n,this._dynamics.friction=Math.abs(n)/this._opts.frictionTime,this.emit("parameterDynamics","zoom",this._dynamics),t.preventDefault(),this.emit("active"),this.emit("inactive")},t.exports=u},928:function(t,e,n){"use strict";var r=n(627),i=n(655),o=n(724),a=n(626);function s(t,e,n){this._hammer=o.get(t,e),this._lastEvent=null,this._active=!1,this._dynamics=new i,this._hammer.on("pinchstart",this._handleStart.bind(this)),this._hammer.on("pinch",this._handleEvent.bind(this)),this._hammer.on("pinchend",this._handleEnd.bind(this)),this._hammer.on("pinchcancel",this._handleEnd.bind(this))}r(s),s.prototype.destroy=function(){this._hammer.release(),a(this)},s.prototype._handleStart=function(){this._active||(this._active=!0,this.emit("active"))},s.prototype._handleEnd=function(){this._lastEvent=null,this._active&&(this._active=!1,this.emit("inactive"))},s.prototype._handleEvent=function(t){var e=t.scale;this._lastEvent&&(e/=this._lastEvent.scale),this._dynamics.offset=-1*(e-1),this.emit("parameterDynamics","zoom",this._dynamics),this._lastEvent=t},t.exports=s},929:function(t,e,n){"use strict";var r=n(627),i=n(1008),o=n(626),a="undefined"!==typeof MARZIPANODEBUG&&MARZIPANODEBUG.controls;function s(t){t=t||{},this._methods={},this._methodGroups={},this._composer=new i,this._enabled=!t||!t.enabled||!!t.enabled,this._activeCount=0,this.updatedViews_=[],this._attachedRenderLoop=null}r(s),s.prototype.destroy=function(){this.detach(),this._composer.destroy(),o(this)},s.prototype.methods=function(){var t={};for(var e in this._methods)t[e]=this._methods[e];return t},s.prototype.method=function(t){return this._methods[t]},s.prototype.registerMethod=function(t,e,n){if(this._methods[t])throw new Error("Control method already registered with id "+t);this._methods[t]={instance:e,enabled:!1,active:!1,activeHandler:this._handleActive.bind(this,t),inactiveHandler:this._handleInactive.bind(this,t)},n&&this.enableMethod(t,e)},s.prototype.unregisterMethod=function(t){var e=this._methods[t];if(!e)throw new Error("No control method registered with id "+t);e.enabled&&this.disableMethod(t),delete this._methods[t]},s.prototype.enableMethod=function(t){var e=this._methods[t];if(!e)throw new Error("No control method registered with id "+t);e.enabled||(e.enabled=!0,e.active&&this._incrementActiveCount(),this._listen(t),this._updateComposer(),this.emit("methodEnabled",t))},s.prototype.disableMethod=function(t){var e=this._methods[t];if(!e)throw new Error("No control method registered with id "+t);e.enabled&&(e.enabled=!1,e.active&&this._decrementActiveCount(),this._unlisten(t),this._updateComposer(),this.emit("methodDisabled",t))},s.prototype.addMethodGroup=function(t,e){this._methodGroups[t]=e},s.prototype.removeMethodGroup=function(t){delete this._methodGroups[t]},s.prototype.methodGroups=function(){var t={};for(var e in this._methodGroups)t[e]=this._methodGroups[e];return t},s.prototype.enableMethodGroup=function(t){var e=this;e._methodGroups[t].forEach((function(t){e.enableMethod(t)}))},s.prototype.disableMethodGroup=function(t){var e=this;e._methodGroups[t].forEach((function(t){e.disableMethod(t)}))},s.prototype.enabled=function(){return this._enabled},s.prototype.enable=function(){this._enabled||(this._enabled=!0,this._activeCount>0&&this.emit("active"),this.emit("enabled"),this._updateComposer())},s.prototype.disable=function(){this._enabled&&(this._enabled=!1,this._activeCount>0&&this.emit("inactive"),this.emit("disabled"),this._updateComposer())},s.prototype.attach=function(t){this._attachedRenderLoop&&this.detach(),this._attachedRenderLoop=t,this._beforeRenderHandler=this._updateViewsWithControls.bind(this),this._changeHandler=t.renderOnNextFrame.bind(t),this._attachedRenderLoop.addEventListener("beforeRender",this._beforeRenderHandler),this._composer.addEventListener("change",this._changeHandler)},s.prototype.detach=function(){this._attachedRenderLoop&&(this._attachedRenderLoop.removeEventListener("beforeRender",this._beforeRenderHandler),this._composer.removeEventListener("change",this._changeHandler),this._beforeRenderHandler=null,this._changeHandler=null,this._attachedRenderLoop=null)},s.prototype.attached=function(){return null!=this._attachedRenderLoop},s.prototype._listen=function(t){var e=this._methods[t];if(!e)throw new Error("Bad method id");e.instance.addEventListener("active",e.activeHandler),e.instance.addEventListener("inactive",e.inactiveHandler)},s.prototype._unlisten=function(t){var e=this._methods[t];if(!e)throw new Error("Bad method id");e.instance.removeEventListener("active",e.activeHandler),e.instance.removeEventListener("inactive",e.inactiveHandler)},s.prototype._handleActive=function(t){var e=this._methods[t];if(!e)throw new Error("Bad method id");if(!e.enabled)throw new Error("Should not receive event from disabled control method");e.active||(e.active=!0,this._incrementActiveCount())},s.prototype._handleInactive=function(t){var e=this._methods[t];if(!e)throw new Error("Bad method id");if(!e.enabled)throw new Error("Should not receive event from disabled control method");e.active&&(e.active=!1,this._decrementActiveCount())},s.prototype._incrementActiveCount=function(){this._activeCount++,a&&this._checkActiveCount(),this._enabled&&1===this._activeCount&&this.emit("active")},s.prototype._decrementActiveCount=function(){this._activeCount--,a&&this._checkActiveCount(),this._enabled&&0===this._activeCount&&this.emit("inactive")},s.prototype._checkActiveCount=function(){var t=0;for(var e in this._methods){var n=this._methods[e];n.enabled&&n.active&&t++}if(t!=this._activeCount)throw new Error("Bad control state")},s.prototype._updateComposer=function(){var t=this._composer;for(var e in this._methods){var n=this._methods[e],r=this._enabled&&n.enabled;r&&!t.has(n.instance)&&t.add(n.instance),!r&&t.has(n.instance)&&t.remove(n.instance)}},s.prototype._updateViewsWithControls=function(){var t=this._composer.offsets();t.changing&&this._attachedRenderLoop.renderOnNextFrame(),this.updatedViews_.length=0;for(var e=this._attachedRenderLoop.stage().listLayers(),n=0;n<e.length;n++){var r=e[n].view();this.updatedViews_.indexOf(r)<0&&(e[n].view().updateWithControlParameters(t.offsets),this.updatedViews_.push(r))}},t.exports=s},930:function(t,e,n){"use strict";var r=n(919),i=n(917),o=n(931),a=n(627),s=n(680),u=n(699),c=n(698),l=n(651),h=n(626);function f(t,e){this._viewer=t,this._view=e,this._layers=[],this._hotspotContainer=new o(t._controlContainer,t.stage(),this._view,t.renderLoop()),this._movement=null,this._movementStartTime=null,this._movementStep=null,this._movementParams=null,this._movementCallback=null,this._updateMovementHandler=this._updateMovement.bind(this),this._updateHotspotContainerHandler=this._updateHotspotContainer.bind(this),this._viewer.addEventListener("sceneChange",this._updateHotspotContainerHandler),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._view.addEventListener("change",this._viewChangeHandler),this._updateHotspotContainer()}a(f),f.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._viewer.removeEventListener("sceneChange",this._updateHotspotContainerHandler),this._movement&&this.stopMovement(),this._hotspotContainer.destroy(),this.destroyAllLayers(),h(this)},f.prototype.hotspotContainer=function(){return this._hotspotContainer},f.prototype.layer=function(){return this._layers[0]},f.prototype.listLayers=function(){return[].concat(this._layers)},f.prototype.view=function(){return this._view},f.prototype.viewer=function(){return this._viewer},f.prototype.visible=function(){return this._viewer.scene()===this},f.prototype.createLayer=function(t){var e=(t=t||{}).textureStoreOpts||{},n=t.layerOpts||{},o=t.source,a=t.geometry,s=this._view,u=this._viewer.stage(),c=new i(o,u,e),l=new r(o,a,s,c,n);return this._layers.push(l),t.pinFirstLevel&&l.pinFirstLevel(),this.emit("layerChange"),l},f.prototype.destroyLayer=function(t){var e=this._layers.indexOf(t);if(e<0)throw new Error("No such layer in scene");this._layers.splice(e,1),this.emit("layerChange"),t.textureStore().destroy(),t.destroy()},f.prototype.destroyAllLayers=function(){for(;this._layers.length>0;)this.destroyLayer(this._layers[0])},f.prototype.switchTo=function(t,e){return this._viewer.switchScene(this,t,e)},f.prototype.lookTo=function(t,e,n){var r=this;if(e=e||{},n=n||u,"object"!==c(t))throw new Error("Target view parameters must be an object");var i=null!=e.ease?e.ease:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},o=null!=e.controlsInterrupt&&e.controlsInterrupt,a=null!=e.transitionDuration?e.transitionDuration:1e3,s=null==e.shortest||e.shortest,h=this._view,f=h.parameters(),p={};l(p,t),l(p,f),s&&h.normalizeToClosest&&h.normalizeToClosest(p,p);var d=this._viewer.controls().enabled();o||this._viewer.controls().disable(),this.startMovement((function(){var t=!1;return function(e,n){if(n>=a&&t)return null;var r=Math.min(n/a,1);for(var o in e){var s=f[o],u=p[o];e[o]=s+i(r)*(u-s)}return t=n>=a,e}}),(function(){d&&r._viewer.controls().enable(),n()}))},f.prototype.startMovement=function(t,e){var n=this._viewer.renderLoop();this._movement&&this.stopMovement();var r=t();if("function"!==typeof r)throw new Error("Bad movement");this._movement=t,this._movementStep=r,this._movementStartTime=s(),this._movementParams={},this._movementCallback=e,n.addEventListener("beforeRender",this._updateMovementHandler),n.renderOnNextFrame()},f.prototype.stopMovement=function(){var t=this._movementCallback,e=this._viewer.renderLoop();this._movement&&(this._movement=null,this._movementStep=null,this._movementStartTime=null,this._movementParams=null,this._movementCallback=null,e.removeEventListener("beforeRender",this._updateMovementHandler),t&&t())},f.prototype.movement=function(){return this._movement},f.prototype._updateMovement=function(){if(!this._movement)throw new Error("Should not call update");var t=this._viewer.renderLoop(),e=this._view,n=s()-this._movementStartTime,r=this._movementStep,i=this._movementParams;null==(i=r(i=e.parameters(i),n))?this.stopMovement():(e.setParameters(i),t.renderOnNextFrame())},f.prototype._updateHotspotContainer=function(){this.visible()?this._hotspotContainer.show():this._hotspotContainer.hide()},t.exports=f},931:function(t,e,n){"use strict";var r=n(627),i=n(932),o=n(900),a=n(933),s=n(639).setAbsolute,u=n(639).setOverflowHidden,c=n(639).setOverflowVisible,l=n(639).setNullSize,h=n(639).setPixelSize,f=n(639).setWithVendorPrefix("pointer-events"),p=n(626);function d(t,e,n,r,i){i=i||{},this._parentDomElement=t,this._stage=e,this._view=n,this._renderLoop=r,this._hotspots=[],this._visible=!0,this._rect=i.rect,this._visibilityOrRectChanged=!0,this._stageWidth=null,this._stageHeight=null,this._tmpRect={},this._hotspotContainerWrapper=document.createElement("div"),s(this._hotspotContainerWrapper),f(this._hotspotContainerWrapper,"none"),this._parentDomElement.appendChild(this._hotspotContainerWrapper),this._hotspotContainer=document.createElement("div"),s(this._hotspotContainer),f(this._hotspotContainer,"all"),this._hotspotContainerWrapper.appendChild(this._hotspotContainer),this._updateHandler=this._update.bind(this),this._renderLoop.addEventListener("afterRender",this._updateHandler)}r(d),d.prototype.destroy=function(){for(;this._hotspots.length;)this.destroyHotspot(this._hotspots[0]);this._parentDomElement.removeChild(this._hotspotContainerWrapper),this._renderLoop.removeEventListener("afterRender",this._updateHandler),p(this)},d.prototype.domElement=function(){return this._hotspotContainer},d.prototype.setRect=function(t){this._rect=t,this._visibilityOrRectChanged=!0},d.prototype.rect=function(){return this._rect},d.prototype.createHotspot=function(t,e,n){e=e||{};var r=new i(t,this._hotspotContainer,this._view,e,n);return this._hotspots.push(r),r._update(),this.emit("hotspotsChange"),r},d.prototype.hasHotspot=function(t){return this._hotspots.indexOf(t)>=0},d.prototype.listHotspots=function(){return[].concat(this._hotspots)},d.prototype.destroyHotspot=function(t){var e=this._hotspots.indexOf(t);if(e<0)throw new Error("No such hotspot");this._hotspots.splice(e,1),t.destroy(),this.emit("hotspotsChange")},d.prototype.hide=function(){this._visible&&(this._visible=!1,this._visibilityOrRectChanged=!0,this._update())},d.prototype.show=function(){this._visible||(this._visible=!0,this._visibilityOrRectChanged=!0,this._update())},d.prototype._update=function(){var t=this._hotspotContainerWrapper,e=this._stage.width(),n=this._stage.height(),r=this._tmpRect;if(this._visibilityOrRectChanged||this._rect&&(e!==this._stageWidth||n!==this._stageHeight)){var i=this._visible;t.style.display=i?"block":"none",i&&(this._rect?(o(e,n,this._rect,r),a(t,e*r.x,n*r.y),h(t,e*r.width,n*r.height),u(t)):(a(t,0,0),l(t),c(t))),this._stageWidth=e,this._stageHeight=n,this._visibilityOrRectChanged=!1}for(var s=0;s<this._hotspots.length;s++)this._hotspots[s]._update()},t.exports=d},932:function(t,e,n){"use strict";var r=n(627),i=n(933),o=n(639).setTransform,a=n(626);function s(t,e,n,r,i){(i=i||{}).perspective=i.perspective||{},i.perspective.extraTransforms=null!=i.perspective.extraTransforms?i.perspective.extraTransforms:"",this._domElement=t,this._parentDomElement=e,this._view=n,this._coords={},this._perspective={},this.setPosition(r),this._parentDomElement.appendChild(this._domElement),this.setPerspective(i.perspective),this._visible=!0,this._position={x:0,y:0}}r(s),s.prototype.destroy=function(){this._parentDomElement.removeChild(this._domElement),a(this)},s.prototype.domElement=function(){return this._domElement},s.prototype.position=function(){return this._coords},s.prototype.setPosition=function(t){for(var e in t)this._coords[e]=t[e];this._update()},s.prototype.perspective=function(){return this._perspective},s.prototype.setPerspective=function(t){for(var e in t)this._perspective[e]=t[e];this._update()},s.prototype.show=function(){this._visible||(this._visible=!0,this._update())},s.prototype.hide=function(){this._visible&&(this._visible=!1,this._update())},s.prototype._update=function(){var t,e,n=this._domElement,r=this._coords,i=this._position,o=!1;if(this._visible){var a=this._view;this._perspective.radius?(o=!0,this._setEmbeddedPosition(a,r)):(a.coordinatesToScreen(r,i),t=i.x,e=i.y,null!=t&&null!=e&&(o=!0,this._setPosition(t,e)))}o?(n.style.display="block",n.style.position="absolute"):(n.style.display="none",n.style.position="")},s.prototype._setEmbeddedPosition=function(t,e){var n=t.coordinatesToPerspectiveTransform(e,this._perspective.radius,this._perspective.extraTransforms);o(this._domElement,n)},s.prototype._setPosition=function(t,e){i(this._domElement,t,e,this._perspective.extraTransforms)},t.exports=s},933:function(t,e,n){"use strict";var r=n(639).setTransform,i=n(762);t.exports=function(t,e,n,o){o=o||"";var a="translateX("+i(e)+"px) translateY("+i(n)+"px) translateZ(0) "+o;r(t,a)}},934:function(t,e,n){"use strict";var r=n(651),i=n(923),o=n(926),a=n(927),s=n(928),u=n(922),c={mouseViewMode:"drag",dragMode:"pan"};t.exports=function(t,e,n){n=r(n||{},c);var l={mouseViewDrag:new i(e,"mouse"),mouseViewQtvr:new o(e,"mouse"),leftArrowKey:new u(37,"x",-.7,3),rightArrowKey:new u(39,"x",.7,3),upArrowKey:new u(38,"y",-.7,3),downArrowKey:new u(40,"y",.7,3),plusKey:new u(107,"zoom",-.7,3),minusKey:new u(109,"zoom",.7,3),wKey:new u(87,"y",-.7,3),aKey:new u(65,"x",-.7,3),sKey:new u(83,"y",.7,3),dKey:new u(68,"x",.7,3),qKey:new u(81,"roll",.7,3),eKey:new u(69,"roll",-.7,3)},h=["scrollZoom","touchView","pinch"];!1!==n.scrollZoom&&(l.scrollZoom=new a(e));var f={arrowKeys:["leftArrowKey","rightArrowKey","upArrowKey","downArrowKey"],plusMinusKeys:["plusKey","minusKey"],wasdKeys:["wKey","aKey","sKey","dKey"],qeKeys:["qKey","eKey"]};switch(n.dragMode){case"pinch":l.pinch=new i(e,"touch",{hammerEvent:"pinch"});break;case"pan":l.touchView=new i(e,"touch"),l.pinch=new s(e,"touch");break;default:throw new Error("Unknown drag mode: "+n.dragMode)}switch(n.mouseViewMode){case"drag":h.push("mouseViewDrag");break;case"qtvr":h.push("mouseViewQtvr");break;default:throw new Error("Unknown mouse view mode: "+n.mouseViewMode)}for(var p in l){var d=l[p];t.registerMethod(p,d),h.indexOf(p)>=0&&t.enableMethod(p)}for(var m in f){var v=f[m];t.addMethodGroup(m,v)}return l}},935:function(t,e,n){"use strict";var r=n(680);t.exports=function(t,e,n){var i=!1,o=r();return e(0),requestAnimationFrame((function a(){if(!i){var s=(r()-o)/t;s<1?(e(s),requestAnimationFrame(a)):(e(1),n())}})),function(){i=!0,n.apply(null,arguments)}}},950:function(t,e,n){"use strict";var r=n(110),i=n.n(r),o=n(374),a=n.n(o),s=n(78),u=n.n(s),c=n(136),l=n.n(c),h=n(69),f=n.n(h),p=n(79),d=n.n(p),m=n(4),v=n.n(m),y=n(13),_=n.n(y),g=function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");return"function"!==typeof e.componentWillReceiveProps?t:v.a.Profiler?(e.UNSAFE_componentWillReceiveProps=e.componentWillReceiveProps,delete e.componentWillReceiveProps,t):t};function b(t){var e=[];return v.a.Children.forEach(t,(function(t){e.push(t)})),e}function w(t,e){var n=null;return t&&t.forEach((function(t){n||t&&t.key===e&&(n=t)})),n}function x(t,e,n){var r=null;return t&&t.forEach((function(t){if(t&&t.key===e&&t.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=t}})),r}var E=n(71),M=n.n(E),C=n(335),O={isAppearSupported:function(t){return t.transitionName&&t.transitionAppear||t.animation.appear},isEnterSupported:function(t){return t.transitionName&&t.transitionEnter||t.animation.enter},isLeaveSupported:function(t){return t.transitionName&&t.transitionLeave||t.animation.leave},allowAppearCallback:function(t){return t.transitionAppear||t.animation.appear},allowEnterCallback:function(t){return t.transitionEnter||t.animation.enter},allowLeaveCallback:function(t){return t.transitionLeave||t.animation.leave}},T={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},S=function(t){function e(){return u()(this,e),f()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d()(e,t),l()(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(t){O.isEnterSupported(this.props)?this.transition("enter",t):t()}},{key:"componentWillAppear",value:function(t){O.isAppearSupported(this.props)?this.transition("appear",t):t()}},{key:"componentWillLeave",value:function(t){O.isLeaveSupported(this.props)?this.transition("leave",t):t()}},{key:"transition",value:function(t,e){var n=this,r=M.a.findDOMNode(this),i=this.props,o=i.transitionName,a="object"===typeof o;this.stop();var s=function(){n.stopper=null,e()};if((C.b||!i.animation[t])&&o&&i[T[t]]){var u=a?o[t]:o+"-"+t,c=u+"-active";a&&o[t+"Active"]&&(c=o[t+"Active"]),this.stopper=Object(C.a)(r,{name:u,active:c},s)}else this.stopper=i.animation[t](r,s)}},{key:"stop",value:function(){var t=this.stopper;t&&(this.stopper=null,t.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(v.a.Component);S.propTypes={children:_.a.any,animation:_.a.any,transitionName:_.a.any};var P=S,k="rc_animate_"+Date.now();function j(t){var e=t.children;return v.a.isValidElement(e)&&!e.key?v.a.cloneElement(e,{key:k}):e}function L(){}var A=function(t){function e(t){u()(this,e);var n=f()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return R.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:b(j(t))},n.childrenRefs={},n}return d()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.showProp,n=this.state.children;e&&(n=n.filter((function(t){return!!t.props[e]}))),n.forEach((function(e){e&&t.performAppear(e.key)}))}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.nextProps=t;var n=b(j(t)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(t){e.stop(t)}));var i=r.showProp,o=this.currentlyAnimatingKeys,s=r.exclusive?b(j(r)):this.state.children,u=[];i?(s.forEach((function(t){var e=t&&w(n,t.key),r=void 0;(r=e&&e.props[i]||!t.props[i]?e:v.a.cloneElement(e||t,a()({},i,!0)))&&u.push(r)})),n.forEach((function(t){t&&w(s,t.key)||u.push(t)}))):u=function(t,e){var n=[],r={},i=[];return t.forEach((function(t){t&&w(e,t.key)?i.length&&(r[t.key]=i,i=[]):i.push(t)})),e.forEach((function(t){t&&Object.prototype.hasOwnProperty.call(r,t.key)&&(n=n.concat(r[t.key])),n.push(t)})),n=n.concat(i)}(s,n),this.setState({children:u}),n.forEach((function(t){var n=t&&t.key;if(!t||!o[n]){var r=t&&w(s,n);if(i){var a=t.props[i];if(r)!x(s,n,i)&&a&&e.keysToEnter.push(n);else a&&e.keysToEnter.push(n)}else r||e.keysToEnter.push(n)}})),s.forEach((function(t){var r=t&&t.key;if(!t||!o[r]){var a=t&&w(n,r);if(i){var s=t.props[i];if(a)!x(n,r,i)&&s&&e.keysToLeave.push(r);else s&&e.keysToLeave.push(r)}else a||e.keysToLeave.push(r)}}))}},{key:"componentDidUpdate",value:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(t,e){var n=this.props.showProp;return n?x(t,e,n):w(t,e)}},{key:"stop",value:function(t){delete this.currentlyAnimatingKeys[t];var e=this.childrenRefs[t];e&&e.stop()}},{key:"render",value:function(){var t=this,e=this.props;this.nextProps=e;var n=this.state.children,r=null;n&&(r=n.map((function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return v.a.createElement(P,{key:n.key,ref:function(e){t.childrenRefs[n.key]=e},animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},n)})));var o=e.component;if(o){var a=e;return"string"===typeof o&&(a=i()({className:e.className,style:e.style},e.componentProps)),v.a.createElement(o,a,r)}return r[0]||null}}]),e}(v.a.Component);A.isAnimate=!0,A.propTypes={className:_.a.string,style:_.a.object,component:_.a.any,componentProps:_.a.object,animation:_.a.object,transitionName:_.a.oneOfType([_.a.string,_.a.object]),transitionEnter:_.a.bool,transitionAppear:_.a.bool,exclusive:_.a.bool,transitionLeave:_.a.bool,onEnd:_.a.func,onEnter:_.a.func,onLeave:_.a.func,onAppear:_.a.func,showProp:_.a.string,children:_.a.node},A.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:L,onEnter:L,onLeave:L,onAppear:L};var R=function(){var t=this;this.performEnter=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillEnter(t.handleDoneAdding.bind(t,e,"enter")))},this.performAppear=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillAppear(t.handleDoneAdding.bind(t,e,"appear")))},this.handleDoneAdding=function(e,n){var r=t.props;if(delete t.currentlyAnimatingKeys[e],!r.exclusive||r===t.nextProps){var i=b(j(r));t.isValidChildByKey(i,e)?"appear"===n?O.allowAppearCallback(r)&&(r.onAppear(e),r.onEnd(e,!0)):O.allowEnterCallback(r)&&(r.onEnter(e),r.onEnd(e,!0)):t.performLeave(e)}},this.performLeave=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillLeave(t.handleDoneLeaving.bind(t,e)))},this.handleDoneLeaving=function(e){var n=t.props;if(delete t.currentlyAnimatingKeys[e],!n.exclusive||n===t.nextProps){var r=b(j(n));if(t.isValidChildByKey(r,e))t.performEnter(e);else{var i=function(){O.allowLeaveCallback(n)&&(n.onLeave(e),n.onEnd(e,!1))};!function(t,e,n){var r=t.length===e.length;return r&&t.forEach((function(t,i){var o=e[i];t&&o&&(t&&!o||!t&&o?r=!1:t.key!==o.key?r=!1:n&&t.props[n]!==o.props[n]&&(r=!1))})),r}(t.state.children,r,n.showProp)?t.setState({children:r},i):i()}}}};e.a=g(A)},984:function(t,e,n){"use strict";t.exports={WebGlStage:n(898),WebGlCubeRenderer:n(905),WebGlFlatRenderer:n(908),WebGlEquirectRenderer:n(909),registerDefaultRenderers:n(910),CubeGeometry:n(994),FlatGeometry:n(995),EquirectGeometry:n(996),RectilinearView:n(997),FlatView:n(998),ImageUrlSource:n(999),SingleAssetSource:n(1001),StaticAsset:n(758),DynamicAsset:n(1002),TextureStore:n(917),Layer:n(919),RenderLoop:n(921),KeyControlMethod:n(922),DragControlMethod:n(923),QtvrControlMethod:n(926),ScrollZoomControlMethod:n(927),PinchZoomControlMethod:n(928),VelocityControlMethod:n(1006),ElementPressControlMethod:n(1007),Controls:n(929),Dynamics:n(655),Viewer:n(1009),Scene:n(930),Hotspot:n(932),HotspotContainer:n(931),colorEffects:n(1012),registerDefaultControls:n(934),autorotate:n(1013),util:{async:n(901),cancelize:n(902),chain:n(763),clamp:n(686),clearOwnProperties:n(626),cmp:n(697),compose:n(915),convertFov:n(914),decimal:n(762),defaults:n(651),defer:n(1014),degToRad:n(1015),delay:n(916),dom:n(639),extend:n(920),hash:n(723),inherits:n(650),mod:n(668),noop:n(699),now:n(680),once:n(757),pixelRatio:n(722),radToDeg:n(1016),real:n(761),retry:n(918),tween:n(935),type:n(698)},dependencies:{bowser:n(759),glMatrix:n(633),eventEmitter:n(627),hammerjs:n(924)}}},985:function(t,e,n){"use strict";var r=n(627),i=n(899),o=n(900),a=n(901),s=n(902),u=n(626),c=n(986);function l(t,e){return t.cmp(e)}function h(t,e){return-t.cmp(e)}function f(t){this._progressive=!(!t||!t.progressive),this._layers=[],this._renderers=[],this._tilesToLoad=[],this._tilesToRender=[],this._tmpVisible=[],this._tmpChildren=[],this._width=0,this._height=0,this._tmpRect={},this._tmpSize={},this._createTextureWorkQueue=new i,this._emitRenderInvalid=this._emitRenderInvalid.bind(this),this._rendererRegistry=new c}r(f),f.prototype.destroy=function(){this.removeAllLayers(),u(this)},f.prototype.registerRenderer=function(t,e,n){return this._rendererRegistry.set(t,e,n)},f.prototype.domElement=function(){throw new Error("Stage implementation must override domElement")},f.prototype.width=function(){return this._width},f.prototype.height=function(){return this._height},f.prototype.size=function(t){return(t=t||{}).width=this._width,t.height=this._height,t},f.prototype.setSize=function(t){this._width=t.width,this._height=t.height,this.setSizeForType(),this.emit("resize"),this._emitRenderInvalid()},f.prototype.setSizeForType=function(t){throw new Error("Stage implementation must override setSizeForType")},f.prototype.loadImage=function(){throw new Error("Stage implementation must override loadImage")},f.prototype._emitRenderInvalid=function(){this.emit("renderInvalid")},f.prototype.validateLayer=function(t){throw new Error("Stage implementation must override validateLayer")},f.prototype.listLayers=function(){return[].concat(this._layers)},f.prototype.hasLayer=function(t){return this._layers.indexOf(t)>=0},f.prototype.addLayer=function(t,e){if(this._layers.indexOf(t)>=0)throw new Error("Layer already in stage");if(null==e&&(e=this._layers.length),e<0||e>this._layers.length)throw new Error("Invalid layer position");this.validateLayer(t);var n=t.geometry().type,r=t.view().type,i=this._rendererRegistry.get(n,r);if(!i)throw new Error("No "+this.type+" renderer avaiable for "+n+" geometry and "+r+" view");var o=this.createRenderer(i);this._layers.splice(e,0,t),this._renderers.splice(e,0,o),t.addEventListener("viewChange",this._emitRenderInvalid),t.addEventListener("effectsChange",this._emitRenderInvalid),t.addEventListener("fixedLevelChange",this._emitRenderInvalid),t.addEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()},f.prototype.moveLayer=function(t,e){var n=this._layers.indexOf(t);if(n<0)throw new Error("No such layer in stage");if(e<0||e>=this._layers.length)throw new Error("Invalid layer position");t=this._layers.splice(n,1)[0];var r=this._renderers.splice(n,1)[0];this._layers.splice(e,0,t),this._renderers.splice(e,0,r),this._emitRenderInvalid()},f.prototype.removeLayer=function(t){var e=this._layers.indexOf(t);if(e<0)throw new Error("No such layer in stage");var n=this._layers.splice(e,1)[0],r=this._renderers.splice(e,1)[0];this.destroyRenderer(r),n.removeEventListener("viewChange",this._emitRenderInvalid),n.removeEventListener("effectsChange",this._emitRenderInvalid),n.removeEventListener("fixedLevelChange",this._emitRenderInvalid),n.removeEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()},f.prototype.removeAllLayers=function(){for(;this._layers.length>0;)this.removeLayer(this._layers[0])},f.prototype.startFrame=function(){throw new Error("Stage implementation must override startFrame")},f.prototype.endFrame=function(){throw new Error("Stage implementation must override endFrame")},f.prototype.render=function(){var t,e,n,r=this._tilesToLoad,i=this._tilesToRender,a=!0,s=this._width,u=this._height,c=this._tmpRect,l=this._tmpSize;if(!(s<=0||u<=0)){for(this.startFrame(),t=0;t<this._layers.length;t++)this._layers[t].textureStore().startFrame();for(t=0;t<this._layers.length;t++){var h,f,p=this._layers[t],d=p.effects(),m=p.view(),v=p.textureStore(),y=this._renderers[t],_=this._layers.length-t;if(o(s,u,d&&d.rect,c),!(c.width<=0||c.height<=0)){for(l.width=c.width*this._width,l.height=c.height*this._height,m.setSize(l),y.startLayer(p,c),n=this._collectTiles(p,v),e=0;e<r.length;e++)h=r[e],v.markTile(h);for(e=0;e<i.length;e++)h=i[e],f=v.texture(h),y.renderTile(h,f,p,_);p.emit("renderComplete",n),n||(a=!1),y.endLayer(p,c)}}for(t=0;t<this._layers.length;t++)this._layers[t].textureStore().endFrame();this.endFrame(),this.emit("renderComplete",a)}},f.prototype._collectTiles=function(t,e){var n=this._tilesToLoad,r=this._tilesToRender,i=this._tmpVisible;n.length=0,r.length=0,i.length=0,t.visibleTiles(i);for(var o=!0,a=0;a<i.length;a++){var s,u=i[a];this._collectTileToLoad(u),e.texture(u)?(s=!1,this._collectTileToRender(u)):(s=this._collectChildren(u,e),o=!1),this._collectParents(u,e,s)}return n.sort(l),r.sort(h),o},f.prototype._collectChildren=function(t,e){var n=this._tmpChildren,r=!0;do{if(n.length=0,!t.children(n))break;r=!1;for(var i=0;i<n.length;i++)t=n[i],e.texture(t)?(this._collectTileToLoad(t),this._collectTileToRender(t)):r=!0}while(r&&1===n.length);return r},f.prototype._collectParents=function(t,e,n){for(var r=this._progressive;(r||n)&&null!=(t=t.parent());){if(n)if(e.texture(t))this._collectTileToRender(t),n=!1;else if(!this._progressive)continue;this._collectTileToLoad(t)||(r=!1)}return n},f.prototype._collectTileToLoad=function(t){return this._collectTileIntoList(t,this._tilesToLoad)},f.prototype._collectTileToRender=function(t){return this._collectTileIntoList(t,this._tilesToRender)},f.prototype._collectTileIntoList=function(t,e){for(var n=!1,r=0;r<e.length;r++)if(t.equals(e[r])){n=!0;break}return n||e.push(t),!n},f.prototype.createTexture=function(t,e,n){var r=this;var i=s(a((function(){return new r.TextureClass(r,t,e)})));return this._createTextureWorkQueue.push(i,(function(r,i){n(r,t,e,i)}))},t.exports=f},986:function(t,e,n){"use strict";function r(){this._renderers={}}r.prototype.set=function(t,e,n){this._renderers[t]||(this._renderers[t]={}),this._renderers[t][e]=n},r.prototype.get=function(t,e){return this._renderers[t]&&this._renderers[t][e]||null},t.exports=r},987:function(t,e,n){"use strict";var r=n(758),i=n(904),o=n(759),a=n(903),s=n(757),u=!!a.createImageBitmap&&!o.firefox,c={imageOrientation:"flipY",premultiplyAlpha:"premultiply"};function l(t){this._stage=t}l.prototype.loadImage=function(t,e,n){var r=this,i=new Image;i.crossOrigin="anonymous";var o=e&&e.x||0,a=e&&e.y||0,u=e&&e.width||1,c=e&&e.height||1;return n=s(n),i.onload=function(){r._handleLoad(i,o,a,u,c,n)},i.onerror=function(){r._handleError(t,n)},i.src=t,function(){i.onload=i.onerror=null,i.src="",n.apply(null,arguments)}},l.prototype._handleLoad=function(t,e,n,i,o,s){if(0!==e||0!==n||1!==i||1!==o)if(e*=t.naturalWidth,n*=t.naturalHeight,i*=t.naturalWidth,o*=t.naturalHeight,u)a.createImageBitmap(t,e,n,i,o,c).then((function(t){s(null,new r(t))}));else{var l=document.createElement("canvas");l.width=i,l.height=o,l.getContext("2d").drawImage(t,e,n,i,o,0,0,i,o),s(null,new r(l))}else s(null,new r(t))},l.prototype._handleError=function(t,e){e(new i("Network error: "+t))},t.exports=l},988:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},989:function(t,e,n){"use strict";t.exports=function(t){return 0==(t&t-1)}},990:function(t,e,n){"use strict";t.exports=["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uProjMatrix;","varying vec2 vTextureCoord;","void main(void) {","  gl_Position = uViewportMatrix * uProjMatrix * vec4(aVertexPosition.xy, 0.0, 1.0);","  gl_Position.z = uDepth * gl_Position.w;","  vTextureCoord = aTextureCoord;","}"].join("\n")},991:function(t,e,n){"use strict";t.exports=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec2 vTextureCoord;","void main(void) {","  vec4 color = texture2D(uSampler, vTextureCoord) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join("\n")},992:function(t,e,n){"use strict";t.exports=["attribute vec3 aVertexPosition;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uInvProjMatrix;","varying vec4 vRay;","void main(void) {","  vRay = uInvProjMatrix * vec4(aVertexPosition.xy, 1.0, 1.0);","  gl_Position = uViewportMatrix * vec4(aVertexPosition.xy, uDepth, 1.0);","}"].join("\n")},993:function(t,e,n){"use strict";t.exports=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform float uTextureX;","uniform float uTextureY;","uniform float uTextureWidth;","uniform float uTextureHeight;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec4 vRay;","const float PI = 3.14159265358979323846264;","void main(void) {","  float r = inversesqrt(vRay.x * vRay.x + vRay.y * vRay.y + vRay.z * vRay.z);","  float phi  = acos(vRay.y * r);","  float theta = atan(vRay.x, -1.0*vRay.z);","  float s = 0.5 + 0.5 * theta / PI;","  float t = 1.0 - phi / PI;","  s = s * uTextureWidth + uTextureX;","  t = t * uTextureHeight + uTextureY;","  vec4 color = texture2D(uSampler, vec2(s, t)) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join("\n")},994:function(t,e,n){"use strict";var r=n(650),i=n(723),o=n(911),a=n(913),s=n(760),u=n(696).makeLevelList,c=n(696).makeSelectableLevelList,l=n(686),h=n(697),f=n(698),p=n(633).vec3,d=n(633).vec4,m=64,v={f:{x:0,y:0},b:{x:0,y:Math.PI},l:{x:0,y:Math.PI/2},r:{x:0,y:-Math.PI/2},u:{x:Math.PI/2,y:0},d:{x:-Math.PI/2,y:0}},y=p.create();function _(t,e,n,r){e&&p.rotateZ(t,t,y,e),n&&p.rotateX(t,t,y,n),r&&p.rotateY(t,t,y,r)}for(var g={},b=0;b<"fudlrb".length;b++){var w="fudlrb"[b],x=v[w],E=p.fromValues(0,0,-1);_(E,0,x.x,x.y),g[w]=E}var M={f:["l","r","u","d"],b:["r","l","u","d"],l:["b","f","u","d"],r:["f","b","u","d"],u:["l","r","b","f"],d:["l","r","f","b"]},C=[[0,1],[1,0],[0,-1],[-1,0]];function O(t,e,n,r,i){this.face=t,this.x=e,this.y=n,this.z=r,this._geometry=i,this._level=i.levelList[r]}function T(t){if(this.constructor.super_.call(this,t),this._size=t.size,this._tileSize=t.tileSize,this._size%this._tileSize!==0)throw new Error("Level size is not multiple of tile size: "+this._size+" "+this._tileSize)}function S(t){if("array"!==f(t))throw new Error("Level list must be an array");this.levelList=u(t,T),this.selectableLevelList=c(this.levelList);for(var e=1;e<this.levelList.length;e++)this.levelList[e]._validateWithParentLevel(this.levelList[e-1]);this._tileSearcher=new o(this),this._neighborsCache=new a(m),this._vec=d.create(),this._viewSize={}}O.prototype.rotX=function(){return v[this.face].x},O.prototype.rotY=function(){return v[this.face].y},O.prototype.centerX=function(){return(this.x+.5)/this._level.numHorizontalTiles()-.5},O.prototype.centerY=function(){return.5-(this.y+.5)/this._level.numVerticalTiles()},O.prototype.scaleX=function(){return 1/this._level.numHorizontalTiles()},O.prototype.scaleY=function(){return 1/this._level.numVerticalTiles()},O.prototype.vertices=function(t){t||(t=[p.create(),p.create(),p.create(),p.create()]);var e=v[this.face];function n(t,n,r){p.set(t,n,r,-.5),_(t,0,e.x,e.y)}var r=this.centerX()-this.scaleX()/2,i=this.centerX()+this.scaleX()/2,o=this.centerY()-this.scaleY()/2,a=this.centerY()+this.scaleY()/2;return n(t[0],r,a),n(t[1],i,a),n(t[2],i,o),n(t[3],r,o),t},O.prototype.parent=function(){if(0===this.z)return null;var t=this.face,e=this.z,n=this.x,r=this.y,i=this._geometry,o=i.levelList[e],a=i.levelList[e-1];return new O(t,Math.floor(n/o.numHorizontalTiles()*a.numHorizontalTiles()),Math.floor(r/o.numVerticalTiles()*a.numVerticalTiles()),e-1,i)},O.prototype.children=function(t){if(this.z===this._geometry.levelList.length-1)return null;var e=this.face,n=this.z,r=this.x,i=this.y,o=this._geometry,a=o.levelList[n],s=o.levelList[n+1],u=s.numHorizontalTiles()/a.numHorizontalTiles(),c=s.numVerticalTiles()/a.numVerticalTiles();t=t||[];for(var l=0;l<u;l++)for(var h=0;h<c;h++){var f=u*r+l,p=c*i+h,d=n+1;t.push(new O(e,f,p,d,o))}return t},O.prototype.neighbors=function(){var t=this._geometry,e=t._neighborsCache,n=e.get(this);if(n)return n;for(var r=t._vec,i=this.face,o=this.x,a=this.y,s=this.z,u=this._level,c=u.numHorizontalTiles(),h=u.numVerticalTiles(),f=[],d=0;d<C.length;d++){var m=o+C[d][0],y=a+C[d][1],g=s,b=i;if(m<0||m>=c||y<0||y>=h){var w,x=this.centerX(),E=this.centerY();m<0?(p.set(r,-.5,E,-.5),b=M[i][0]):m>=c?(p.set(r,.5,E,-.5),b=M[i][1]):y<0?(p.set(r,x,.5,-.5),b=M[i][2]):y>=h&&(p.set(r,x,-.5,-.5),b=M[i][3]),_(r,0,(w=v[i]).x,w.y),_(r,0,-(w=v[b]).x,-w.y),m=l(Math.floor((.5+r[0])*c),0,c-1),y=l(Math.floor((.5-r[1])*h),0,h-1)}f.push(new O(b,m,y,g,t))}return e.set(this,f),f},O.prototype.hash=function(){return i("fudlrb".indexOf(this.face),this.z,this.y,this.x)},O.prototype.equals=function(t){return this._geometry===t._geometry&&this.face===t.face&&this.z===t.z&&this.y===t.y&&this.x===t.x},O.prototype.cmp=function(t){return h(this.z,t.z)||h("fudlrb".indexOf(this.face),"fudlrb".indexOf(t.face))||h(this.y,t.y)||h(this.x,t.x)},O.prototype.str=function(){return"CubeTile("+tile.face+", "+tile.x+", "+tile.y+", "+tile.z+")"},r(T,s),T.prototype.width=function(){return this._size},T.prototype.height=function(){return this._size},T.prototype.tileWidth=function(){return this._tileSize},T.prototype.tileHeight=function(){return this._tileSize},T.prototype._validateWithParentLevel=function(t){var e=this.width(),n=this.height(),r=this.tileWidth(),i=this.tileHeight(),o=this.numHorizontalTiles(),a=this.numVerticalTiles(),s=t.width(),u=t.height(),c=t.tileWidth(),l=t.tileHeight(),h=t.numHorizontalTiles(),f=t.numVerticalTiles();if(e%s!==0)throw new Error("Level width must be multiple of parent level: "+e+" vs. "+s);if(n%u!==0)throw new Error("Level height must be multiple of parent level: "+n+" vs. "+u);if(o%h!==0)throw new Error("Number of horizontal tiles must be multiple of parent level: "+o+" ("+e+"/"+r+") vs. "+h+" ("+s+"/"+c+")");if(a%f!==0)throw new Error("Number of vertical tiles must be multiple of parent level: "+a+" ("+n+"/"+i+") vs. "+f+" ("+u+"/"+l+")")},S.prototype.maxTileSize=function(){for(var t=0,e=0;e<this.levelList.length;e++){var n=this.levelList[e];t=Math.max(t,n.tileWidth,n.tileHeight)}return t},S.prototype.levelTiles=function(t,e){var n=this.levelList.indexOf(t),r=t.numHorizontalTiles()-1,i=t.numVerticalTiles()-1;e=e||[];for(var o=0;o<"fudlrb".length;o++)for(var a="fudlrb"[o],s=0;s<=r;s++)for(var u=0;u<=i;u++)e.push(new O(a,s,u,n,this));return e},S.prototype._closestTile=function(t,e){var n=this._vec;d.set(n,0,0,1,1),d.transformMat4(n,n,t.inverseProjection());var r=1/0,i=null;for(var o in g){var a=g[o],s=1-p.dot(a,n);s<r&&(r=s,i=o)}for(var u=Math.max(Math.abs(n[0]),Math.abs(n[1]),Math.abs(n[2]))/.5,c=0;c<3;c++)n[c]=n[c]/u;var h=v[i];_(n,0,-h.x,-h.y);var f=this.levelList.indexOf(e),m=e.numHorizontalTiles(),y=e.numVerticalTiles();return new O(i,l(Math.floor((.5+n[0])*m),0,m-1),l(Math.floor((.5-n[1])*y),0,y-1),f,this)},S.prototype.visibleTiles=function(t,e,n){var r=this._viewSize,i=this._tileSearcher;if(n=n||[],t.size(r),0===r.width||0===r.height)return n;var o=this._closestTile(t,e);if(!i.search(t,o,n))throw new Error("Starting tile is not visible");return n},S.Tile=S.prototype.Tile=O,S.type=S.prototype.type="cube",O.type=O.prototype.type="cube",t.exports=S},995:function(t,e,n){"use strict";var r=n(650),i=n(723),o=n(911),a=n(913),s=n(760),u=n(696).makeLevelList,c=n(696).makeSelectableLevelList,l=n(686),h=n(668),f=n(697),p=n(698),d=n(633).vec2,m=n(633).vec4,v=64,y=[[0,1],[1,0],[0,-1],[-1,0]];function _(t,e,n,r){this.x=t,this.y=e,this.z=n,this._geometry=r,this._level=r.levelList[n]}function g(t){this.constructor.super_.call(this,t),this._width=t.width,this._height=t.height,this._tileWidth=t.tileWidth,this._tileHeight=t.tileHeight}function b(t){if("array"!==p(t))throw new Error("Level list must be an array");this.levelList=u(t,g),this.selectableLevelList=c(this.levelList);for(var e=1;e<this.levelList.length;e++)this.levelList[e]._validateWithParentLevel(this.levelList[e-1]);this._tileSearcher=new o(this),this._neighborsCache=new a(v),this._vec=m.create(),this._viewSize={}}_.prototype.rotX=function(){return 0},_.prototype.rotY=function(){return 0},_.prototype.centerX=function(){var t=this._level.width(),e=this._level.tileWidth();return(this.x*e+.5*this.width())/t-.5},_.prototype.centerY=function(){var t=this._level.height(),e=this._level.tileHeight();return.5-(this.y*e+.5*this.height())/t},_.prototype.scaleX=function(){var t=this._level.width();return this.width()/t},_.prototype.scaleY=function(){var t=this._level.height();return this.height()/t},_.prototype.width=function(){var t=this._level.width(),e=this._level.tileWidth();return this.x===this._level.numHorizontalTiles()-1&&h(t,e)||e},_.prototype.height=function(){var t=this._level.height(),e=this._level.tileHeight();return this.y===this._level.numVerticalTiles()-1&&h(t,e)||e},_.prototype.levelWidth=function(){return this._level.width()},_.prototype.levelHeight=function(){return this._level.height()},_.prototype.vertices=function(t){t||(t=[d.create(),d.create(),d.create(),d.create()]);var e=this.centerX()-this.scaleX()/2,n=this.centerX()+this.scaleX()/2,r=this.centerY()-this.scaleY()/2,i=this.centerY()+this.scaleY()/2;return d.set(t[0],e,i),d.set(t[1],n,i),d.set(t[2],n,r),d.set(t[3],e,r),t},_.prototype.parent=function(){if(0===this.z)return null;var t=this._geometry,e=this.z-1;return new _(Math.floor(this.x/2),Math.floor(this.y/2),e,t)},_.prototype.children=function(t){if(this.z===this._geometry.levelList.length-1)return null;var e=this._geometry,n=this.z+1;return(t=t||[]).push(new _(2*this.x,2*this.y,n,e)),t.push(new _(2*this.x,2*this.y+1,n,e)),t.push(new _(2*this.x+1,2*this.y,n,e)),t.push(new _(2*this.x+1,2*this.y+1,n,e)),t},_.prototype.neighbors=function(){var t=this._geometry,e=t._neighborsCache,n=e.get(this);if(n)return n;for(var r=this.x,i=this.y,o=this.z,a=this._level,s=a.numHorizontalTiles()-1,u=a.numVerticalTiles()-1,c=[],l=0;l<y.length;l++){var h=r+y[l][0],f=i+y[l][1],p=o;0<=h&&h<=s&&0<=f&&f<=u&&c.push(new _(h,f,p,t))}return e.set(this,c),c},_.prototype.hash=function(){return i(this.z,this.y,this.x)},_.prototype.equals=function(t){return this._geometry===t._geometry&&this.z===t.z&&this.y===t.y&&this.x===t.x},_.prototype.cmp=function(t){return f(this.z,t.z)||f(this.y,t.y)||f(this.x,t.x)},_.prototype.str=function(){return"FlatTile("+tile.x+", "+tile.y+", "+tile.z+")"},r(g,s),g.prototype.width=function(){return this._width},g.prototype.height=function(){return this._height},g.prototype.tileWidth=function(){return this._tileWidth},g.prototype.tileHeight=function(){return this._tileHeight},g.prototype._validateWithParentLevel=function(t){var e=this.width(),n=this.height(),r=this.tileWidth(),i=this.tileHeight(),o=t.width(),a=t.height(),s=t.tileWidth(),u=t.tileHeight();return e%o!==0?new Error("Level width must be multiple of parent level: "+e+" vs. "+o):n%a!==0?new Error("Level height must be multiple of parent level: "+n+" vs. "+a):r%s!==0?new Error("Level tile width must be multiple of parent level: "+r+" vs. "+s):i%u!==0?new Error("Level tile height must be multiple of parent level: "+i+" vs. "+u):void 0},b.prototype.maxTileSize=function(){for(var t=0,e=0;e<this.levelList.length;e++){var n=this.levelList[e];t=Math.max(t,n.tileWidth,n.tileHeight)}return t},b.prototype.levelTiles=function(t,e){var n=this.levelList.indexOf(t),r=t.numHorizontalTiles()-1,i=t.numVerticalTiles()-1;e||(e=[]);for(var o=0;o<=r;o++)for(var a=0;a<=i;a++)e.push(new _(o,a,n,this));return e},b.prototype._closestTile=function(t,e){var n=this._vec;m.set(n,0,0,1,1),m.transformMat4(n,n,t.inverseProjection());var r=.5+n[0],i=.5-n[1],o=this.levelList.indexOf(e),a=e.width(),s=e.height(),u=e.tileWidth(),c=e.tileHeight(),h=e.numHorizontalTiles(),f=e.numVerticalTiles();return new _(l(Math.floor(r*a/u),0,h-1),l(Math.floor(i*s/c),0,f-1),o,this)},b.prototype.visibleTiles=function(t,e,n){var r=this._viewSize,i=this._tileSearcher;if(n=n||[],t.size(r),0===r.width||0===r.height)return n;var o=this._closestTile(t,e);if(!i.search(t,o,n))throw new Error("Starting tile is not visible");return n},b.Tile=b.prototype.Tile=_,b.type=b.prototype.type="flat",_.type=_.prototype.type="flat",t.exports=b},996:function(t,e,n){"use strict";var r=n(650),i=n(723),o=n(697),a=n(696),s=n(760),u=n(698);function c(t,e){this.z=t,this._geometry=e,this._level=e.levelList[t]}function l(t){this.constructor.super_.call(this,t),this._width=t.width}function h(t){if("array"!==u(t))throw new Error("Level list must be an array");this.levelList=a.makeLevelList(t,l),this.selectableLevelList=a.makeSelectableLevelList(this.levelList)}c.prototype.rotX=function(){return 0},c.prototype.rotY=function(){return 0},c.prototype.centerX=function(){return.5},c.prototype.centerY=function(){return.5},c.prototype.scaleX=function(){return 1},c.prototype.scaleY=function(){return 1},c.prototype.parent=function(){return 0===this.z?null:new c(this.z-1,this._geometry)},c.prototype.children=function(t){return this.z===this._geometry.levelList.length-1?null:((t=t||[]).push(new c(this.z+1,this._geometry)),t)},c.prototype.neighbors=function(){return[]},c.prototype.hash=function(){return i(this.z)},c.prototype.equals=function(t){return this._geometry===t._geometry&&this.z===t.z},c.prototype.cmp=function(t){return o(this.z,t.z)},c.prototype.str=function(){return"EquirectTile("+tile.z+")"},r(l,s),l.prototype.width=function(){return this._width},l.prototype.height=function(){return this._width/2},l.prototype.tileWidth=function(){return this._width},l.prototype.tileHeight=function(){return this._width/2},h.prototype.maxTileSize=function(){for(var t=0,e=0;e<this.levelList.length;e++){var n=this.levelList[e];t=Math.max(t,n.tileWidth,n.tileHeight)}return t},h.prototype.levelTiles=function(t,e){var n=this.levelList.indexOf(t);return(e=e||[]).push(new c(n,this)),e},h.prototype.visibleTiles=function(t,e,n){var r=new c(this.levelList.indexOf(e),this);(n=n||[]).length=0,n.push(r)},h.Tile=h.prototype.Tile=c,h.type=h.prototype.type="equirect",c.type=c.prototype.type="equirect",t.exports=h},997:function(t,e,n){"use strict";var r=n(627),i=n(633).mat4,o=n(633).vec4,a=n(722),s=n(914),u=n(668),c=n(761),l=n(686),h=n(762),f=n(915),p=n(626),d=0,m=0,v=0,y=0,_=0,g=Math.PI/4,b=0,w=0;function x(t,e){this._yaw=t&&null!=t.yaw?t.yaw:v,this._pitch=t&&null!=t.pitch?t.pitch:y,this._roll=t&&null!=t.roll?t.roll:_,this._fov=t&&null!=t.fov?t.fov:g,this._width=t&&null!=t.width?t.width:d,this._height=t&&null!=t.height?t.height:m,this._projectionCenterX=t&&null!=t.projectionCenterX?t.projectionCenterX:b,this._projectionCenterY=t&&null!=t.projectionCenterY?t.projectionCenterY:w,this._limiter=e||null,this._projMatrix=i.create(),this._invProjMatrix=i.create(),this._frustum=[o.create(),o.create(),o.create(),o.create(),o.create()],this._projectionChanged=!0,this._params={},this._fovs={},this._tmpVec=o.create(),this._update()}r(x),x.prototype.destroy=function(){p(this)},x.prototype.yaw=function(){return this._yaw},x.prototype.pitch=function(){return this._pitch},x.prototype.roll=function(){return this._roll},x.prototype.projectionCenterX=function(){return this._projectionCenterX},x.prototype.projectionCenterY=function(){return this._projectionCenterY},x.prototype.fov=function(){return this._fov},x.prototype.width=function(){return this._width},x.prototype.height=function(){return this._height},x.prototype.size=function(t){return(t=t||{}).width=this._width,t.height=this._height,t},x.prototype.parameters=function(t){return(t=t||{}).yaw=this._yaw,t.pitch=this._pitch,t.roll=this._roll,t.fov=this._fov,t},x.prototype.limiter=function(){return this._limiter},x.prototype.setYaw=function(t){this._resetParams(),this._params.yaw=t,this._update(this._params)},x.prototype.setPitch=function(t){this._resetParams(),this._params.pitch=t,this._update(this._params)},x.prototype.setRoll=function(t){this._resetParams(),this._params.roll=t,this._update(this._params)},x.prototype.setFov=function(t){this._resetParams(),this._params.fov=t,this._update(this._params)},x.prototype.setProjectionCenterX=function(t){this._resetParams(),this._params.projectionCenterX=t,this._update(this._params)},x.prototype.setProjectionCenterY=function(t){this._resetParams(),this._params.projectionCenterY=t,this._update(this._params)},x.prototype.offsetYaw=function(t){this.setYaw(this._yaw+t)},x.prototype.offsetPitch=function(t){this.setPitch(this._pitch+t)},x.prototype.offsetRoll=function(t){this.setRoll(this._roll+t)},x.prototype.offsetFov=function(t){this.setFov(this._fov+t)},x.prototype.setSize=function(t){this._resetParams(),this._params.width=t.width,this._params.height=t.height,this._update(this._params)},x.prototype.setParameters=function(t){this._resetParams(),this._params.yaw=t.yaw,this._params.pitch=t.pitch,this._params.roll=t.roll,this._params.fov=t.fov,this._params.projectionCenterX=t.projectionCenterX,this._params.projectionCenterY=t.projectionCenterY,this._update(this._params)},x.prototype.setLimiter=function(t){this._limiter=t||null,this._update()},x.prototype._resetParams=function(){var t=this._params;t.yaw=null,t.pitch=null,t.roll=null,t.fov=null,t.width=null,t.height=null},x.prototype._update=function(t){null==t&&(this._resetParams(),t=this._params);var e=this._yaw,n=this._pitch,r=this._roll,i=this._fov,o=this._projectionCenterX,a=this._projectionCenterY,s=this._width,u=this._height;if(t.yaw=null!=t.yaw?t.yaw:e,t.pitch=null!=t.pitch?t.pitch:n,t.roll=null!=t.roll?t.roll:r,t.fov=null!=t.fov?t.fov:i,t.width=null!=t.width?t.width:s,t.height=null!=t.height?t.height:u,t.projectionCenterX=null!=t.projectionCenterX?t.projectionCenterX:o,t.projectionCenterY=null!=t.projectionCenterY?t.projectionCenterY:a,this._limiter&&!(t=this._limiter(t)))throw new Error("Bad view limiter");var l=(t=this._normalize(t)).yaw,h=t.pitch,f=t.roll,p=t.fov,d=t.width,m=t.height,v=t.projectionCenterX,y=t.projectionCenterY;if(!c(l)||!c(h)||!c(f)||!c(p)||!c(d)||!c(m)||!c(v)||!c(y))throw new Error("Bad view - suspect a broken limiter");this._yaw=l,this._pitch=h,this._roll=f,this._fov=p,this._width=d,this._height=m,this._projectionCenterX=v,this._projectionCenterY=y,l===e&&h===n&&f===r&&p===i&&d===s&&m===u&&v===o&&y===a||(this._projectionChanged=!0,this.emit("change")),d===s&&m===u||this.emit("resize")},x.prototype._normalize=function(t){this._normalizeCoordinates(t);var e=s.htov(Math.PI,t.width,t.height),n=isNaN(e)?Math.PI:Math.min(Math.PI,e);return t.fov=l(t.fov,1e-6,n-1e-6),t},x.prototype._normalizeCoordinates=function(t){return"yaw"in t&&(t.yaw=u(t.yaw-Math.PI,-2*Math.PI)+Math.PI),"pitch"in t&&(t.pitch=u(t.pitch-Math.PI,-2*Math.PI)+Math.PI),"roll"in t&&(t.roll=u(t.roll-Math.PI,-2*Math.PI)+Math.PI),t},x.prototype.normalizeToClosest=function(t,e){var n=this._yaw,r=this._pitch,i=t.yaw,o=t.pitch,a=i-2*Math.PI,s=i+2*Math.PI;Math.abs(a-n)<Math.abs(i-n)?i=a:Math.abs(s-n)<Math.abs(i-n)&&(i=s);var u=o-2*Math.PI,c=o+2*Math.PI;return Math.abs(u-r)<Math.abs(o-r)?o=u:Math.abs(u-r)<Math.abs(o-r)&&(o=c),(e=e||{}).yaw=i,e.pitch=o,e},x.prototype.updateWithControlParameters=function(t){var e=this._fov,n=s.vtoh(e,this._width,this._height);isNaN(n)&&(n=e),this.offsetYaw(t.axisScaledX*n+2*t.x*n+t.yaw),this.offsetPitch(t.axisScaledY*e+2*t.y*n+t.pitch),this.offsetRoll(-t.roll),this.offsetFov(t.zoom*e)},x.prototype._updateProjection=function(){var t=this._projMatrix,e=this._invProjMatrix,n=this._frustum;if(this._projectionChanged){var r=this._width,o=this._height,a=this._fov,u=s.vtoh(a,r,o),c=r/o,l=this._projectionCenterX,h=this._projectionCenterY;if(0!==l||0!==h){var f=Math.atan(2*l*Math.tan(u/2)),p=Math.atan(2*h*Math.tan(a/2)),d=this._fovs;d.leftDegrees=180*(u/2+f)/Math.PI,d.rightDegrees=180*(u/2-f)/Math.PI,d.upDegrees=180*(a/2+p)/Math.PI,d.downDegrees=180*(a/2-p)/Math.PI,i.perspectiveFromFieldOfView(t,d,-1,1)}else i.perspective(t,a,c,-1,1);i.rotateZ(t,t,this._roll),i.rotateX(t,t,this._pitch),i.rotateY(t,t,this._yaw),i.invert(e,t),this._matrixToFrustum(t,n),this._projectionChanged=!1}},x.prototype._matrixToFrustum=function(t,e){o.set(e[0],t[3]+t[0],t[7]+t[4],t[11]+t[8],0),o.set(e[1],t[3]-t[0],t[7]-t[4],t[11]-t[8],0),o.set(e[2],t[3]+t[1],t[7]+t[5],t[11]+t[9],0),o.set(e[3],t[3]-t[1],t[7]-t[5],t[11]-t[9],0),o.set(e[4],t[3]+t[2],t[7]+t[6],t[11]+t[10],0)},x.prototype.projection=function(){return this._updateProjection(),this._projMatrix},x.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix},x.prototype.intersects=function(t){this._updateProjection();for(var e=this._frustum,n=this._tmpVec,r=0;r<e.length;r++){for(var i=e[r],a=!1,s=0;s<t.length;s++){var u=t[s];o.set(n,u[0],u[1],u[2],0),o.dot(i,n)>=0&&(a=!0)}if(!a)return!1}return!0},x.prototype.selectLevel=function(t){for(var e=a()*this._height,n=Math.tan(.5*this._fov),r=0;r<t.length;r++){var i=t[r];if(n*i.height()>=e)return i}return t[t.length-1]},x.prototype.coordinatesToScreen=function(t,e){var n=this._tmpVec;e||(e={});var r=this._width,i=this._height;if(r<=0||i<=0)return e.x=null,e.y=null,null;var a=t.yaw,s=t.pitch,u=Math.sin(a)*Math.cos(s),c=-Math.sin(s),l=-Math.cos(a)*Math.cos(s);return o.set(n,u,c,l,1),o.transformMat4(n,n,this.projection()),n[3]>=0?(e.x=r*(n[0]/n[3]+1)/2,e.y=i*(1-n[1]/n[3])/2,e):(e.x=null,e.y=null,null)},x.prototype.screenToCoordinates=function(t,e){var n=this._tmpVec;e||(e={});var r=this._width,i=this._height,a=2*t.x/r-1,s=1-2*t.y/i;o.set(n,a,s,1,1),o.transformMat4(n,n,this.inverseProjection());var u=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return e.yaw=Math.atan2(n[0],-n[2]),e.pitch=Math.acos(n[1]/u)-Math.PI/2,this._normalizeCoordinates(e),e},x.prototype.coordinatesToPerspectiveTransform=function(t,e,n){n=n||"";var r=this._height,i=this._width,o=this._fov,a=.5*r/Math.tan(o/2),s="";return s+="translateX("+h(i/2)+"px) ",s+="translateY("+h(r/2)+"px) ",s+="translateX(-50%) translateY(-50%) ",s+="perspective("+h(a)+"px) ",s+="translateZ("+h(a)+"px) ",s+="rotateZ("+h(-this._roll)+"rad) ",s+="rotateX("+h(-this._pitch)+"rad) ",s+="rotateY("+h(this._yaw)+"rad) ",s+="rotateY("+h(-t.yaw)+"rad) ",s+="rotateX("+h(t.pitch)+"rad) ",s+="translateZ("+h(-e)+"px) ",s+=n+" "},x.limit={yaw:function(t,e){return function(n){return n.yaw=l(n.yaw,t,e),n}},pitch:function(t,e){return function(n){return n.pitch=l(n.pitch,t,e),n}},roll:function(t,e){return function(n){return n.roll=l(n.roll,t,e),n}},hfov:function(t,e){return function(n){var r=n.width,i=n.height;if(r>0&&i>0){var o=s.htov(t,r,i),a=s.htov(e,r,i);n.fov=l(n.fov,o,a)}return n}},vfov:function(t,e){return function(n){return n.fov=l(n.fov,t,e),n}},resolution:function(t){return function(e){var n=e.height;if(n){var r=a()*n,i=2*Math.atan(r/t);e.fov=l(e.fov,i,1/0)}return e}},traditional:function(t,e,n){return n=null!=n?n:e,f(x.limit.resolution(t),x.limit.vfov(0,e),x.limit.hfov(0,n),x.limit.pitch(-Math.PI/2,Math.PI/2))}},x.type=x.prototype.type="rectilinear",t.exports=x},998:function(t,e,n){"use strict";var r=n(627),i=n(633).mat4,o=n(633).vec4,a=n(722),s=n(761),u=n(686),c=n(626),l=0,h=0,f=.5,p=.5,d=1,m=[1,0,1,0],v=[-1,-1,1,1];function y(t,e){if(!t||null==t.mediaAspectRatio)throw new Error("mediaAspectRatio must be defined");this._x=t&&null!=t.x?t.x:f,this._y=t&&null!=t.y?t.y:p,this._zoom=t&&null!=t.zoom?t.zoom:d,this._mediaAspectRatio=t.mediaAspectRatio,this._width=t&&null!=t.width?t.width:l,this._height=t&&null!=t.height?t.height:h,this._limiter=e||null,this._projMatrix=i.create(),this._invProjMatrix=i.create(),this._frustum=[0,0,0,0],this._projectionChanged=!0,this._params={},this._vec=o.create(),this._update()}r(y),y.prototype.destroy=function(){c(this)},y.prototype.x=function(){return this._x},y.prototype.y=function(){return this._y},y.prototype.zoom=function(){return this._zoom},y.prototype.mediaAspectRatio=function(){return this._mediaAspectRatio},y.prototype.width=function(){return this._width},y.prototype.height=function(){return this._height},y.prototype.size=function(t){return(t=t||{}).width=this._width,t.height=this._height,t},y.prototype.parameters=function(t){return(t=t||{}).x=this._x,t.y=this._y,t.zoom=this._zoom,t.mediaAspectRatio=this._mediaAspectRatio,t},y.prototype.limiter=function(){return this._limiter},y.prototype.setX=function(t){this._resetParams(),this._params.x=t,this._update(this._params)},y.prototype.setY=function(t){this._resetParams(),this._params.y=t,this._update(this._params)},y.prototype.setZoom=function(t){this._resetParams(),this._params.zoom=t,this._update(this._params)},y.prototype.offsetX=function(t){this.setX(this._x+t)},y.prototype.offsetY=function(t){this.setY(this._y+t)},y.prototype.offsetZoom=function(t){this.setZoom(this._zoom+t)},y.prototype.setMediaAspectRatio=function(t){this._resetParams(),this._params.mediaAspectRatio=t,this._update(this._params)},y.prototype.setSize=function(t){this._resetParams(),this._params.width=t.width,this._params.height=t.height,this._update(this._params)},y.prototype.setParameters=function(t){this._resetParams(),this._params.x=t.x,this._params.y=t.y,this._params.zoom=t.zoom,this._params.mediaAspectRatio=t.mediaAspectRatio,this._update(this._params)},y.prototype.setLimiter=function(t){this._limiter=t||null,this._update()},y.prototype._resetParams=function(){var t=this._params;t.x=null,t.y=null,t.zoom=null,t.mediaAspectRatio=null,t.width=null,t.height=null},y.prototype._update=function(t){null==t&&(this._resetParams(),t=this._params);var e=this._x,n=this._y,r=this._zoom,i=this._mediaAspectRatio,o=this._width,a=this._height;if(t.x=null!=t.x?t.x:e,t.y=null!=t.y?t.y:n,t.zoom=null!=t.zoom?t.zoom:r,t.mediaAspectRatio=null!=t.mediaAspectRatio?t.mediaAspectRatio:i,t.width=null!=t.width?t.width:o,t.height=null!=t.height?t.height:a,this._limiter&&!(t=this._limiter(t)))throw new Error("Bad view limiter");var c=t.x,l=t.y,h=t.zoom,f=t.mediaAspectRatio,p=t.width,d=t.height;if(!s(c)||!s(l)||!s(h)||!s(f)||!s(p)||!s(d))throw new Error("Bad view - suspect a broken limiter");h=u(h,1e-6,1/0),this._x=c,this._y=l,this._zoom=h,this._mediaAspectRatio=f,this._width=p,this._height=d,c===e&&l===n&&h===r&&f===i&&p===o&&d===a||(this._projectionChanged=!0,this.emit("change")),p===o&&d===a||this.emit("resize")},y.prototype._zoomX=function(){return this._zoom},y.prototype._zoomY=function(){var t=this._mediaAspectRatio,e=this._width/this._height,n=this._zoom,r=n*t/e;return isNaN(r)&&(r=n),r},y.prototype.updateWithControlParameters=function(t){var e=this.zoom(),n=this._zoomX(),r=this._zoomY();this.offsetX(t.axisScaledX*n+t.x*e),this.offsetY(t.axisScaledY*r+t.y*e),this.offsetZoom(t.zoom*e)},y.prototype._updateProjection=function(){var t=this._projMatrix,e=this._invProjMatrix,n=this._frustum;if(this._projectionChanged){var r=this._x,o=this._y,a=this._zoomX(),s=this._zoomY(),u=n[0]=.5-o+.5*s,c=n[1]=r-.5+.5*a,l=n[2]=.5-o-.5*s,h=n[3]=r-.5-.5*a;i.ortho(t,h,c,l,u,-1,1),i.invert(e,t),this._projectionChanged=!1}},y.prototype.projection=function(){return this._updateProjection(),this._projMatrix},y.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix},y.prototype.intersects=function(t){this._updateProjection();for(var e=this._frustum,n=0;n<e.length;n++){for(var r=e[n],i=m[n],o=v[n],a=!1,s=0;s<t.length;s++){var u=t[s];if(o<0&&u[i]<r||o>0&&u[i]>r){a=!0;break}}if(!a)return!1}return!0},y.prototype.selectLevel=function(t){for(var e=a()*this.width(),n=this._zoom,r=0;r<t.length;r++){var i=t[r];if(n*i.width()>=e)return i}return t[t.length-1]},y.prototype.coordinatesToScreen=function(t,e){var n=this._vec;e||(e={});var r=this._width,i=this._height;if(r<=0||i<=0)return e.x=null,e.y=null,null;var a=t&&null!=t.x?t.x:f,s=t&&null!=t.y?t.y:p;o.set(n,a-.5,.5-s,-1,1),o.transformMat4(n,n,this.projection());for(var u=0;u<3;u++)n[u]/=n[3];return e.x=r*(n[0]+1)/2,e.y=i*(1-n[1])/2,e},y.prototype.screenToCoordinates=function(t,e){var n=this._vec;e||(e={});var r=this._width,i=this._height,a=2*t.x/r-1,s=1-2*t.y/i;return o.set(n,a,s,1,1),o.transformMat4(n,n,this.inverseProjection()),e.x=.5+n[0],e.y=.5-n[1],e},y.limit={x:function(t,e){return function(n){return n.x=u(n.x,t,e),n}},y:function(t,e){return function(n){return n.y=u(n.y,t,e),n}},zoom:function(t,e){return function(n){return n.zoom=u(n.zoom,t,e),n}},resolution:function(t){return function(e){if(e.width<=0||e.height<=0)return e;var n=e.width,r=a()*n/t;return e.zoom=u(e.zoom,r,1/0),e}},visibleX:function(t,e){return function(n){var r=e-t;n.zoom>r&&(n.zoom=r);var i=t+.5*n.zoom,o=e-.5*n.zoom;return n.x=u(n.x,i,o),n}},visibleY:function(t,e){return function(n){if(n.width<=0||n.height<=0)return n;var r=n.width/n.height/n.mediaAspectRatio,i=(e-t)*r;n.zoom>i&&(n.zoom=i);var o=t+.5*n.zoom/r,a=e-.5*n.zoom/r;return n.y=u(n.y,o,a),n}},letterbox:function(){return function(t){if(t.width<=0||t.height<=0)return t;var e,n,r,i,o=t.width/t.height,a=o/t.mediaAspectRatio;return t.mediaAspectRatio>=o&&(t.zoom=Math.min(t.zoom,1)),t.mediaAspectRatio<=o&&(t.zoom=Math.min(t.zoom,a)),t.zoom>1?e=n=.5:(e=0+.5*t.zoom/1,n=1-.5*t.zoom/1),t.zoom>a?r=i=.5:(r=0+.5*t.zoom/a,i=1-.5*t.zoom/a),t.x=u(t.x,e,n),t.y=u(t.y,r,i),t}}},y.type=y.prototype.type="flat",t.exports=y},999:function(t,e,n){"use strict";var r=n(627),i=n(904),o=n(1e3),a=n(763),s=n(916),u=n(680),c={x:"x",y:"y",z:"z",f:"face"},l=4,h=1e4;function f(t,e){e=e||{},this._loadPool=new o({concurrency:e.concurrency||l}),this._retryDelay=e.retryDelay||h,this._retryMap={},this._sourceFromTile=t}function p(t){return new RegExp("\\{("+t+")\\}","g")}r(f),f.prototype.loadAsset=function(t,e,n){var r,o=this,c=this._retryDelay,l=this._retryMap,h=this._sourceFromTile(e),f=h.url,p=h.rect,d=t.loadImage.bind(t,f,p),m=l[f];if(null!=m){var v=u()-m;v<c?r=c-v:(r=0,delete l[f])}var y=s.bind(null,r);return a(y,(function(t){return o._loadPool.push(d,(function(n,r){n?(n instanceof i&&(l[f]=u(),o.emit("networkError",n,e)),t(n,e)):(delete l[f],t(null,e,r))}))}))(n)},f.fromString=function(t,e){var n=(e=e||{})&&e.cubeMapPreviewFaceOrder||"bdflru";return new f(e.cubeMapPreviewUrl?function(t){return 0===t.z?function(t){var r=n.indexOf(t.face)/6;return{url:e.cubeMapPreviewUrl,rect:{x:0,y:r,width:1,height:1/6}}}(t):r(t)}:r,e);function r(e){var n=t;for(var r in c){var i=c[r],o=p(r),a=e.hasOwnProperty(i)?e[i]:"";n=n.replace(o,a)}return{url:n}}},t.exports=f}}]);
//# sourceMappingURL=https://storage.cloud.google.com/smplrspace-sourcemaps-teamonly/22.2aca6aa8.chunk.js.map